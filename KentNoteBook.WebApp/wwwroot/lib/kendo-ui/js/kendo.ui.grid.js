!function(e,t){t("kendo.core.min",["jquery"],e)}(function(){return function(e,t,n){function i(){}function r(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),i=e.substring(1);return"="===n?"+("+i+")+":":"===n?"+$kendoHtmlEncode("+i+")+":";"+e+";$kendoOutput+="}function o(e,t,n){return e+="",t=t||2,n=t-e.length,n?W[t].substring(0,n)+e:e}function a(e){var t=e.css(_e.support.transitions.css+"box-shadow")||e.css("box-shadow"),n=t?t.match(Ie)||[0,0,0,0,0]:[0,0,0,0,0],i=xe.max(+n[3],+(n[4]||0));return{left:-n[1]+i,right:+n[1]+i,bottom:+n[2]+i}}function s(t,n){var i,r,o,a,s,l,c,d=Se.browser,u=_e._outerWidth,p=_e._outerHeight;return t.parent().hasClass("k-animation-container")?(l=t.parent(".k-animation-container"),c=l[0].style,l.is(":hidden")&&l.css({display:"",position:""}),(i=Te.test(c.width)||Te.test(c.height))||l.css({width:n?u(t)+1:u(t),height:p(t),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(r=t[0].style.width,o=t[0].style.height,a=Te.test(r),s=Te.test(o),i=a||s,!a&&(!n||n&&r)&&(r=n?u(t)+1:u(t)),!s&&(!n||n&&o)&&(o=p(t)),t.wrap(e("<div/>").addClass("k-animation-container").css({width:r,height:o})),i&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),d.msie&&xe.floor(d.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function l(e){var t=1,n=arguments.length;for(t=1;t<n;t++)c(e,arguments[t]);return e}function c(e,t){var n,i,r,o,a,s=_e.data.ObservableArray,l=_e.data.LazyObservableArray,d=_e.data.DataSource,u=_e.data.HierarchicalDataSource;for(n in t)i=t[n],r=typeof i,o=r===Ae&&null!==i?i.constructor:null,o&&o!==Array&&o!==s&&o!==l&&o!==d&&o!==u&&o!==RegExp?i instanceof Date?e[n]=new Date(i.getTime()):F(i.clone)?e[n]=i.clone():(a=e[n],e[n]=typeof a===Ae?a||{}:{},c(e[n],i)):r!==ze&&(e[n]=i);return e}function d(e,t,i){for(var r in t)if(t.hasOwnProperty(r)&&t[r].test(e))return r;return i!==n?i:e}function u(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function p(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function h(t,n){var i,r={};return document.defaultView&&document.defaultView.getComputedStyle?(i=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){r[t]=i.getPropertyValue(t)})):(i=t.currentStyle,n&&e.each(n,function(e,t){r[t]=i[p(t)]})),_e.size(r)||(r=i),r}function f(e){if(e&&e.className&&"string"==typeof e.className&&e.className.indexOf("k-auto-scrollable")>-1)return!0;var t=h(e,["overflow"]).overflow;return"auto"==t||"scroll"==t}function g(t,i){var r,o=Se.browser.webkit,a=Se.browser.mozilla,s=t instanceof e?t[0]:t;if(t)return r=Se.isRtl(t),i===n?r&&o?s.scrollWidth-s.clientWidth-s.scrollLeft:Math.abs(s.scrollLeft):(s.scrollLeft=r&&o?s.scrollWidth-s.clientWidth-i:r&&a?-i:i,n)}function m(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function _(e,n,i){var r,o,a;return n||(n="offset"),r=e[n](),o={top:r.top,right:r.right,bottom:r.bottom,left:r.left},Se.browser.msie&&(Se.pointers||Se.msPointers)&&!i&&(a=Se.isRtl(e)?1:-1,o.top-=t.pageYOffset-document.documentElement.scrollTop,o.left-=t.pageXOffset+a*document.documentElement.scrollLeft),o}function v(e){var t={};return be("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function b(e){return new _e.effects.Element(e)}function k(e,t,n,i){return typeof e===Me&&(F(t)&&(i=t,t=400,n=!1),F(n)&&(i=n,n=!1),typeof t===Oe&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:i}),ve({effects:{},duration:400,reverse:!1,init:ye,teardown:ye,hide:!1},e,{completeCallback:e.complete,complete:ye})}function w(t,n,i,r,o){for(var a,s=0,l=t.length;s<l;s++)(a=e(t[s])).queue(function(){U.promise(a,k(n,i,r,o))});return t}function y(e,t,n,i){return t&&(t=t.split(" "),be(t,function(t,n){e.toggleClass(n,i)})),e}function x(e){return(""+e).replace(j,"&amp;").replace($,"&lt;").replace(K,"&gt;").replace(G,"&quot;").replace(Y,"&#39;")}function C(e,t){var i;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(re,"-$1"),i=e.getAttribute("data-"+_e.ns+t),null===i?i=n:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:He.test(i)&&"mask"!=t?i=parseFloat(i):ne.test(i)&&!ie.test(i)&&(i=Function("return ("+i+")")()),i}function S(t,i,r){var o,a,s={};for(o in i)(a=C(t,o))!==n&&(te.test(o)&&("string"==typeof a?e("#"+a).length?a=_e.template(e("#"+a).html()):r&&(a=_e.template(r[a])):a=t.getAttribute(o)),s[o]=a);return s}function T(t,n){return e.contains(t,n)?-1:1}function D(){var t=e(this);return e.inArray(t.attr("data-"+_e.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible")}function I(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&H(e)}function H(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function E(e,t){return new E.fn.init(e,t)}var M,F,A,P,O,z,R,L,V,N,B,W,q,U,j,$,G,Y,K,Q,J,X,Z,ee,te,ne,ie,re,oe,ae,se,le,ce,de,ue,pe,he,fe,ge,me,_e=t.kendo=t.kendo||{cultures:{}},ve=e.extend,be=e.each,ke=e.isArray,we=e.proxy,ye=e.noop,xe=Math,Ce=t.JSON||{},Se={},Te=/%/,De=/\{(\d+)(:[^\}]+)?\}/g,Ie=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,He=/^(\+|-?)\d+(\.?)\d*$/,Ee="function",Me="string",Fe="number",Ae="object",Pe="null",Oe="boolean",ze="undefined",Re={},Le={},Ve=[].slice;_e.version="2018.2.620".replace(/^\s+|\s+$/g,""),i.extend=function(e){var t,n,i=function(){},r=this,o=e&&e.init?e.init:function(){r.apply(this,arguments)};i.prototype=r.prototype,n=o.fn=o.prototype=new i;for(t in e)n[t]=null!=e[t]&&e[t].constructor===Object?ve(!0,{},i.prototype[t],e[t]):e[t];return n.constructor=o,o.extend=r.extend,o},i.prototype._initOptions=function(e){this.options=l({},this.options,e)},F=_e.isFunction=function(e){return"function"==typeof e},A=function(){this._defaultPrevented=!0},P=function(){return!0===this._defaultPrevented},O=i.extend({init:function(){this._events={}},bind:function(e,t,i){var r,o,a,s,l=this,c=typeof e===Me?[e]:e,d=typeof t===Ee;if(t===n){for(r in e)l.bind(r,e[r]);return l}for(r=0,o=c.length;r<o;r++)e=c[r],(s=d?t:t[e])&&(i&&(a=s,s=function(){l.unbind(e,s),a.apply(l,arguments)},s.original=a),(l._events[e]=l._events[e]||[]).push(s));return l},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,i,r,o=this,a=typeof e===Me?[e]:e,s=typeof t===Ee;for(n=0,i=a.length;n<i;n++)e=a[n],(r=s?t:t[e])&&(o._events[e]=o._events[e]||[]).unshift(r);return o},trigger:function(e,t){var n,i,r=this,o=r._events[e];if(o){for((t=t||{}).sender=r,t._defaultPrevented=!1,t.preventDefault=A,t.isDefaultPrevented=P,n=0,i=(o=o.slice()).length;n<i;n++)o[n].call(r,t);return!0===t._defaultPrevented}return!1},unbind:function(e,t){var i,r=this,o=r._events[e];if(e===n)r._events={};else if(o)if(t)for(i=o.length-1;i>=0;i--)o[i]!==t&&o[i].original!==t||o.splice(i,1);else r._events[e]=[];return r}}),z=/^\w+/,R=/\$\{([^}]*)\}/g,L=/\\\}/g,V=/__CURLY__/g,N=/\\#/g,B=/__SHARP__/g,W=["","0","00","000","0000"],M={paramName:"data",useWithBlock:!0,render:function(e,t){var n,i,r="";for(n=0,i=t.length;n<i;n++)r+=e(t[n]);return r},compile:function(e,t){var n,i,o,a=ve({},this,t),s=a.paramName,l=s.match(z)[0],c=a.useWithBlock,d="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(F(e))return e;for(d+=c?"with("+s+"){":"",d+="$kendoOutput=",i=e.replace(L,"__CURLY__").replace(R,"#=$kendoHtmlEncode($1)#").replace(V,"}").replace(N,"__SHARP__").split("#"),o=0;o<i.length;o++)d+=r(i[o],o%2==0);d+=c?";}":";",d=(d+="return $kendoOutput;").replace(B,"#");try{return n=Function(l,d),n._slotCount=Math.floor(i.length/2),n}catch(t){throw Error(_e.format("Invalid template:'{0}' Generated code:'{1}'",e,d))}}},function(){function e(e){return a.lastIndex=0,a.test(e)?'"'+e.replace(a,function(e){var t=s[e];return typeof t===Me?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(o,a){var s,c,d,u,p,h,f=n,g=a[o];if(g&&typeof g===Ae&&typeof g.toJSON===Ee&&(g=g.toJSON(o)),typeof r===Ee&&(g=r.call(a,o,g)),(h=typeof g)===Me)return e(g);if(h===Fe)return isFinite(g)?g+"":Pe;if(h===Oe||h===Pe)return g+"";if(h===Ae){if(!g)return Pe;if(n+=i,p=[],"[object Array]"===l.apply(g)){for(u=g.length,s=0;s<u;s++)p[s]=t(s,g)||Pe;return d=0===p.length?"[]":n?"[\n"+n+p.join(",\n"+n)+"\n"+f+"]":"["+p.join(",")+"]",n=f,d}if(r&&typeof r===Ae)for(u=r.length,s=0;s<u;s++)typeof r[s]===Me&&(c=r[s],(d=t(c,g))&&p.push(e(c)+(n?": ":":")+d));else for(c in g)Object.hasOwnProperty.call(g,c)&&(d=t(c,g))&&p.push(e(c)+(n?": ":":")+d);return d=0===p.length?"{}":n?"{\n"+n+p.join(",\n"+n)+"\n"+f+"}":"{"+p.join(",")+"}",n=f,d}}var n,i,r,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l={}.toString;typeof Date.prototype.toJSON!==Ee&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?o(e.getUTCFullYear(),4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof Ce.stringify!==Ee&&(Ce.stringify=function(e,o,a){var s;if(n="",i="",typeof a===Fe)for(s=0;s<a;s+=1)i+=" ";else typeof a===Me&&(i=a);if(r=o,o&&typeof o!==Ee&&(typeof o!==Ae||typeof o.length!==Fe))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function t(e){if(e){if(e.numberFormat)return e;if(typeof e===Me){var t=_e.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function i(e){return e&&(e=t(e)),e||_e.cultures.current}function r(e,t,r){var a=(r=i(r)).calendars.standard,s=a.days,l=a.months;return(t=a.patterns[t]||t).replace(d,function(t){var i,r,c;return"d"===t?r=e.getDate():"dd"===t?r=o(e.getDate()):"ddd"===t?r=s.namesAbbr[e.getDay()]:"dddd"===t?r=s.names[e.getDay()]:"M"===t?r=e.getMonth()+1:"MM"===t?r=o(e.getMonth()+1):"MMM"===t?r=l.namesAbbr[e.getMonth()]:"MMMM"===t?r=l.names[e.getMonth()]:"yy"===t?r=o(e.getFullYear()%100):"yyyy"===t?r=o(e.getFullYear(),4):"h"===t?r=e.getHours()%12||12:"hh"===t?r=o(e.getHours()%12||12):"H"===t?r=e.getHours():"HH"===t?r=o(e.getHours()):"m"===t?r=e.getMinutes():"mm"===t?r=o(e.getMinutes()):"s"===t?r=e.getSeconds():"ss"===t?r=o(e.getSeconds()):"f"===t?r=xe.floor(e.getMilliseconds()/100):"ff"===t?((r=e.getMilliseconds())>99&&(r=xe.floor(r/10)),r=o(r)):"fff"===t?r=o(e.getMilliseconds(),3):"tt"===t?r=e.getHours()<12?a.AM[0]:a.PM[0]:"zzz"===t?(i=e.getTimezoneOffset(),c=i<0,r=(""+xe.abs(i/60)).split(".")[0],i=xe.abs(i)-60*r,r=(c?"+":"-")+o(r),r+=":"+o(i)):"zz"!==t&&"z"!==t||(r=e.getTimezoneOffset()/60,c=r<0,r=(""+xe.abs(r)).split(".")[0],r=(c?"+":"-")+("zz"===t?o(r):r)),r!==n?r:t.slice(1,t.length-1)})}function a(e,t,r){var o,a,c,d,k,w,y,x,C,S,T,D,I,H,E,M,F,A,P,O,z,R=(r=i(r)).numberFormat,L=R[g],V=R.decimals,N=R.pattern[0],B=[],W=e<0,q=f,U=f,j=-1;if(e===n)return f;if(!isFinite(e))return e;if(!t)return r.name.length?e.toLocaleString():""+e;if(k=u.exec(t)){if(t=k[1].toLowerCase(),a="c"===t,c="p"===t,(a||c)&&(R=a?R.currency:R.percent,L=R[g],V=R.decimals,o=R.symbol,N=R.pattern[W?0:1]),(d=k[2])&&(V=+d),"e"===t)return d?e.toExponential(V):e.toExponential();if(c&&(e*=100),e=l(e,V),W=e<0,e=e.split(g),w=e[0],y=e[1],W&&(w=w.substring(1)),U=s(w,0,w.length,R),y&&(U+=L+y),"n"===t&&!W)return U;for(e=f,C=0,S=N.length;C<S;C++)T=N.charAt(C),e+="n"===T?U:"$"===T||"%"===T?o:T;return e}if((t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1)&&(t=t.replace(p,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return B.push(n),b})),t=t.split(";"),W&&t[1])t=t[1],I=!0;else if(0===e){if(-1==(t=t[2]||t[0]).indexOf(_)&&-1==t.indexOf(v))return t}else t=t[0];if(P=t.indexOf("%"),O=t.indexOf("$"),c=-1!=P,a=-1!=O,c&&(e*=100),a&&"\\"===t[O-1]&&(t=t.split("\\").join(""),a=!1),(a||c)&&(R=a?R.currency:R.percent,L=R[g],V=R.decimals,o=R.symbol),(D=t.indexOf(m)>-1)&&(t=t.replace(h,f)),H=t.indexOf(g),S=t.length,-1!=H&&(y=(""+e).split("e"),y=y[1]?l(e,Math.abs(y[1])):y[0],y=y.split(g)[1]||f,M=t.lastIndexOf(v)-H,E=t.lastIndexOf(_)-H,F=M>-1,A=E>-1,C=y.length,F||A||(t=t.substring(0,H)+t.substring(H+1),S=t.length,H=-1,C=0),F&&M>E?C=M:E>M&&(A&&C>E?C=E:F&&C<M&&(C=M))),e=l(e,C,W),E=t.indexOf(_),M=t.indexOf(v),j=-1==E&&-1!=M?M:-1!=E&&-1==M?E:E>M?M:E,E=t.lastIndexOf(_),M=t.lastIndexOf(v),z=-1==E&&-1!=M?M:-1!=E&&-1==M?E:E>M?E:M,j==S&&(z=j),-1!=j){for(w=(U=(""+e).split(g))[0],y=U[1]||f,x=w.length,y.length,W&&-1*e>=0&&(W=!1),e=t.substring(0,j),W&&!I&&(e+="-"),C=j;C<S;C++){if(T=t.charAt(C),-1==H){if(z-C<x){e+=w;break}}else if(-1!=M&&M<C&&(q=f),H-C<=x&&H-C>-1&&(e+=w,C=H),H===C){e+=(y?L:f)+y,C+=z-H+1;continue}T===v?(e+=T,q=T):T===_&&(e+=q)}if(D&&(e=s(e,j+(W&&!I?1:0),Math.max(z,x+j),R)),z>=j&&(e+=t.substring(z+1)),a||c){for(U=f,C=0,S=e.length;C<S;C++)T=e.charAt(C),U+="$"===T||"%"===T?o:T;e=U}if(S=B.length)for(C=0;C<S;C++)e=e.replace(b,B[C])}return e}var s,l,c,d=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,u=/^(n|c|p|e)(\d*)$/i,p=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,h=/\,/g,f="",g=".",m=",",_="#",v="0",b="??",k="en-US",w={}.toString;_e.cultures["en-US"]={name:k,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},_e.culture=function(e){var i,r=_e.cultures;return e===n?r.current:(i=t(e)||r[k],i.calendar=i.calendars.standard,r.current=i,n)},_e.findCulture=t,_e.getCulture=i,_e.culture(k),s=function(e,t,i,r){var o,a,s,l,c,d,u=e.indexOf(r[g]),p=r.groupSize.slice(),h=p.shift();if(i=-1!==u?u:i+1,o=e.substring(t,i),(a=o.length)>=h){for(s=a,l=[];s>-1;)if((c=o.substring(s-h,s))&&l.push(c),s-=h,d=p.shift(),0===(h=d!==n?d:h)){s>0&&l.push(o.substring(0,s));break}o=l.reverse().join(r[m]),e=e.substring(0,t)+o+e.substring(i)}return e},l=function(e,t,n){return t=t||0,e=(""+e).split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),n&&(e=-e),e=(""+e).split("e"),(e=+(e[0]+"e"+(e[1]?+e[1]-t:-t))).toFixed(Math.min(t,20))},c=function(e,t,i){if(t){if("[object Date]"===w.call(e))return r(e,t,i);if(typeof e===Fe)return a(e,t,i)}return e!==n?e:""},_e.format=function(e){var t=arguments;return e.replace(De,function(e,n,i){var r=t[parseInt(n,10)+1];return c(r,i?i.substring(1):"")})},_e._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},_e._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},_e._round=l,_e._outerWidth=function(t,n){return e(t).outerWidth(n||!1)||0},_e._outerHeight=function(t,n){return e(t).outerHeight(n||!1)||0},_e.toString=c}(),function(){function t(e,t,n){return!(e>=t&&e<=n)}function i(e){return e.charAt(0)}function r(t){return e.map(t,i)}function o(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function a(e){for(var t=0,n=e.length,i=[];t<n;t++)i[t]=(e[t]+"").toLowerCase();return i}function s(e){var t,n={};for(t in e)n[t]=a(e[t]);return n}function l(e,i,a,l){if(!e)return null;var c,d,u,p,h,m,_,v,b,w,y,x,C,S=function(e){for(var t=0;i[R]===e;)t++,R++;return t>0&&(R-=1),t},T=function(t){var n=k[t]||RegExp("^\\d{1,"+t+"}"),i=e.substr(L,t).match(n);return i?(i=i[0],L+=i.length,parseInt(i,10)):null},D=function(t,n){for(var i,r,o,a=0,s=t.length,l=0,c=0;a<s;a++)i=t[a],r=i.length,o=e.substr(L,r),n&&(o=o.toLowerCase()),o==i&&r>l&&(l=r,c=a);return l?(L+=l,c+1):null},I=function(){var t=!1;return e.charAt(L)===i[R]&&(L++,t=!0),t},H=a.calendars.standard,E=null,M=null,F=null,A=null,P=null,O=null,z=null,R=0,L=0,V=!1,N=new Date,B=H.twoDigitYearMax||2029,W=N.getFullYear();for(i||(i="d"),(p=H.patterns[i])&&(i=p),u=(i=i.split("")).length;R<u;R++)if(c=i[R],V)"'"===c?V=!1:I();else if("d"===c){if(d=S("d"),H._lowerDays||(H._lowerDays=s(H.days)),null!==F&&d>2)continue;if(null===(F=d<3?T(2):D(H._lowerDays[3==d?"namesAbbr":"names"],!0))||t(F,1,31))return null}else if("M"===c){if(d=S("M"),H._lowerMonths||(H._lowerMonths=s(H.months)),null===(M=d<3?T(2):D(H._lowerMonths[3==d?"namesAbbr":"names"],!0))||t(M,1,12))return null;M-=1}else if("y"===c){if(d=S("y"),null===(E=T(d)))return null;2==d&&("string"==typeof B&&(B=W+parseInt(B,10)),(E=W-W%100+E)>B&&(E-=100))}else if("h"===c){if(S("h"),12==(A=T(2))&&(A=0),null===A||t(A,0,11))return null}else if("H"===c){if(S("H"),null===(A=T(2))||t(A,0,23))return null}else if("m"===c){if(S("m"),null===(P=T(2))||t(P,0,59))return null}else if("s"===c){if(S("s"),null===(O=T(2))||t(O,0,59))return null}else if("f"===c){if(d=S("f"),C=e.substr(L,d).match(k[3]),null!==(z=T(d))&&(z=parseFloat("0."+C[0],10),z=_e._round(z,3),z*=1e3),null===z||t(z,0,999))return null}else if("t"===c){if(d=S("t"),v=H.AM,b=H.PM,1===d&&(v=r(v),b=r(b)),!(h=D(b))&&!D(v))return null}else if("z"===c){if(m=!0,d=S("z"),"Z"===e.substr(L,1)){I();continue}if(!(_=e.substr(L,6).match(d>2?g:f)))return null;if(_=_[0].split(":"),w=_[0],!(y=_[1])&&w.length>3&&(L=w.length-2,y=w.substring(L),w=w.substring(0,L)),w=parseInt(w,10),t(w,-12,13))return null;if(d>2&&(y=_[0][0]+y,y=parseInt(y,10),isNaN(y)||t(y,-59,59)))return null}else if("'"===c)V=!0,I();else if(!I())return null;return l&&!/^\s*$/.test(e.substr(L))?null:(x=null!==A||null!==P||O||null,null===E&&null===M&&null===F&&x?(E=W,M=N.getMonth(),F=N.getDate()):(null===E&&(E=W),null===F&&(F=1)),h&&A<12&&(A+=12),m?(w&&(A+=-w),y&&(P+=-y),e=new Date(Date.UTC(E,M,F,A,P,O,z))):(e=new Date(E,M,F,A,P,O,z),o(e,A)),E<100&&e.setFullYear(E),e.getDate()!==F&&m===n?null:e)}function c(e){var t="-"===e.substr(0,1)?-1:1;return e=e.substring(1),e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),t*e}function d(e){var t,n,i,r=xe.max(v.length,b.length),o=e.calendar.patterns,a=[];for(i=0;i<r;i++){for(t=v[i],n=0;n<t.length;n++)a.push(o[t[n]]);a=a.concat(b[i])}return a}function u(e,t,n,i){var r,o,a,s;if("[object Date]"===w.call(e))return e;if(r=0,o=null,e&&0===e.indexOf("/D")&&(o=m.exec(e)))return o=o[1],s=_.exec(o.substring(1)),o=new Date(parseInt(o,10)),s&&(s=c(s[0]),o=_e.timezone.apply(o,0),o=_e.timezone.convert(o,0,-1*s)),o;for(n=_e.getCulture(n),t||(t=d(n)),a=(t=ke(t)?t:[t]).length;r<a;r++)if(o=l(e,t[r],n,i))return o;return o}var p=/\u00A0/g,h=/[eE][\-+]?[0-9]+/,f=/[+|\-]\d{1,2}/,g=/[+|\-]\d{1,2}:?\d{2}/,m=/^\/Date\((.*?)\)\/$/,_=/[+-]\d*/,v=[[],["G","g","F"],["D","d","y","m","T","t"]],b=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],k={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},w={}.toString;_e.parseDate=function(e,t,n){return u(e,t,n,!1)},_e.parseExactDate=function(e,t,n){return u(e,t,n,!0)},_e.parseInt=function(e,t){var n=_e.parseFloat(e,t);return n&&(n|=0),n},_e.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===Fe)return e;e=""+e;var i,r,o=(t=_e.getCulture(t)).numberFormat,a=o.percent,s=o.currency,l=s.symbol,c=a.symbol,d=e.indexOf("-");return h.test(e)?(e=parseFloat(e.replace(o["."],".")),isNaN(e)&&(e=null),e):d>0?null:(d=d>-1,e.indexOf(l)>-1||n&&n.toLowerCase().indexOf("c")>-1?(o=s,i=o.pattern[0].replace("$",l).split("n"),e.indexOf(i[0])>-1&&e.indexOf(i[1])>-1&&(e=e.replace(i[0],"").replace(i[1],""),d=!0)):e.indexOf(c)>-1&&(r=!0,o=a,l=c),e=e.replace("-","").replace(l,"").replace(p," ").split(o[","].replace(p," ")).join("").replace(o["."],"."),e=parseFloat(e),isNaN(e)?e=null:d&&(e*=-1),e&&r&&(e/=100),e)}}(),function(){var i,r,o,a,s,l,c,u,p,h;Se._scrollbar=n,Se.scrollbar=function(e){if(isNaN(Se._scrollbar)||e){var t,n=document.createElement("div");return n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),Se._scrollbar=t=n.offsetWidth-n.scrollWidth,document.body.removeChild(n),t}return Se._scrollbar},Se.isRtl=function(t){return e(t).closest(".k-rtl").length>0},i=document.createElement("table");try{i.innerHTML="<tr><td></td></tr>",Se.tbodyInnerHtml=!0}catch(e){Se.tbodyInnerHtml=!1}Se.touch="ontouchstart"in t,r=document.documentElement.style,o=Se.transitions=!1,a=Se.transforms=!1,s="HTMLElement"in t?HTMLElement.prototype:[],Se.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in r||"msPerspective"in r,Se.cssFlexbox="flexWrap"in r||"WebkitFlexWrap"in r||"msFlexWrap"in r,be(["Moz","webkit","O","ms"],function(){var e,t=""+this,n=typeof i.style[t+"Transition"]===Me;if(n||typeof i.style[t+"Transform"]===Me)return e=t.toLowerCase(),a={css:"ms"!=e?"-"+e+"-":"",prefix:t,event:"o"===e||"webkit"===e?e:""},n&&(o=a,o.event=o.event?o.event+"TransitionEnd":"transitionend"),!1}),i=null,Se.transforms=a,Se.transitions=o,Se.devicePixelRatio=t.devicePixelRatio===n?1:t.devicePixelRatio;try{Se.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth,Se.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(e){Se.screenWidth=t.screen.availWidth,Se.screenHeight=t.screen.availHeight}Se.detectOS=function(e){var n,i,r=!1,o=[],a=!/mobile safari/i.test(e),s={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},l={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},c={tablet:/playbook|ipad|fire/i},u={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(i in s)if(s.hasOwnProperty(i)&&(o=e.match(s[i]))){if("windows"==i&&"plugins"in navigator)return!1;(r={}).device=i,r.tablet=d(i,c,!1),r.browser=d(e,u,"default"),r.name=d(i,l),r[r.name]=!0,r.majorVersion=o[2],r.minorVersion=o[3].replace("_","."),n=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+n+Array(3-(n.length<3?n.length:2)).join("0"),r.cordova=typeof t.PhoneGap!==ze||typeof t.cordova!==ze,r.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||r.cordova,r.android&&(Se.devicePixelRatio<1.5&&r.flatVersion<400||a)&&(Se.screenWidth>800||Se.screenHeight>800)&&(r.tablet=i);break}return r},l=Se.mobileOS=Se.detectOS(navigator.userAgent),Se.wpDevicePixelRatio=l.wp?screen.width/320:0,Se.hasNativeScrolling=!1,(l.ios||l.android&&l.majorVersion>2||l.wp)&&(Se.hasNativeScrolling=l),Se.delayedClick=function(){if(Se.touch){if(l.ios)return!0;if(l.android)return!Se.browser.chrome||!(Se.browser.version<32)&&!(e("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},Se.mouseAndTouchPresent=Se.touch&&!(Se.mobileOS.ios||Se.mobileOS.android),Se.detectBrowser=function(e){var t,n=!1,i=[],r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in r)if(r.hasOwnProperty(t)&&(i=e.match(r[t]))){(n={})[t]=!0,n[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||i[2],10);break}return n},Se.browser=Se.detectBrowser(navigator.userAgent),Se.detectClipboardAccess=function(){var e={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return Se.browser.chrome&&(e.paste=!1,Se.browser.version>=43&&(e.copy=!0,e.cut=!0)),e},Se.clipboard=Se.detectClipboardAccess(),Se.zoomLevel=function(){var e,n,i;try{return e=Se.browser,n=0,i=document.documentElement,e.msie&&11==e.version&&i.scrollHeight>i.clientHeight&&!Se.touch&&(n=Se.scrollbar()),Se.touch?i.clientWidth/t.innerWidth:e.msie&&e.version>=10?((top||t).document.documentElement.offsetWidth+n)/(top||t).innerWidth:1}catch(e){return 1}},Se.cssBorderSpacing=n!==r.borderSpacing&&!(Se.browser.msie&&Se.browser.version<8),function(t){var n="",i=e(document.documentElement),r=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera?n="opera":t.edge&&(n="edge"),n&&(n="k-"+n+" k-"+n+r),Se.mobileOS&&(n+=" k-mobile"),Se.cssFlexbox||(n+=" k-no-flexbox"),i.addClass(n)}(Se.browser),Se.eventCapture=document.documentElement.addEventListener,c=document.createElement("input"),Se.placeholder="placeholder"in c,Se.propertyChangeEvent="onpropertychange"in c,Se.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],n=t.length,i="test",r={},o=0;o<n;o++)e=t[o],c.setAttribute("type",e),c.value=i,r[e.replace("-","")]="text"!==c.type&&c.value!==i;return r}(),c.style.cssText="float:left;",Se.cssFloat=!!c.style.cssFloat,c=null,Se.stableSort=function(){var e,t=[{index:0,field:"b"}];for(e=1;e<513;e++)t.push({index:e,field:"a"});return t.sort(function(e,t){return e.field>t.field?1:e.field<t.field?-1:0}),1===t[0].index}(),Se.matchesSelector=s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.matchesSelector||s.matches||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),i=n.length;i--;)if(n[i]==this)return!0;return!1},Se.pushState=t.history&&t.history.pushState,u=document.documentMode,Se.hashChange="onhashchange"in t&&!(Se.browser.msie&&(!u||u<=8)),Se.customElements="registerElement"in t.document,p=Se.browser.chrome,h=Se.browser.mozilla,Se.msPointers=!p&&t.MSPointerEvent,Se.pointers=!p&&!h&&t.PointerEvent,Se.kineticScrollNeeded=l&&(Se.touch||Se.msPointers||Se.pointers)}(),q={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}},U={},e.extend(U,{enabled:!0,Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),U.promiseShim=U.promise,"kendoAnimate"in e.fn||ve(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,i){return w(this,e,t,n,i)},kendoAddClass:function(e,t){return _e.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return _e.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return _e.toggleClass(this,e,t,n)}}),j=/&/g,$=/</g,G=/"/g,Y=/'/g,K=/>/g,Q=function(e){return e.target},Se.touch&&(Q=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},be(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),Se.touch?Se.mobileOS?(Se.mousedown="touchstart",Se.mouseup="touchend",Se.mousemove="touchmove",Se.mousecancel="touchcancel",Se.click="touchend",Se.resize="orientationchange"):(Se.mousedown="mousedown touchstart",Se.mouseup="mouseup touchend",Se.mousemove="mousemove touchmove",Se.mousecancel="mouseleave touchcancel",Se.click="click",Se.resize="resize"):Se.pointers?(Se.mousemove="pointermove",Se.mousedown="pointerdown",Se.mouseup="pointerup",Se.mousecancel="pointercancel",Se.click="pointerup",Se.resize="orientationchange resize"):Se.msPointers?(Se.mousemove="MSPointerMove",Se.mousedown="MSPointerDown",Se.mouseup="MSPointerUp",Se.mousecancel="MSPointerCancel",Se.click="MSPointerUp",Se.resize="orientationchange resize"):(Se.mousemove="mousemove",Se.mousedown="mousedown",Se.mouseup="mouseup",Se.mousecancel="mouseleave",Se.click="click",Se.resize="resize"),J=function(e,t){var n,i,r,o,a=t||"d",s=1;for(i=0,r=e.length;i<r;i++)""!==(o=e[i])&&(0!==(n=o.indexOf("["))&&(-1==n?o="."+o:(s++,o="."+o.substring(0,n)+" || {})"+o.substring(n))),s++,a+=o+(i<r-1?" || {})":")"));return Array(s).join("(")+a},X=/^([a-z]+:)?\/\//i,ve(_e,{widgets:[],_widgetRegisteredCallbacks:[],ui:_e.ui||{},fx:_e.fx||b,effects:_e.effects||U,mobile:_e.mobile||{},data:_e.data||{},dataviz:_e.dataviz||{},drawing:_e.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:_e.support||Se,animate:_e.animate||w,ns:"",attr:function(e){return"data-"+_e.ns+e},getShadows:a,wrap:s,deepExtend:l,getComputedStyles:h,webComponents:_e.webComponents||[],isScrollable:f,scrollLeft:g,size:m,toCamelCase:p,toHyphens:u,getOffset:_e.getOffset||_,parseEffects:_e.parseEffects||v,toggleClass:_e.toggleClass||y,directions:_e.directions||q,Observable:O,Class:i,Template:M,template:we(M.compile,M),render:we(M.render,M),stringify:we(Ce.stringify,Ce),eventTarget:Q,htmlEncode:x,isLocalUrl:function(e){return e&&!X.test(e)},expr:function(e,t,n){return e=e||"",typeof t==Me&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),t?(e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),e=e.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),e=J(e.split("."),n),e=e.replace(/_\$DOT\$_/g,".")):e=n+e,e},getter:function(e,t){var n=e+t;return Re[n]=Re[n]||Function("d","return "+_e.expr(e,t))},setter:function(e){return Le[e]=Le[e]||Function("d,value",_e.expr(e)+"=value")},accessor:function(e){return{get:_e.getter(e),set:_e.setter(e)}},guid:function(){var e,t,n="";for(e=0;e<32;e++)t=16*xe.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+_e.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t,n=e.split(" ");if(n)for(t=0;t<n.length;t++)"view"!=n[t]&&(n[t]=n[t].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return n.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(e){for(var t=0,n=_e.widgets.length;t<n;t++)e(_e.widgets[t]);_e._widgetRegisteredCallbacks.push(e)},logToConsole:function(e,i){var r=t.console;!_e.suppressLog&&n!==r&&r.log&&r[i||"log"](e)}}),ee=(Z=O.extend({init:function(e,t){var n,i=this;i.element=_e.jQuery(e).handler(i),i.angular("init",t),O.fn.init.call(i),(n=t?t.dataSource:null)&&(t=ve({},t,{dataSource:{}})),t=i.options=ve(!0,{},i.options,t),n&&(t.dataSource=n),i.element.attr(_e.attr("role"))||i.element.attr(_e.attr("role"),(t.name||"").toLowerCase()),i.element.data("kendo"+t.prefix+t.name,i),i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",i=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(i)?0:i)},setOptions:function(t){this._setEvents(t),e.extend(this.options,t)},_setEvents:function(e){for(var t,n=this,i=0,r=n.events.length;i<r;i++)t=n.events[i],n.options[t]&&e[t]&&n.unbind(t,n.options[t]);n.bind(n.events,e)},resize:function(e){var t=this.getSize(),n=this._size;(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this._size=t,this._resize(t,e),this.trigger("resize",t))},getSize:function(){return _e.dimensions(this.element)},size:function(e){return e?(this.setSize(e),n):this.getSize()},setSize:e.noop,_resize:e.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(e){this._muteRebind=!0,e.call(this),this._muteRebind=!1}})).extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var n=this;n.angular(t,function(){return{elements:n.items(),data:e.map(n.dataItems(),function(e){return{dataItem:e}})}})}}),_e.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{width:n.offsetWidth,height:n.offsetHeight}},_e.notify=ye,te=/template$/i,ne=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,ie=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,re=/([A-Z])/g,_e.initWidget=function(i,r,o){var a,s,l,c,d,u,p,h,f,g,m,_,v;if(o?o.roles&&(o=o.roles):o=_e.ui.roles,i=i.nodeType?i:i[0],u=i.getAttribute("data-"+_e.ns+"role")){l=(f=-1===u.indexOf("."))?o[u]:_e.getter(u)(t),m=e(i).data(),_=l?"kendo"+l.fn.options.prefix+l.fn.options.name:"",g=f?RegExp("^kendo.*"+u+"$","i"):RegExp("^"+_+"$","i");for(v in m)if(v.match(g)){if(v!==_)return m[v];a=m[v]}if(l){for(h=C(i,"dataSource"),r=e.extend({},S(i,l.fn.options),r),h&&(r.dataSource=typeof h===Me?_e.getter(h)(t):h),c=0,d=l.fn.events.length;c<d;c++)s=l.fn.events[c],(p=C(i,s))!==n&&(r[s]=_e.getter(p)(t));return a?e.isEmptyObject(r)||a.setOptions(r):a=new l(i,r),a}}},_e.rolesFromNamespaces=function(e){var t,n,i=[];for(e[0]||(e=[_e.ui,_e.dataviz.ui]),t=0,n=e.length;t<n;t++)i[t]=e[t].roles;return ve.apply(null,[{}].concat(i.reverse()))},_e.init=function(t){var n=_e.rolesFromNamespaces(Ve.call(arguments,1));e(t).find("[data-"+_e.ns+"role]").addBack().each(function(){_e.initWidget(this,{},n)})},_e.destroy=function(t){e(t).find("[data-"+_e.ns+"role]").addBack().each(function(){var t,n=e(this).data();for(t in n)0===t.indexOf("kendo")&&typeof n[t].destroy===Ee&&n[t].destroy()})},_e.resize=function(t,n){var i,r=e(t).find("[data-"+_e.ns+"role]").addBack().filter(D);r.length&&((i=e.makeArray(r)).sort(T),e.each(i,function(){var t=_e.widgetInstance(e(this));t&&t.resize(n)}))},_e.parseOptions=S,ve(_e.ui,{Widget:Z,DataBoundWidget:ee,roles:{},progress:function(t,n,i){var r,o,a,s,l,c=t.find(".k-loading-mask"),d=_e.support,u=d.browser;l=(i=e.extend({},{width:"100%",height:"100%",top:t.scrollTop(),opacity:!1},i)).opacity?"k-loading-mask k-opaque":"k-loading-mask",n?c.length||(r=d.isRtl(t),o=r?"right":"left",s=t.scrollLeft(),a=u.webkit&&r?t[0].scrollWidth-t.width()-2*s:0,c=e(_e.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'/><div class='k-loading-color'/></div>",l,_e.ui.progress.messages.loading)).width(i.width).height(i.height).css("top",i.top).css(o,Math.abs(s)+a).prependTo(t)):c&&c.remove()},plugin:function(t,i,r){var o,a,s,l,c=t.fn.options.name;for(i=i||_e.ui,r=r||"",i[c]=t,i.roles[c.toLowerCase()]=t,o="getKendo"+r+c,a={name:c="kendo"+r+c,widget:t,prefix:r||""},_e.widgets.push(a),s=0,l=_e._widgetRegisteredCallbacks.length;s<l;s++)_e._widgetRegisteredCallbacks[s](a);e.fn[c]=function(i){var r,o=this;return typeof i===Me?(r=Ve.call(arguments,1),this.each(function(){var t,a,s=e.data(this,c);if(!s)throw Error(_e.format("Cannot call method '{0}' of {1} before it is initialized",i,c));if(typeof(t=s[i])!==Ee)throw Error(_e.format("Cannot find method '{0}' of {1}",i,c));if((a=t.apply(s,r))!==n)return o=a,!1})):this.each(function(){return new t(this,i)}),o},e.fn[c].widget=t,e.fn[o]=function(){return this.data(c)}}}),_e.ui.progress.messages={loading:"Loading..."},oe={bind:function(){return this},nullObject:!0,options:{}},ae=Z.extend({init:function(e,t){Z.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){Z.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(_e.roleSelector("view splitview modalview drawer"));return _e.widgetInstance(e,_e.mobile.ui)||oe},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(_e.roleSelector("view layout modalview drawer splitview"));return _e.widgetInstance(e.eq(0),_e.mobile.ui)||oe}}),ve(_e.mobile,{init:function(e){_e.init(e,_e.mobile.ui,_e.ui,_e.dataviz.ui)},appLevelNativeScrolling:function(){return _e.mobile.application&&_e.mobile.application.options&&_e.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:ae,DataBoundWidget:ee.extend(ae.prototype),roles:{},plugin:function(e){_e.ui.plugin(e,_e.mobile.ui,"Mobile")}}}),l(_e.dataviz,{init:function(e){_e.init(e,_e.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){_e.ui.plugin(e,_e.dataviz.ui)}},roles:{}}),_e.touchScroller=function(t,n){return n||(n={}),n.useNative=!0,e(t).map(function(t,i){return i=e(i),!(!Se.kineticScrollNeeded||!_e.mobile.ui.Scroller||i.data("kendoMobileScroller"))&&(i.kendoMobileScroller(n),i.data("kendoMobileScroller"))})[0]},_e.preventDefault=function(e){e.preventDefault()},_e.widgetInstance=function(e,n){var i,r,o,a,s,l=e.data(_e.ns+"role"),c=[];if(l){if("content"===l&&(l="scroller"),"editortoolbar"===l&&(o=e.data("kendoEditorToolbar")))return o;if(n)if(n[0])for(i=0,r=n.length;i<r;i++)c.push(n[i].roles[l]);else c.push(n.roles[l]);else c=[_e.ui.roles[l],_e.dataviz.ui.roles[l],_e.mobile.ui.roles[l]];for(l.indexOf(".")>=0&&(c=[_e.getter(l)(t)]),i=0,r=c.length;i<r;i++)if((a=c[i])&&(s=e.data("kendo"+a.fn.options.prefix+a.fn.options.name)))return s}},_e.onResize=function(n){var i=n;return Se.mobileOS.android&&(i=function(){setTimeout(n,600)}),e(t).on(Se.resize,i),i},_e.unbindResize=function(n){e(t).off(Se.resize,n)},_e.attrValue=function(e,t){return e.data(_e.ns+t)},_e.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{kendoFocusable:function(t){var n=e.attr(t,"tabindex");return I(t,!isNaN(n)&&n>-1)}}),se=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],le="label, input, [data-rel=external]",ce={setupMouseMute:function(){var t,n=0,i=se.length,r=document.documentElement;if(!ce.mouseTrap&&Se.eventCapture)for(ce.mouseTrap=!0,ce.bustClick=!1,ce.captureMouse=!1,t=function(t){ce.captureMouse&&("click"===t.type?ce.bustClick&&!e(t.target).is(le)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};n<i;n++)r.addEventListener(se[n],t,!0)},muteMouse:function(e){ce.captureMouse=!0,e.data.bustClick&&(ce.bustClick=!0),clearTimeout(ce.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(ce.mouseTrapTimeoutID),ce.mouseTrapTimeoutID=setTimeout(function(){ce.captureMouse=!1,ce.bustClick=!1},400)}},de={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},Se.touch&&(Se.mobileOS.ios||Se.mobileOS.android)?de={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:Se.pointers?de={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:Se.msPointers&&(de={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!Se.msPointers||"onmspointerenter"in t||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var i,r=this,o=t.relatedTarget,a=t.handleObj;return o&&(o===r||e.contains(r,o))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=n),i}}}),ue=function(e){return de[e]||e},pe=/([^ ]+)/g,_e.applyEventMap=function(e,t){return e=e.replace(pe,ue),t&&(e=e.replace(pe,"$1."+t)),e},he=e.fn.on,ve(!0,E,e),E.fn=E.prototype=new e,E.fn.constructor=E,E.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof E)&&(n=E(n)),e.fn.init.call(this,t,n,fe)},E.fn.init.prototype=E.fn,fe=E(document),ve(E.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||_e.guid()),this},on:function(){var e,t,n,i,r,o,a=this,s=a.data("kendoNS");return 1===arguments.length?he.call(a,arguments[0]):(e=a,typeof(t=Ve.call(arguments))[t.length-1]===ze&&t.pop(),n=t[t.length-1],i=_e.applyEventMap(t[0],s),Se.mouseAndTouchPresent&&i.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(ce.setupMouseMute(),r=2===t.length?null:t[1],o=i.indexOf("click")>-1&&i.indexOf("touchend")>-1,he.call(this,{touchstart:ce.muteMouse,touchend:ce.unMuteMouse},r,{bustClick:o})),typeof n===Me&&(e=a.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=i,he.apply(a,t),a)},kendoDestroy:function(e){return(e=e||this.data("kendoNS"))&&this.off("."+e),this}}),_e.jQuery=E,_e.eventMap=de,_e.timezone=function(){function e(e,t){var n,i,r,o=t[3],a=t[4],s=t[5],l=t[8];return l||(t[8]=l={}),l[e]?l[e]:(isNaN(a)?0===a.indexOf("last")?(n=new Date(Date.UTC(e,d[o]+1,1,s[0]-24,s[1],s[2],0)),i=u[a.substr(4,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r-(i>r?7:0))):a.indexOf(">=")>=0&&(n=new Date(Date.UTC(e,d[o],a.substr(5),s[0],s[1],s[2],0)),i=u[a.substr(0,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r+(i<r?7:0))):n=new Date(Date.UTC(e,d[o],a,s[0],s[1],s[2],0)),l[e]=n)}function t(t,n,i){var r,o,a,s;return(n=n[i])?(a=new Date(t).getUTCFullYear(),(n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return t<=a&&(n>=a||t==a&&"only"==n||"max"==n)})).push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=+e(a,t)),"number"!=typeof n&&(n=+e(a,n)),t-n}),s=n[jQuery.inArray(t,n)-1]||n[n.length-1],isNaN(s)?s:null):(r=i.split(":"),o=0,r.length>1&&(o=60*r[0]+ +r[1]),[-1e6,"max","-","Jan",1,[0,0,0],o,"-"])}function n(e,t,n){var i,r,o,a=t[n];if("string"==typeof a&&(a=t[a]),!a)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(i=a.length-1;i>=0&&!((r=a[i][3])&&e>r);i--);if(!(o=a[i+1]))throw Error('Timezone "'+n+'" not found on '+e+".");return o}function i(e,i,r,o){typeof e!=Fe&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var a=n(e,i,o);return{zone:a,rule:t(e,r,a[1])}}function r(e,t){var n,r,o;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=i(e,this.zones,this.rules,t),r=n.zone,o=n.rule,_e.parseFloat(o?r[0]-o[6]:r[0]))}function o(e,t){var n=i(e,this.zones,this.rules,t),r=n.zone,o=n.rule,a=r[2];return a.indexOf("/")>=0?a.split("/")[o&&+o[6]?1:0]:a.indexOf("%s")>=0?a.replace("%s",o&&"-"!=o[7]?o[7]:""):a}function a(e,t,n){var i,r,o,a=n;return typeof t==Me&&(t=this.offset(e,t)),typeof n==Me&&(n=this.offset(e,n)),r=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),o=e.getTimezoneOffset(),typeof a==Me&&(a=this.offset(e,a)),i=o-r+(n-a),new Date(e.getTime()+6e4*i)}function s(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function l(e,t){return this.convert(e,t,e.getTimezoneOffset())}function c(e){return this.apply(new Date(e),"Etc/UTC")}var d={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},u={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:r,convert:a,apply:s,remove:l,abbr:o,toLocalDate:c}}(),_e.date=function(){function e(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function t(t,n,i){var r=t.getHours();i=i||1,n=(n-t.getDay()+7*i)%7,t.setDate(t.getDate()+n),e(t,r)}function i(e,n,i){return e=new Date(e),t(e,n,i),e}function r(e){return new Date(e.getFullYear(),e.getMonth(),1)}function o(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=r(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i/60),t}function a(e,t){return 1!==t?f(i(e,t,-1),4):f(e,4-(e.getDay()||7))}function s(e,t){var n=new Date(e.getFullYear(),0,1,-6),i=a(e,t).getTime()-n.getTime(),r=Math.floor(i/w);return 1+Math.floor(r/7)}function l(e,t){var i,r,o;return t===n&&(t=_e.culture().calendar.firstDay),i=f(e,-7),r=f(e,7),o=s(e,t),0===o?s(i,t)+1:53===o&&s(r,t)>1?1:o}function c(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function d(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function u(e){return b(e).getTime()-c(b(e))}function p(e,t,n){var i,r=u(t),o=u(n);return!e||r==o||(t>=n&&(n+=w),i=u(e),r>i&&(i+=w),o<r&&(o+=w),i>=r&&i<=o)}function h(e,t,n){var i,r=t.getTime(),o=n.getTime();return r>=o&&(o+=w),(i=e.getTime())>=r&&i<=o}function f(t,n){var i=t.getHours();return t=new Date(t),g(t,n*w),e(t,i),t}function g(e,t,n){var i,r=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(i=e.getTimezoneOffset()-r,e.setTime(e.getTime()+i*k))}function m(t,n){return t=new Date(_e.date.getDate(t).getTime()+_e.date.getMilliseconds(n)),e(t,n.getHours()),t}function _(){return c(new Date)}function v(e){return c(e).getTime()==_().getTime()}function b(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var k=6e4,w=864e5;return{adjustDST:e,dayOfWeek:i,setDayOfWeek:t,getDate:c,isInDateRange:h,isInTimeRange:p,isToday:v,nextDay:function(e){return f(e,1)},previousDay:function(e){return f(e,-1)},toUtcTime:d,MS_PER_DAY:w,MS_PER_HOUR:60*k,MS_PER_MINUTE:k,setTime:g,setHours:m,addDays:f,today:_,toInvariantTime:b,firstDayOfMonth:r,lastDayOfMonth:o,weekInYear:l,getMilliseconds:u}}(),_e.stripWhitespace=function(e){var t,n,i;if(document.createNodeIterator)for(t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(n=0;n<e.childNodes.length;n++)3!=(i=e.childNodes[n]).nodeType||/\S/.test(i.nodeValue)||(e.removeChild(i),n--),1==i.nodeType&&_e.stripWhitespace(i)},ge=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},_e.animationFrame=function(e){ge.call(t,e)},me=[],_e.queueAnimation=function(e){me[me.length]=e,1===me.length&&_e.runNextAnimation()},_e.runNextAnimation=function(){_e.animationFrame(function(){me[0]&&(me.shift()(),me[0]&&_e.runNextAnimation())})},_e.parseQueryStringParams=function(e){for(var t={},n=(e.split("?")[1]||"").split(/&|=/),i=n.length,r=0;r<i;r+=2)""!==n[r]&&(t[decodeURIComponent(n[r])]=decodeURIComponent(n[r+1]));return t},_e.elementUnderCursor=function(e){if(n!==e.x.client)return document.elementFromPoint(e.x.client,e.y.client)},_e.wheelDeltaY=function(e){var t,i=e.originalEvent,r=i.wheelDeltaY;return i.wheelDelta?(r===n||r)&&(t=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(t=10*-i.detail),t},_e.throttle=function(e,t){var i,r,o=0;return!t||t<=0?e:(r=function(){function r(){e.apply(a,l),o=+new Date}var a=this,s=+new Date-o,l=arguments;return o?(i&&clearTimeout(i),s>t?r():i=setTimeout(r,t-s),n):r()},r.cancel=function(){clearTimeout(i)},r)},_e.caret=function(t,i,r){var o,a,s,l,c,d=i!==n;if(r===n&&(r=i),t[0]&&(t=t[0]),!d||!t.disabled){try{t.selectionStart!==n?d?(t.focus(),a=Se.mobileOS,a.wp||a.android?setTimeout(function(){t.setSelectionRange(i,r)},0):t.setSelectionRange(i,r)):i=[t.selectionStart,t.selectionEnd]:document.selection&&(e(t).is(":visible")&&t.focus(),o=t.createTextRange(),d?(o.collapse(!0),o.moveStart("character",i),o.moveEnd("character",r-i),o.select()):(s=o.duplicate(),o.moveToBookmark(document.selection.createRange().getBookmark()),s.setEndPoint("EndToStart",o),l=s.text.length,c=l+o.text.length,i=[l,c]))}catch(e){i=[]}return i}},_e.compileMobileDirective=function(e,n){var i=t.angular;return e.attr("data-"+_e.ns+"role",e[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),i.element(e).injector().invoke(["$compile",function(t){t(e)(n),/^\$(digest|apply)$/.test(n.$$phase)||n.$digest()}]),_e.widgetInstance(e,_e.mobile.ui)},_e.antiForgeryTokens=function(){var t={},i=e("meta[name=csrf-token],meta[name=_csrf]").attr("content"),r=e("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value}),r!==n&&i!==n&&(t[r]=i),t},_e.cycleForm=function(e){function t(e){var t=_e.widgetInstance(e);t&&t.focus?t.focus():e.focus()}var n=e.find("input, .k-widget").first(),i=e.find("button, .k-button").last();i.on("keydown",function(e){e.keyCode!=_e.keys.TAB||e.shiftKey||(e.preventDefault(),t(n))}),n.on("keydown",function(e){e.keyCode==_e.keys.TAB&&e.shiftKey&&(e.preventDefault(),t(i))})},_e.focusElement=function(n){var i=[],r=n.parentsUntil("body").filter(function(e,t){return"visible"!==_e.getComputedStyles(t,["overflow"]).overflow}).add(t);r.each(function(t,n){i[t]=e(n).scrollTop()});try{n[0].setActive()}catch(e){n[0].focus()}r.each(function(t,n){e(n).scrollTop(i[t])})},function(){function n(t,n,i,r){var o,a,s=e("<form>").attr({action:i,method:"POST",target:r}),l=_e.antiForgeryTokens();l.fileName=n,o=t.split(";base64,"),l.contentType=o[0].replace("data:",""),l.base64=o[1];for(a in l)l.hasOwnProperty(a)&&e("<input>").attr({value:l[a],name:a,type:"hidden"}).appendTo(s);s.appendTo("body").submit().remove()}function i(e,t){var n,i,r,o,a,s=e;if("string"==typeof e){for(i=(n=e.split(";base64,"))[0],r=atob(n[1]),o=new Uint8Array(r.length),a=0;a<r.length;a++)o[a]=r.charCodeAt(a);s=new Blob([o.buffer],{type:i})}navigator.msSaveBlob(s,t)}function r(e,n){t.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),o.download=n,o.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(i),setTimeout(function(){URL.revokeObjectURL(e)})}var o=document.createElement("a"),a="download"in o&&!_e.support.browser.edge;_e.saveAs=function(e){var t=n;e.forceProxy||(a?t=r:navigator.msSaveBlob&&(t=i)),t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)}}(),_e.proxyModelSetters=function(e){var t={};return Object.keys(e||{}).forEach(function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t,e.dirty=!0}})}),t}}(jQuery,window),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.data.min",["kendo.core.min","kendo.data.odata.min","kendo.data.xml.min"],e)}(function(){return function(e,t){function n(e,t,n,i){return function(r){var o,a={};for(o in r)a[o]=r[o];a.field=i?n+"."+r.field:n,t==De&&e._notifyChange&&e._notifyChange(a),e.trigger(t,a)}}function i(t,n){if(t===n)return!0;var r,o=e.type(t);if(o!==e.type(n))return!1;if("date"===o)return t.getTime()===n.getTime();if("object"!==o&&"array"!==o)return!1;for(r in t)if(!i(t[r],n[r]))return!1;return!0}function r(e,t){var n,i;for(i in e){if(n=e[i],he(n)&&n.field&&n.field===t)return n;if(n===t)return n}return null}function o(e){this.data=e||[]}function a(e,n){if(e){var i=typeof e===Ce?{field:e,dir:n}:e,r=ge(i)?i:i!==t?[i]:[];return me(r,function(e){return!!e.dir})}}function s(e){var t,n,i,r,o=e.filters;if(o)for(t=0,n=o.length;t<n;t++)i=o[t],(r=i.operator)&&typeof r===Ce&&(i.operator=Z[r.toLowerCase()]||r),s(i)}function l(e){if(e&&!fe(e))return!ge(e)&&e.filters||(e={logic:"and",filters:ge(e)?e:[e]}),s(e),e}function c(e,t){return!e.logic&&!t.logic&&e.field===t.field&&e.value===t.value&&e.operator===t.operator}function d(e){return e=e||{},fe(e)?{logic:"and",filters:[]}:l(e)}function u(e,t){return t.logic||e.field>t.field?1:e.field<t.field?-1:0}function p(e,t){var n,i,r,o,a;if(e=d(e),t=d(t),e.logic!==t.logic)return!1;if(r=(e.filters||[]).slice(),o=(t.filters||[]).slice(),r.length!==o.length)return!1;for(r=r.sort(u),o=o.sort(u),a=0;a<r.length;a++)if(n=r[a],i=o[a],n.logic&&i.logic){if(!p(n,i))return!1}else if(!c(n,i))return!1;return!0}function h(e){return ge(e)?e:[e]}function f(e,n){var i=typeof e===Ce?{field:e,dir:n}:e,r=ge(i)?i:i!==t?[i]:[];return U(r,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function g(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function m(e,t,n,i,r,o){var a,s,l,c,d;for(c=(t=t||[]).length,a=0;a<c;a++)s=t[a],l=s.aggregate,d=s.field,e[d]=e[d]||{},o[d]=o[d]||{},o[d][l]=o[d][l]||{},e[d][l]=ee[l.toLowerCase()](e[d][l],n,ke.accessor(d),i,r,o[d][l])}function _(e){return"number"==typeof e&&!isNaN(e)}function v(e){return e&&e.getTime}function b(e){var t,n=e.length,i=Array(n);for(t=0;t<n;t++)i[t]=e[t].toJSON();return i}function k(e,t,n,i,r){var o,a,s,l,c,d={};for(l=0,c=e.length;l<c;l++){o=e[l];for(a in t)(s=r[a])&&s!==a&&(d[s]||(d[s]=ke.setter(s)),d[s](o,t[a](o)),delete o[a])}}function w(e,t,n,i,r){var o,a,s,l,c;for(l=0,c=e.length;l<c;l++){o=e[l];for(a in t)o[a]=n._parse(a,t[a](o)),(s=r[a])&&s!==a&&delete o[s]}}function y(e,t,n,i,r){var o,a,s,l;for(a=0,l=e.length;a<l;a++)o=e[a],(s=i[o.field])&&s!=o.field&&(o.field=s),o.value=n._parse(o.field,o.value),o.hasSubgroups?y(o.items,t,n,i,r):w(o.items,t,n,i,r)}function x(e,t,n,i,r,o){return function(a){return a=e(a),C(t,n,i,r,o)(a)}}function C(e,t,n,i,r){return function(o){return o&&!fe(n)&&("[object Array]"===je.call(o)||o instanceof Ye||(o=[o]),t(o,n,new e,i,r)),o||[]}}function S(e,t){var n,i,r;if(t.items&&t.items.length)for(r=0;r<t.items.length;r++)n=e.items[r],i=t.items[r],n&&i?n.hasSubgroups?S(n,i):n.field&&n.value==i.value?n.items.push.apply(n.items,i.items):e.items.push.apply(e.items,[i]):i&&e.items.push.apply(e.items,[i])}function T(e,t,n,i){for(var r,o,a,s=0;t.length&&i&&(r=t[s],o=r.items,a=o.length,e&&e.field===r.field&&e.value===r.value?(e.hasSubgroups&&e.items.length?T(e.items[e.items.length-1],r.items,n,i):(o=o.slice(n,n+i),e.items=e.items.concat(o)),t.splice(s--,1)):r.hasSubgroups&&o.length?(T(r,o,n,i),r.items.length||t.splice(s--,1)):(o=o.slice(n,n+i),r.items=o,r.items.length||t.splice(s--,1)),0===o.length?n-=a:(n=0,i-=o.length),!(++s>=t.length)););s<t.length&&t.splice(s,t.length-s)}function D(e){var t,n,i,r,o,a=[];for(t=0,n=e.length;t<n;t++)if((o=e.at(t)).hasSubgroups)a=a.concat(D(o.items));else for(i=o.items,r=0;r<i.length;r++)a.push(i.at(r));return a}function I(e,t){var n,i,r;if(t)for(n=0,i=e.length;n<i;n++)r=e.at(n),r.hasSubgroups?I(r.items,t):r.items=new j(r.items,t)}function H(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].hasSubgroups){if(H(e[n].items,t))return!0}else if(t(e[n].items,e[n]))return!0}function E(e,t,n,i){for(var r=0;r<e.length&&e[r].data!==t&&!M(e[r].data,n,i);r++);}function M(e,t,n){for(var i=0,r=e.length;i<r;i++){if(e[i]&&e[i].hasSubgroups)return M(e[i].items,t,n);if(e[i]===t||e[i]===n)return e[i]=n,!0}}function F(e,n,i,r,o){var a,s,l,c;for(a=0,s=e.length;a<s;a++)if((l=e[a])&&!(l instanceof r))if(l.hasSubgroups===t||o){for(c=0;c<n.length;c++)if(n[c]===l){e[a]=n.at(c),E(i,n,l,e[a]);break}}else F(l.items,n,i,r,o)}function A(e,t){var n,i,r=e.length;for(i=0;i<r;i++)if((n=e[i]).uid&&n.uid==t.uid)return e.splice(i,1),n}function P(e,t){return t?z(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId}):-1}function O(e,t){return t?z(e,function(e){return e.uid==t.uid}):-1}function z(e,t){var n,i;for(n=0,i=e.length;n<i;n++)if(t(e[n]))return n;return-1}function R(e,t){var n,i;return e&&!fe(e)?(n=e[t],i=he(n)?n.from||n.field||t:e[t]||t,we(i)?t:i):t}function L(e,t){var n,i,r,o={};for(r in e)"filters"!==r&&(o[r]=e[r]);if(e.filters)for(o.filters=[],n=0,i=e.filters.length;n<i;n++)o.filters[n]=L(e.filters[n],t);else o.field=R(t.fields,o.field);return o}function V(e,t){var n,i,r,o,a,s=[];for(n=0,i=e.length;n<i;n++){r={},o=e[n];for(a in o)r[a]=o[a];r.field=R(t.fields,r.field),r.aggregates&&ge(r.aggregates)&&(r.aggregates=V(r.aggregates,t)),s.push(r)}return s}function N(t,n){var i,r,o,a,s,l,c,d,u,p;for(i=(t=e(t)[0]).options,r=n[0],o=n[1],a=[],s=0,l=i.length;s<l;s++)u={},d=i[s],(c=d.parentNode)===t&&(c=null),d.disabled||c&&c.disabled||(c&&(u.optgroup=c.label),u[r.field]=d.text,p=d.attributes.value,p=p&&p.specified?d.value:d.text,u[o.field]=p,a.push(u));return a}function B(t,n){var i,r,o,a,s,l,c,d=e(t)[0].tBodies[0],u=d?d.rows:[],p=n.length,h=[];for(i=0,r=u.length;i<r;i++){for(s={},c=!0,a=u[i].cells,o=0;o<p;o++)"th"!==(l=a[o]).nodeName.toLowerCase()&&(c=!1,s[n[o].field]=l.innerHTML);c||h.push(s)}return h}function W(e){return function(){var t=this._data,n=oe.fn[e].apply(this,qe.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),n}}function q(t,n){function i(e,t){return e.filter(t).add(e.find(t))}var r,o,a,s,l,c,d,u,p=e(t).children(),h=[],f=n[0].field,g=n[1]&&n[1].field,m=n[2]&&n[2].field,_=n[3]&&n[3].field;for(r=0,o=p.length;r<o;r++)a={_loaded:!0},s=p.eq(r),c=s[0].firstChild,u=s.children(),t=u.filter("ul"),u=u.filter(":not(ul)"),(l=s.attr("data-id"))&&(a.id=l),c&&(a[f]=3==c.nodeType?c.nodeValue:u.text()),g&&(a[g]=i(u,"a").attr("href")),_&&(a[_]=i(u,"img").attr("src")),m&&(d=i(u,".k-sprite").prop("className"),a[m]=d&&e.trim(d.replace("k-sprite",""))),t.length&&(a.items=q(t.eq(0),n)),"true"==s.attr("data-hasChildren")&&(a.hasChildren=!0),h.push(a);return h}var U,j,$,G,Y,K,Q,J,X,Z,ee,te,ne,ie,re,oe,ae,se,le,ce,de,ue=e.extend,pe=e.proxy,he=e.isPlainObject,fe=e.isEmptyObject,ge=e.isArray,me=e.grep,_e=e.ajax,ve=e.each,be=e.noop,ke=window.kendo,we=ke.isFunction,ye=ke.Observable,xe=ke.Class,Ce="string",Se="function",Te="destroy",De="change",Ie="get",He="error",Ee="requestStart",Me="progress",Fe="requestEnd",Ae=["create","read","update",Te],Pe=function(e){return e},Oe=ke.getter,ze=ke.stringify,Re=Math,Le=[].push,Ve=[].join,Ne=[].pop,Be=[].splice,We=[].shift,qe=[].slice,Ue=[].unshift,je={}.toString,$e=ke.support.stableSort,Ge=/^\/Date\((.*?)\)\/$/,Ye=ye.extend({init:function(e,t){var n=this;n.type=t||$,ye.fn.init.call(n),n.length=e.length,n.wrapAll(e,n)},at:function(e){return this[e]},toJSON:function(){var e,t,n=this.length,i=Array(n);for(e=0;e<n;e++)(t=this[e])instanceof $&&(t=t.toJSON()),i[e]=t;return i},parent:be,wrapAll:function(e,t){var n,i,r=this,o=function(){return r};for(t=t||[],n=0,i=e.length;n<i;n++)t[n]=r.wrap(e[n],o);return t},wrap:function(e,t){var n=this;return null!==e&&"[object Object]"===je.call(e)&&(e instanceof n.type||e instanceof K||(e=e instanceof $?e.toJSON():e,e=new n.type(e)),e.parent=t,e.bind(De,function(e){n.trigger(De,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})),e},push:function(){var e,t=this.length,n=this.wrapAll(arguments);return e=Le.apply(this,n),this.trigger(De,{action:"add",index:t,items:n}),e},slice:qe,sort:[].sort,join:Ve,pop:function(){var e=this.length,t=Ne.apply(this);return e&&this.trigger(De,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,n){var i,r,o,a=this.wrapAll(qe.call(arguments,2));if((i=Be.apply(this,[e,t].concat(a))).length)for(this.trigger(De,{action:"remove",index:e,items:i}),r=0,o=i.length;r<o;r++)i[r]&&i[r].children&&i[r].unbind(De);return n&&this.trigger(De,{action:"add",index:e,items:a}),i},shift:function(){var e=this.length,t=We.apply(this);return e&&this.trigger(De,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=Ue.apply(this,t),this.trigger(De,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,n,i=this;for(t=0,n=i.length;t<n;t++)if(i[t]===e)return t;return-1},forEach:function(e,t){for(var n=0,i=this.length,r=t||window;n<i;n++)e.call(r,this[n],n,this)},map:function(e,t){for(var n=0,i=[],r=this.length,o=t||window;n<r;n++)i[n]=e.call(o,this[n],n,this);return i},reduce:function(e){var t,n=0,i=this.length;for(2==arguments.length?t=arguments[1]:n<i&&(t=this[n++]);n<i;n++)t=e(t,this[n],n,this);return t},reduceRight:function(e){var t,n=this.length-1;for(2==arguments.length?t=arguments[1]:n>0&&(t=this[n--]);n>=0;n--)t=e(t,this[n],n,this);return t},filter:function(e,t){for(var n,i=0,r=[],o=this.length,a=t||window;i<o;i++)n=this[i],e.call(a,n,i,this)&&(r[r.length]=n);return r},find:function(e,t){for(var n,i=0,r=this.length,o=t||window;i<r;i++)if(n=this[i],e.call(o,n,i,this))return n},every:function(e,t){for(var n,i=0,r=this.length,o=t||window;i<r;i++)if(n=this[i],!e.call(o,n,i,this))return!1;return!0},some:function(e,t){for(var n,i=0,r=this.length,o=t||window;i<r;i++)if(n=this[i],e.call(o,n,i,this))return!0;return!1},remove:function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!Ye.prototype[Symbol.iterator]&&(Ye.prototype[Symbol.iterator]=[][Symbol.iterator]),j=Ye.extend({init:function(e,t){ye.fn.init.call(this),this.type=t||$;for(var n=0;n<e.length;n++)this[n]=e[n];this.length=n,this._parent=pe(function(){return this},this)},at:function(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t}}),$=ye.extend({init:function(e){var t,n,i=this,r=function(){return i};ye.fn.init.call(this),this._handlers={};for(n in e)"object"==typeof(t=e[n])&&t&&!t.getTime&&"_"!=n.charAt(0)&&(t=i.wrap(t,n,r)),i[n]=t;i.uid=ke.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_handlers"!==e&&"_events"!==e&&typeof this[e]!==Se&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,n={};for(t in this)this.shouldSerialize(t)&&(((e=this[t])instanceof $||e instanceof Ye)&&(e=e.toJSON()),n[t]=e);return n},get:function(e){var t=this;return t.trigger(Ie,{field:e}),"this"===e?t:ke.getter(e,!0)(t)},_set:function(e,t){var n,i,r,o=this,a=e.indexOf(".")>=0;if(a)for(n=e.split("."),i="";n.length>1;){if(i+=n.shift(),(r=ke.getter(i,!0)(o))instanceof $)return r.set(n.join("."),t),a;i+="."}return ke.setter(e)(o,t),a},set:function(e,t){var n=this,i=!1,r=e.indexOf(".")>=0,o=ke.getter(e,!0)(n);return o!==t&&(o instanceof ye&&this._handlers[e]&&(this._handlers[e].get&&o.unbind(Ie,this._handlers[e].get),o.unbind(De,this._handlers[e].change)),(i=n.trigger("set",{field:e,value:t}))||(r||(t=n.wrap(t,e,function(){return n})),(!n._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)&&n.trigger(De,{field:e}))),i},parent:be,wrap:function(e,t,i){var r,o,a,s,l=this,c=je.call(e);return null==e||"[object Object]"!==c&&"[object Array]"!==c||(a=e instanceof Ye,s=e instanceof oe,"[object Object]"!==c||s||a?("[object Array]"===c||a||s)&&(a||s||(e=new Ye(e)),o=n(l,De,t,!1),e.bind(De,o),l._handlers[t]={change:o}):(e instanceof $||(e=new $(e)),r=n(l,Ie,t,!0),e.bind(Ie,r),o=n(l,De,t,!0),e.bind(De,o),l._handlers[t]={get:r,change:o}),e.parent=i),e}}),G={number:function(e){return typeof e===Ce&&"null"===e.toLowerCase()?null:ke.parseFloat(e)},date:function(e){return typeof e===Ce&&"null"===e.toLowerCase()?null:ke.parseDate(e)},boolean:function(e){return typeof e===Ce?"null"===e.toLowerCase()?null:"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return typeof e===Ce&&"null"===e.toLowerCase()?null:null!=e?e+"":e},default:function(e){return e}},Y={string:"",number:0,date:new Date,boolean:!1,default:""},(K=$.extend({init:function(n){var i,r,o=this;if((!n||e.isEmptyObject(n))&&(n=e.extend({},o.defaults,n),o._initializers))for(i=0;i<o._initializers.length;i++)r=o._initializers[i],n[r]=o.defaults[r]();$.fn.init.call(o,n),o.dirty=!1,o.dirtyFields={},o.idField&&(o.id=o.get(o.idField),o.id===t&&(o.id=o._defaultId))},shouldSerialize:function(e){return $.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"dirtyFields"!==e&&"_accessors"!==e},_parse:function(e,t){var n,i=e,o=this.fields||{};return(e=o[e])||(e=r(o,i)),e&&!(n=e.parse)&&e.type&&(n=G[e.type.toLowerCase()]),n?n(t):t},_notifyChange:function(e){var t=e.action;"add"!=t&&"remove"!=t||(this.dirty=!0,this.dirtyFields[e.field]=!0)},editable:function(e){return!(e=(this.fields||{})[e])||!1!==e.editable},set:function(e,t,n){var r=this,o=r.dirty;r.editable(e)&&(t=r._parse(e,t),i(t,r.get(e))?r.trigger("equalSet",{field:e,value:t}):(r.dirty=!0,r.dirtyFields[e]=!0,$.fn.set.call(r,e,t,n)&&!o&&(r.dirty=o,r.dirty||(r.dirtyFields[e]=!1))))},accept:function(e){var t,n,i=this,r=function(){return i};for(t in e)n=e[t],"_"!=t.charAt(0)&&(n=i.wrap(e[t],t,r)),i._set(t,n);i.idField&&(i.id=i.get(i.idField)),i.dirty=!1,i.dirtyFields={}},isNew:function(){return this.id===this._defaultId}})).define=function(e,n){n===t&&(n=e,e=K);var i,r,o,a,s,l,c,d,u=ue({defaults:{}},n),p={},h=u.id,f=[];if(h&&(u.idField=h),u.id&&delete u.id,h&&(u.defaults[h]=u._defaultId=""),"[object Array]"===je.call(u.fields)){for(l=0,c=u.fields.length;l<c;l++)o=u.fields[l],typeof o===Ce?p[o]={}:o.field&&(p[o.field]=o);u.fields=p}for(r in u.fields)o=u.fields[r],a=o.type||"default",s=null,d=r,r=typeof o.field===Ce?o.field:r,o.nullable||"function"==typeof(s=u.defaults[d!==r?d:r]=o.defaultValue!==t?o.defaultValue:Y[a.toLowerCase()])&&f.push(r),n.id===r&&(u._defaultId=s),u.defaults[d!==r?d:r]=s,o.parse=o.parse||G[a];return f.length>0&&(u._initializers=f),i=e.extend(u),i.define=function(e){return K.define(i,e)},u.fields&&(i.fields=u.fields,i.idField=u.idField),i},J=ue({},Q={selector:function(e){return we(e)?e:Oe(e)},compare:function(e){var t=this.selector(e);return function(e,n){return e=t(e),n=t(n),null==e&&null==n?0:null==e?-1:null==n?1:e.localeCompare?e.localeCompare(n):e>n?1:e<n?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,n){return t(n,e,!0)}:t},combine:function(e){return function(t,n){var i,r,o=e[0](t,n);for(i=1,r=e.length;i<r;i++)o=o||e[i](t,n);return o}}},{asc:function(e){var t=this.selector(e);return function(e,n){var i=t(e),r=t(n);return i&&i.getTime&&r&&r.getTime&&(i=i.getTime(),r=r.getTime()),i===r?e.__position-n.__position:null==i?-1:null==r?1:i.localeCompare?i.localeCompare(r):i>r?1:-1}},desc:function(e){var t=this.selector(e);return function(e,n){var i=t(e),r=t(n);return i&&i.getTime&&r&&r.getTime&&(i=i.getTime(),r=r.getTime()),i===r?e.__position-n.__position:null==i?1:null==r?-1:r.localeCompare?r.localeCompare(i):i<r?1:-1}},create:function(e){return this[e.dir](e.field)}}),U=function(e,t){var n,i=e.length,r=Array(i);for(n=0;n<i;n++)r[n]=t(e[n],n,e);return r},X=function(){function e(e){return"string"==typeof e&&(e=e.replace(/[\r\n]+/g,"")),JSON.stringify(e)}function t(t){return function(n,i,r){return i+="",r&&(n="("+n+" || '').toLowerCase()",i=i.toLowerCase()),t(n,e(i),r)}}function n(t,n,i,r){if(null!=i){if(typeof i===Ce){var o=Ge.exec(i);o?i=new Date(+o[1]):r?(i=e(i.toLowerCase()),n="(("+n+" || '')+'').toLowerCase()"):i=e(i)}i.getTime&&(n="("+n+"&&"+n+".getTime?"+n+".getTime():"+n+")",i=i.getTime())}return n+" "+t+" "+i}function i(e){var t,n,i,r;for(t="/^",n=!1,i=0;i<e.length;++i){if(r=e.charAt(i),n)t+="\\"+r;else{if("~"==r){n=!0;continue}t+="*"==r?".*":"?"==r?".":".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(r)>=0?"\\"+r:r}n=!1}return t+"$/"}return{quote:function(t){return t&&t.getTime?"new Date("+t.getTime()+")":e(t)},eq:function(e,t,i){return n("==",e,t,i)},neq:function(e,t,i){return n("!=",e,t,i)},gt:function(e,t,i){return n(">",e,t,i)},gte:function(e,t,i){return n(">=",e,t,i)},lt:function(e,t,i){return n("<",e,t,i)},lte:function(e,t,i){return n("<=",e,t,i)},startswith:t(function(e,t){return e+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:t(function(e,t){return e+".lastIndexOf("+t+", 0) == -1"}),endswith:t(function(e,t){return e+".indexOf("+t+", "+e+".length - "+(t?t.length-2:0)+") >= 0"}),doesnotendwith:t(function(e,t){return e+".indexOf("+t+", "+e+".length - "+(t?t.length-2:0)+") < 0"}),contains:t(function(e,t){return e+".indexOf("+t+") >= 0"}),doesnotcontain:t(function(e,t){return e+".indexOf("+t+") == -1"}),matches:t(function(e,t){return t=t.substring(1,t.length-1),i(t)+".test("+e+")"}),doesnotmatch:t(function(e,t){return t=t.substring(1,t.length-1),"!"+i(t)+".test("+e+")"}),isempty:function(e){return e+" === ''"},isnotempty:function(e){return e+" !== ''"},isnull:function(e){return"("+e+" == null)"},isnotnull:function(e){return"("+e+" != null)"},isnullorempty:function(e){return"("+e+" === null) || ("+e+" === '')"},isnotnullorempty:function(e){return"("+e+" !== null) && ("+e+" !== '')"}}}(),o.filterExpr=function(e){var n,i,r,a,s,l,c=[],d={and:" && ",or:" || "},u=[],p=[],h=e.filters;for(n=0,i=h.length;n<i;n++)r=h[n],s=r.field,l=r.operator,r.filters?(a=o.filterExpr(r),r=a.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(p.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(u.length+t)+"]"}),p.push.apply(p,a.operators),u.push.apply(u,a.fields)):(typeof s===Se?(a="__f["+u.length+"](d)",u.push(s)):a=ke.expr(s),typeof l===Se?(r="__o["+p.length+"]("+a+", "+X.quote(r.value)+")",p.push(l)):r=X[(l||"eq").toLowerCase()](a,r.value,r.ignoreCase===t||r.ignoreCase)),c.push(r);return{expression:"("+c.join(d[e.logic])+")",fields:u,operators:p}},Z={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"},o.normalizeFilter=l,o.compareFilters=p,o.prototype={toArray:function(){return this.data},range:function(e,t){return new o(this.data.slice(e,e+t))},skip:function(e){return new o(this.data.slice(e))},take:function(e){return new o(this.data.slice(0,e))},select:function(e){return new o(U(this.data,e))},order:function(e,t,n){var i={dir:t};return e&&(e.compare?i.compare=e.compare:i.field=e),new o(n?this.data.sort(Q.create(i)):this.data.slice(0).sort(Q.create(i)))},orderBy:function(e,t){return this.order(e,"asc",t)},orderByDescending:function(e,t){return this.order(e,"desc",t)},sort:function(e,t,n,i){var r,o,s=a(e,t),l=[];if(n=n||Q,s.length){for(r=0,o=s.length;r<o;r++)l.push(n.create(s[r]));return this.orderBy({compare:n.combine(l)},i)}return this},filter:function(e){var t,n,i,r,a,s,c,d,u=this.data,p=[];if(!(e=l(e))||0===e.filters.length)return this;for(r=o.filterExpr(e),s=r.fields,c=r.operators,a=d=Function("d, __f, __o","return "+r.expression),(s.length||c.length)&&(d=function(e){return a(e,s,c)}),t=0,i=u.length;t<i;t++)n=u[t],d(n)&&p.push(n);return new o(p)},group:function(e,t){e=f(e||[]),t=t||this.data;var n,i=new o(this.data);return e.length>0&&(n=e[0],i=i.groupBy(n).select(function(i){var r=new o(t).filter([{field:i.field,operator:"eq",value:i.value,ignoreCase:!1}]);return{field:i.field,value:i.value,items:e.length>1?new o(i.items).group(e.slice(1),r.toArray()).toArray():i.items,hasSubgroups:e.length>1,aggregates:r.aggregate(n.aggregates)}})),i},groupBy:function(e){if(fe(e)||!this.data.length)return new o([]);var t,n,i,r,a=e.field,s=this._sortForGrouping(a,e.dir||"asc"),l=ke.accessor(a),c=l.get(s[0],a),d={field:a,value:c,items:[]},u=[d];for(i=0,r=s.length;i<r;i++)t=s[i],n=l.get(t,a),g(c,n)||(c=n,d={field:a,value:c,items:[]},u.push(d)),d.items.push(t);return new o(u)},_sortForGrouping:function(e,t){var n,i,r=this.data;if(!$e){for(n=0,i=r.length;n<i;n++)r[n].__position=n;for(n=0,i=(r=new o(r).sort(e,t,J).toArray()).length;n<i;n++)delete r[n].__position;return r}return this.sort(e,t).toArray()},aggregate:function(e){var t,n,i={},r={};if(e&&e.length)for(t=0,n=this.data.length;t<n;t++)m(i,e,this.data[t],t,n,r);return i}},ee={sum:function(e,t,n){var i=n.get(t);return _(e)?_(i)&&(e+=i):e=i,e},count:function(e){return(e||0)+1},average:function(e,n,i,r,o,a){var s=i.get(n);return a.count===t&&(a.count=0),_(e)?_(s)&&(e+=s):e=s,_(s)&&a.count++,r==o-1&&_(e)&&(e/=a.count),e},max:function(e,t,n){var i=n.get(t);return _(e)||v(e)||(e=i),e<i&&(_(i)||v(i))&&(e=i),e},min:function(e,t,n){var i=n.get(t);return _(e)||v(e)||(e=i),e>i&&(_(i)||v(i))&&(e=i),e}},o.process=function(e,n,i){n=n||{};var r,s=new o(e),l=n.group,c=f(l||[]).concat(a(n.sort||[])),d=n.filterCallback,u=n.filter,p=n.skip,h=n.take;return c&&i&&(s=s.sort(c,t,t,i)),u&&(s=s.filter(u),d&&(s=d(s)),r=s.toArray().length),c&&!i&&(s=s.sort(c),l&&(e=s.toArray())),p!==t&&h!==t&&(s=s.range(p,h)),l&&(s=s.group(l,e)),{total:r,data:s.toArray()}},te=xe.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),ne=xe.extend({init:function(e){var t,n=this;e=n.options=ue({},n.options,e),ve(Ae,function(t,n){typeof e[n]===Ce&&(e[n]={url:e[n]})}),n.cache=e.cache?ie.create(e.cache):{find:be,add:be},t=e.parameterMap,e.submit&&(n.submit=e.submit),we(e.push)&&(n.push=e.push),n.push||(n.push=Pe),n.parameterMap=we(t)?t:function(e){var n={};return ve(e,function(e,i){e in t&&(e=t[e],he(e)&&(i=e.value(i),e=e.key)),n[e]=i}),n}},options:{parameterMap:Pe},create:function(e){return _e(this.setup(e,"create"))},read:function(n){var i,r,o=this,a=o.cache;n=o.setup(n,"read"),i=n.success||be,n.error,(r=a.find(n.data))!==t?i(r):(n.success=function(e){a.add(n.data,e),i(e)},e.ajax(n))},update:function(e){return _e(this.setup(e,"update"))},destroy:function(e){return _e(this.setup(e,Te))},setup:function(e,t){e=e||{};var n,i=this,r=i.options[t],o=we(r.data)?r.data(e.data):r.data;return e=ue(!0,{},r,e),n=ue(!0,{},o,e.data),e.data=i.parameterMap(n,t),we(e.url)&&(e.url=e.url(n)),e}}),(ie=xe.extend({init:function(){this._store={}},add:function(e,n){e!==t&&(this._store[ze(e)]=n)},find:function(e){return this._store[ze(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[ze(e)]}})).create=function(e){var t={inmemory:function(){return new ie}};return he(e)&&we(e.find)?e:!0===e?new ie:t[e]()},re=xe.extend({init:function(e){var t,n,i,r,o,a,s,l,c,d,u,p,h,f,g=this;e=e||{};for(t in e)n=e[t],g[t]=typeof n===Ce?Oe(n):n;r=e.modelBase||K,he(g.model)&&(g.model=i=r.define(g.model)),o=pe(g.data,g),g._dataAccessFunction=o,g.model&&(a=pe(g.groups,g),s=pe(g.serialize,g),l={},c={},d={},u={},p=!1,(i=g.model).fields&&(ve(i.fields,function(e,t){var n;h=e,he(t)&&t.field?h=t.field:typeof t===Ce&&(h=t),he(t)&&t.from&&(n=t.from),p=p||n&&n!==e||h!==e,f=n||h,c[e]=-1!==f.indexOf(".")?Oe(f,!0):Oe(f),d[e]=Oe(e),l[n||h]=e,u[e]=n||h}),!e.serialize&&p&&(g.serialize=x(s,i,k,d,l,u))),g._dataAccessFunction=o,g._wrapDataAccessBase=C(i,w,c,l,u),g.data=x(o,i,w,c,l,u),g.groups=x(a,i,y,c,l,u))},errors:function(e){return e?e.errors:null},parse:Pe,data:Pe,total:function(e){return e.length},groups:Pe,aggregates:function(){return{}},serialize:function(e){return e}}),oe=ye.extend({init:function(e){var n,i,r=this;e&&(n=e.data),e=r.options=ue({},r.options,e),r._map={},r._prefetch={},r._data=[],r._pristineData=[],r._ranges=[],r._view=[],r._pristineTotal=0,r._destroyed=[],r._pageSize=e.pageSize,r._page=e.page||(e.pageSize?1:t),r._sort=a(e.sort),r._filter=l(e.filter),r._group=f(e.group),r._aggregate=e.aggregate,r._total=e.total,r._shouldDetachObservableParents=!0,ye.fn.init.call(r),r.transport=ae.create(e,n,r),we(r.transport.push)&&r.transport.push({pushCreate:pe(r._pushCreate,r),pushUpdate:pe(r._pushUpdate,r),pushDestroy:pe(r._pushDestroy,r)}),null!=e.offlineStorage&&("string"==typeof e.offlineStorage?(i=e.offlineStorage,r._storage={getItem:function(){return JSON.parse(localStorage.getItem(i))},setItem:function(e){localStorage.setItem(i,ze(r.reader.serialize(e)))}}):r._storage=e.offlineStorage),r.reader=new ke.data.readers[e.schema.type||"json"](e.schema),r.reader.model,r._detachObservableParents(),r._data=r._observe(r._data),r._online=!0,r.bind(["push",He,De,Ee,"sync",Fe,Me],e)},options:{data:null,schema:{modelBase:K},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(n){return n!==t?this._online!=n&&(this._online=n,n)?this.sync():e.Deferred().resolve().promise():this._online},offlineData:function(e){return null==this.options.offlineStorage?null:e!==t?this._storage.setItem(e):this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var n=this._readData(e);n||(n=e),this[t](n)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return D(e);if(!t)for(var n=0;n<e.length;n++)e.at(n)}return e},parent:be,get:function(e){var t,n,i=this._flatData(this._data,this.options.useRanges);for(t=0,n=i.length;t<n;t++)if(i[t].id==e)return i[t]},getByUid:function(e){return this._getByUid(e,this._data)},_getByUid:function(e,t){var n,i,r=this._flatData(t,this.options.useRanges);if(r)for(n=0,i=r.length;n<i;n++)if(r[n].uid==e)return r[n]},indexOf:function(e){return O(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var n,i=this;if(e===t){if(i._data)for(n=0;n<i._data.length;n++)i._data.at(n);return i._data}i._detachObservableParents(),i._data=this._observe(e),i._pristineData=e.slice(0),i._storeData(),i._ranges=[],i.trigger("reset"),i._addRange(i._data),i._total=i._data.length,i._pristineTotal=i._total,i._process(i._data)},view:function(e){return e===t?this._view:(this._view=this._observeView(e),t)},_observeView:function(e){var t,n=this;return F(e,n._data,n._ranges,n.reader.model||$,n._isServerGrouped()),t=new j(e,n.reader.model),t.parent=function(){return n.parent()},t},flatView:function(){return(this.group()||[]).length?D(this._view):this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):e instanceof $?e:new $(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof K||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,this._wrapInEmptyGroup(t)):this._data.splice(e,0,t),this._insertModelInRange(e,t),t},pushInsert:function(t,n){var i,r,o,a,s,l,c=this._getCurrentRangeSpan();n||(n=t,t=0),ge(n)||(n=[n]),i=[],r=this.options.autoSync,this.options.autoSync=!1;try{for(o=0;o<n.length;o++)a=n[o],s=this.insert(t,a),i.push(s),l=s.toJSON(),this._isServerGrouped()&&(l=this._wrapInEmptyGroup(l)),this._pristineData.push(l),c&&c.length&&e(c).last()[0].pristineData.push(l),t++}finally{this.options.autoSync=r}i.length&&this.trigger("push",{type:"create",items:i})},pushCreate:function(e){this.pushInsert(this._data.length,e)},pushUpdate:function(e){var t,n,i,r,o;for(ge(e)||(e=[e]),t=[],n=0;n<e.length;n++)i=e[n],r=this._createNewModel(i),o=this.get(r.id),o?(t.push(o),o.accept(i),o.trigger(De),this._updatePristineForModel(o,i)):this.pushCreate(i);t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e){var t,n,i,r,o,a;ge(e)||(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(i=0;i<e.length;i++)r=e[i],o=this._createNewModel(r),a=!1,this._eachItem(this._data,function(e){var n,i;for(n=0;n<e.length;n++)if((i=e.at(n)).id===o.id){t.push(i),e.splice(n,1),a=!0;break}}),a&&(this._removePristineForModel(o),this._destroyed.pop())}finally{this.options.autoSync=n}return t},remove:function(e){var t,n=this,i=n._isServerGrouped();return this._eachItem(n._data,function(r){if((t=A(r,e))&&i)return t.isNew&&t.isNew()||n._destroyed.push(t),!0}),this._removeModelFromRanges(e),e},destroyed:function(){return this._destroyed},created:function(){var e,t,n=[],i=this._flatData(this._data,this.options.useRanges);for(e=0,t=i.length;e<t;e++)i[e].isNew&&i[e].isNew()&&n.push(i[e]);return n},updated:function(){var e,t,n=[],i=this._flatData(this._data,this.options.useRanges);for(e=0,t=i.length;e<t;e++)i[e].isNew&&!i[e].isNew()&&i[e].dirty&&n.push(i[e]);return n},sync:function(){var t,n=this,i=[],r=[],o=n._destroyed,a=e.Deferred().resolve().promise();if(n.online()){if(!n.reader.model)return a;i=n.created(),r=n.updated(),t=[],n.options.batch&&n.transport.submit?t=n._sendSubmit(i,r,o):(t.push.apply(t,n._send("create",i)),t.push.apply(t,n._send("update",r)),t.push.apply(t,n._send("destroy",o))),a=e.when.apply(null,t).then(function(){var e,t;for(e=0,t=arguments.length;e<t;e++)arguments[e]&&n._accept(arguments[e]);n._storeData(!0),n._change({action:"sync"}),n.trigger("sync")})}else n._storeData(!0),n._change({action:"sync"});return a},cancelChanges:function(e){var t=this;e instanceof ke.data.Model?t._cancelModel(e):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data,0),t._change(),t._markOfflineUpdatesAsDirty())},_markOfflineUpdatesAsDirty:function(){var e=this;null!=e.options.offlineStorage&&e._eachItem(e._data,function(e){var t,n;for(t=0;t<e.length;t++)"update"!=(n=e.at(t)).__state__&&"create"!=n.__state__||(n.dirty=!0)})},hasChanges:function(){var e,t,n=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(e=0,t=n.length;e<t;e++)if(n[e].isNew&&n[e].isNew()||n[e].dirty)return!0;return!1},_accept:function(t){var n,i=this,r=t.models,o=t.response,a=0,s=i._isServerGrouped(),l=i._pristineData,c=t.type;if(i.trigger(Fe,{response:o,type:c}),o&&!fe(o)){if(o=i.reader.parse(o),i._handleCustomErrors(o))return;o=i.reader.data(o),ge(o)||(o=[o])}else o=e.map(r,function(e){return e.toJSON()});for("destroy"===c&&(i._destroyed=[]),a=0,n=r.length;a<n;a++)"destroy"!==c?(r[a].accept(o[a]),"create"===c?l.push(s?i._wrapInEmptyGroup(r[a]):o[a]):"update"===c&&i._updatePristineForModel(r[a],o[a])):i._removePristineForModel(r[a])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,n){ke.deepExtend(n[e],t)})},_executeOnPristineForModel:function(e,t){this._eachPristineItem(function(n){var i=P(n,e);if(i>-1)return t(i,n),!0})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){return(this._isServerGrouped()?this.reader.groups:this.reader.data).call(this.reader,e)},_eachPristineItem:function(e){var t=this,n=t.options,i=t._getCurrentRangeSpan();t._eachItem(t._pristineData,e),n.serverPaging&&n.useRanges&&ve(i,function(n,i){t._eachItem(i.pristineData,e)})},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?H(e,t):t(e))},_pristineForModel:function(e){var t,n,i=function(i){if((n=P(i,e))>-1)return t=i[n],!0};return this._eachPristineItem(i),t},_cancelModel:function(e){var t=this,n=this._pristineForModel(e);this._eachItem(this._data,function(i){var r=O(i,e);r>=0&&(!n||e.isNew()&&!n.__state__?(i.splice(r,1),t._removeModelFromRanges(e)):(i[r].accept(n),"update"==n.__state__&&(i[r].dirty=!0)))})},_submit:function(t,n){var i=this;i.trigger(Ee,{type:"submit"}),i.trigger(Me),i.transport.submit(ue({success:function(n,i){var r=e.grep(t,function(e){return e.type==i})[0];r&&r.resolve({response:n,models:r.models,type:i})},error:function(e,n,r){for(var o=0;o<t.length;o++)t[o].reject(e);i.error(e,n,r)}},n))},_sendSubmit:function(t,n,i){var r=this,o=[];return r.options.batch&&(t.length&&o.push(e.Deferred(function(e){e.type="create",e.models=t})),n.length&&o.push(e.Deferred(function(e){e.type="update",e.models=n})),i.length&&o.push(e.Deferred(function(e){e.type="destroy",e.models=i})),r._submit(o,{data:{created:r.reader.serialize(b(t)),updated:r.reader.serialize(b(n)),destroyed:r.reader.serialize(b(i))}})),o},_promise:function(t,n,i){var r=this;return e.Deferred(function(e){r.trigger(Ee,{type:i}),r.trigger(Me),r.transport[i].call(r.transport,ue({success:function(t){e.resolve({response:t,models:n,type:i})},error:function(t,n,i){e.reject(t),r.error(t,n,i)}},t))}).promise()},_send:function(e,t){var n,i,r=this,o=[],a=r.reader.serialize(b(t));if(r.options.batch)t.length&&o.push(r._promise({data:{models:a}},t,e));else for(n=0,i=t.length;n<i;n++)o.push(r._promise({data:a[n]},[t[n]],e));return o},read:function(t){var n=this,i=n._params(t),r=e.Deferred();return n._queueRequest(i,function(){var e=n.trigger(Ee,{type:"read"});e?(n._dequeueRequest(),r.resolve(e)):(n.trigger(Me),n._ranges=[],n.trigger("reset"),n.online()?n.transport.read({data:i,success:function(e){n._ranges=[],n.success(e,i),r.resolve()},error:function(){var e=qe.call(arguments);n.error.apply(n,e),r.reject.apply(r,e)}}):null!=n.options.offlineStorage&&(n.success(n.offlineData(),i),r.resolve()))}),r.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var n,i,r,o,a,s,l,c,d,u=this,p=u.options;if(u.trigger(Fe,{response:e,type:"read"}),u.online()){if(e=u.reader.parse(e),u._handleCustomErrors(e))return u._dequeueRequest(),t;u._total=u.reader.total(e),u._pageSize>u._total&&(u._pageSize=u._total,u.options.pageSize&&u.options.pageSize>u._pageSize&&(u._pageSize=u.options.pageSize)),u._aggregate&&p.serverAggregates&&(u._aggregateResult=u._readAggregates(e)),e=u._readData(e),u._destroyed=[]}else{for(e=u._readData(e),n=[],i={},o=(r=u.reader.model)?r.idField:"id",a=0;a<this._destroyed.length;a++)s=this._destroyed[a][o],i[s]=s;for(a=0;a<e.length;a++)l=e[a],c=l.__state__,"destroy"==c?i[l[o]]||this._destroyed.push(this._createNewModel(l)):n.push(l);e=n,u._total=e.length}if(u._pristineTotal=u._total,u._pristineData=e.slice(0),u._detachObservableParents(),u.options.endless){for(u._data.unbind(De,u._changeHandler),u._isServerGrouped()&&u._data[u._data.length-1].value===e[0].value&&(S(u._data[u._data.length-1],e[0]),e.shift()),e=u._observe(e),d=0;d<e.length;d++)u._data.push(e[d]);u._data.bind(De,u._changeHandler)}else u._data=u._observe(e);u._markOfflineUpdatesAsDirty(),u._storeData(),u._addRange(u._data),u._process(u._data),u._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)this._data[e].parent&&(this._data[e].parent=be)},_storeData:function(e){function t(e){var n,i,r,o=[];for(n=0;n<e.length;n++)i=e.at(n),r=i.toJSON(),a&&i.items?r.items=t(i.items):(r.uid=i.uid,s&&(i.isNew()?r.__state__="create":i.dirty&&(r.__state__="update"))),o.push(r);return o}var n,i,r,o,a=this._isServerGrouped(),s=this.reader.model;if(null!=this.options.offlineStorage){for(n=t(this._data),i=[],r=0;r<this._destroyed.length;r++)o=this._destroyed[r].toJSON(),o.__state__="destroy",i.push(o);this.offlineData(n.concat(i)),e&&(this._pristineData=this.reader._wrapDataAccessBase(n))}},_addRange:function(e,n){var i=this,r=t!==n?n:i._skip||0,o=r+i._flatData(e,!0).length;i._ranges.push({start:r,end:o,data:e,pristineData:e.toJSON(),timestamp:i._timeStamp()}),i._sortRanges()},_sortRanges:function(){this._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,n){this._dequeueRequest(),this.trigger(Fe,{}),this.trigger(He,{xhr:e,status:t,errorThrown:n})},_params:function(e){var t=this,n=ue({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete n.take,delete n.skip,delete n.page,delete n.pageSize),t.options.serverGrouping?t.reader.model&&n.group&&(n.group=V(n.group,t.reader.model)):delete n.group,t.options.serverFiltering?t.reader.model&&n.filter&&(n.filter=L(n.filter,t.reader.model)):delete n.filter,t.options.serverSorting?t.reader.model&&n.sort&&(n.sort=V(n.sort,t.reader.model)):delete n.sort,t.options.serverAggregates?t.reader.model&&n.aggregate&&(n.aggregate=V(n.aggregate,t.reader.model)):delete n.aggregate,n},_queueRequest:function(e,n){var i=this;i._requestInProgress?i._pending={callback:pe(n,i),options:e}:(i._requestInProgress=!0,i._pending=t,n())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(He,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(e){var t=this.reader.model;return!(!t||!e.length||e[0]instanceof t)},_observe:function(e){var t,n=this,i=n.reader.model;return n._shouldDetachObservableParents=!0,e instanceof Ye?(n._shouldDetachObservableParents=!1,n._shouldWrap(e)&&(e.type=n.reader.model,e.wrapAll(e,e))):(t=n.pageSize()&&!n.options.serverPaging?j:Ye,e=new t(e,n.reader.model),e.parent=function(){return n.parent()}),n._isServerGrouped()&&I(e,i),n._changeHandler&&n._data&&n._data instanceof Ye?n._data.unbind(De,n._changeHandler):n._changeHandler=pe(n._change,n),e.bind(De,n._changeHandler)},_updateTotalForAction:function(e,t){var n=this,i=parseInt(n._total,10);_(n._total)||(i=parseInt(n._pristineTotal,10)),"add"===e?i+=t.length:"remove"===e?i-=t.length:"itemchange"===e||"sync"===e||n.options.serverPaging?"sync"===e&&(i=n._pristineTotal=parseInt(n._total,10)):i=n._pristineTotal,n._total=i},_change:function(e){var t,n,i,r=this,o=e?e.action:"";if("remove"===o)for(t=0,n=e.items.length;t<n;t++)e.items[t].isNew&&e.items[t].isNew()||r._destroyed.push(e.items[t]);!r.options.autoSync||"add"!==o&&"remove"!==o&&"itemchange"!==o?(r._updateTotalForAction(o,e?e.items:[]),r._process(r._data,e)):(i=function(t){"sync"===t.action&&(r.unbind("change",i),r._updateTotalForAction(o,e.items))},r.first("change",i),r.sync())},_calculateAggregates:function(e,t){t=t||{};var n=new o(e),i=t.aggregate,r=t.filter;return r&&(n=n.filter(r)),n.aggregate(i)},_process:function(e,n){var i,r=this,o={};!0!==r.options.serverPaging&&(o.skip=r._skip,o.take=r._take||r._pageSize,o.skip===t&&r._page!==t&&r._pageSize!==t&&(o.skip=(r._page-1)*r._pageSize),r.options.useRanges&&(o.skip=r.currentRangeStart())),!0!==r.options.serverSorting&&(o.sort=r._sort),!0!==r.options.serverFiltering&&(o.filter=r._filter),!0!==r.options.serverGrouping&&(o.group=r._group),!0!==r.options.serverAggregates&&(o.aggregate=r._aggregate,r._aggregateResult=r._calculateAggregates(e,o)),i=r._queryProcess(e,o),r.view(i.data),i.total===t||r.options.serverFiltering||(r._total=i.total),(n=n||{}).items=n.items||r._view,r.trigger(De,n)},_queryProcess:function(e,t){return this.options.inPlaceSort?o.process(e,t,this.options.inPlaceSort):o.process(e,t)},_mergeState:function(e){var n=this;return e!==t&&(n._pageSize=e.pageSize,n._page=e.page,n._sort=e.sort,n._filter=e.filter,n._group=e.group,n._aggregate=e.aggregate,n._skip=n._currentRangeStart=e.skip,n._take=e.take,n._skip===t&&(n._skip=n._currentRangeStart=n.skip(),e.skip=n.skip()),n._take===t&&n._pageSize!==t&&(n._take=n._pageSize,e.take=n._take),e.sort&&(n._sort=e.sort=a(e.sort)),e.filter&&(n._filter=e.filter=l(e.filter)),e.group&&(n._group=e.group=f(e.group)),e.aggregate&&(n._aggregate=e.aggregate=h(e.aggregate))),e},query:function(n){var i,r,o;return this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates||(this._data===t||0===this._data.length)&&!this._destroyed.length?(this.options.endless&&(r=n.pageSize-this.pageSize(),r>0?(r=this.pageSize(),n.page=n.pageSize/r,n.pageSize=r):(n.page=1,this.options.endless=!1)),this.read(this._mergeState(n))):((o=this.trigger(Ee,{type:"read"}))||(this.trigger(Me),i=this._queryProcess(this._data,this._mergeState(n)),this.options.serverFiltering||(this._total=i.total!==t?i.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,n),this.view(i.data),this.trigger(Fe,{type:"read"}),this.trigger(De,{items:i.data})),e.Deferred().resolve(o).promise())},fetch:function(e){var t=this,n=function(n){!0!==n&&we(e)&&e.call(t)};return this._query().then(n)},_query:function(e){var t=this;return t.query(ue({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var t=this,n=t.page(),i=t.total();if(e=e||{},n&&!(i&&n+1>t.totalPages()))return t._skip=t._currentRangeStart=n*t.take(),n+=1,e.page=n,t._query(e),n},prev:function(e){var t=this,n=t.page();if(e=e||{},n&&1!==n)return t._skip=t._currentRangeStart=t._skip-t.take(),n-=1,e.page=n,t._query(e),n},page:function(e){var n,i=this;return e!==t?(e=Re.max(Re.min(Re.max(e,1),i.totalPages()),1),i._query({page:e}),t):(n=i.skip(),n!==t?Re.round((n||0)/(i.take()||1))+1:t)},pageSize:function(e){var n=this;return e!==t?(n._query({pageSize:e,page:1}),t):n.take()},sort:function(e){var n=this;return e!==t?(n._query({sort:e}),t):n._sort},filter:function(e){var n=this;return e===t?n._filter:(n.trigger("reset"),n._query({filter:e,page:1}),t)},group:function(e){var n=this;return e!==t?(n._query({group:e}),t):n._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){var n=this;return e!==t?(n._query({aggregate:e}),t):n._aggregate},aggregates:function(){var e=this._aggregateResult;return fe(e)&&(e=this._emptyAggregates(this.aggregate())),e},_emptyAggregates:function(e){var t,n,i={};if(!fe(e))for(t={},ge(e)||(e=[e]),n=0;n<e.length;n++)t[e[n].aggregate]=0,i[e[n].field]=t;return i},_wrapInEmptyGroup:function(e){var t,n,i,r=this.group();for(i=r.length-1,0;i>=0;i--)n=r[i],t={value:e.get(n.field),field:n.field,items:t?[t]:[e],hasSubgroups:!!t,aggregates:this._emptyAggregates(n.aggregates)};return t},totalPages:function(){var e=this,t=e.pageSize()||e.total();return Re.ceil((e.total()||0)/t)},inRange:function(e,t){var n=this,i=Re.min(e+t,n.total());return!n.options.serverPaging&&n._data.length>0||n._findRange(e,i).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(e,n,i){this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,e=Re.min(e||0,this.total()),i=we(i)?i:be;var r,o=this,a=Re.max(Re.floor(e/n),0)*n,s=Re.min(a+n,o.total());return r=o._findRange(e,Re.min(e+n,o.total())),r.length||0===o.total()?(o._processRangeData(r,e,n,a,s),i(),t):(n!==t&&(o._rangeExists(a,s)?a<e&&o.prefetch(s,n,function(){o.range(e,n,i)}):o.prefetch(a,n,function(){e>a&&s<o.total()&&!o._rangeExists(s,Re.min(s+n,o.total()))?o.prefetch(s,n,function(){o.range(e,n,i)}):o.range(e,n,i)})),t)},_findRange:function(e,n){var i,r,o,s,l,c,d,u,p,h,g,m,_=this,v=_._ranges,b=[],k=_.options,w=k.serverSorting||k.serverPaging||k.serverFiltering||k.serverGrouping||k.serverAggregates;for(r=0,g=v.length;r<g;r++)if(i=v[r],e>=i.start&&e<=i.end){for(h=0,o=r;o<g;o++)if(i=v[o],(p=_._flatData(i.data,!0)).length&&e+h>=i.start&&(c=i.data,d=i.end,w||(k.inPlaceSort?u=_._queryProcess(i.data,{filter:_.filter()}):(m=f(_.group()||[]).concat(a(_.sort()||[])),u=_._queryProcess(i.data,{sort:m,filter:_.filter()})),p=c=u.data,u.total!==t&&(d=u.total)),s=0,e+h>i.start&&(s=e+h-i.start),l=p.length,d>n&&(l-=d-n),h+=l-s,b=_._mergeGroups(b,c,s,l),n<=i.end&&h==n-e))return b;break}return[]},_mergeGroups:function(e,t,n,i){if(this._isServerGrouped()){var r,o=t.toJSON();return e.length&&(r=e[e.length-1]),T(r,o,n,i),e.concat(o)}return e.concat(t.slice(n,i))},_processRangeData:function(e,n,i,r,o){var a,s,l,c,d=this;d._pending=t,d._skip=n>d.skip()?Re.min(o,(d.totalPages()-1)*d.take()):r,d._currentRangeStart=n,d._take=i,a=d.options.serverPaging,s=d.options.serverSorting,l=d.options.serverFiltering,c=d.options.serverAggregates;try{d.options.serverPaging=!0,d._isServerGrouped()||d.group()&&d.group().length||(d.options.serverSorting=!0),d.options.serverFiltering=!0,d.options.serverPaging=!0,d.options.serverAggregates=!0,a&&(d._detachObservableParents(),d._data=e=d._observe(e)),d._process(e)}finally{d.options.serverPaging=a,d.options.serverSorting=s,d.options.serverFiltering=l,d.options.serverAggregates=c}},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,n,i){var r=this,o=r._timeStamp();return function(a){var s,l,c,d=!1,u={start:e,end:t,data:[],timestamp:r._timeStamp()};if(r._dequeueRequest(),r.trigger(Fe,{response:a,type:"read"}),a=r.reader.parse(a),(c=r._readData(a)).length){for(s=0,l=r._ranges.length;s<l;s++)if(r._ranges[s].start===e){d=!0,(u=r._ranges[s]).pristineData=c,u.data=r._observe(c),u.end=u.start+r._flatData(u.data,!0).length,r._sortRanges();break}d||r._addRange(r._observe(c),e)}r._total=r.reader.total(a),(i||o>=r._currentRequestTimeStamp||!r._skipRequestsInProgress)&&(n&&c.length?n():r.trigger(De,{}))}},prefetch:function(e,t,n){var i=this,r=Re.min(e+t,i.total()),o={take:t,skip:e,page:e/t+1,pageSize:t,sort:i._sort,filter:i._filter,group:i._group,aggregate:i._aggregate};i._rangeExists(e,r)?n&&n():(clearTimeout(i._timeout),i._timeout=setTimeout(function(){i._queueRequest(o,function(){i.trigger(Ee,{type:"read"})?i._dequeueRequest():i.transport.read({data:i._params(o),success:i._prefetchSuccessHandler(e,r,n),error:function(){var e=qe.call(arguments);i.error.apply(i,e)}})})},100))},_multiplePrefetch:function(e,t,n){var i=this,r=Re.min(e+t,i.total()),o={take:t,skip:e,page:e/t+1,pageSize:t,sort:i._sort,filter:i._filter,group:i._group,aggregate:i._aggregate};i._rangeExists(e,r)?n&&n():i.trigger(Ee,{type:"read"})||i.transport.read({data:i._params(o),success:i._prefetchSuccessHandler(e,r,n,!0)})},_rangeExists:function(e,t){var n,i,r=this._ranges;for(n=0,i=r.length;n<i;n++)if(r[n].start<=e&&r[n].end>=t)return!0;return!1},_getCurrentRangeSpan:function(){var e,t,n=this,i=n._ranges,r=n.currentRangeStart(),o=r+(n.take()||0),a=[],s=i.length;for(t=0;t<s;t++)((e=i[t]).start<=r&&e.end>=r||e.start>=r&&e.start<=o)&&a.push(e);return a},_removeModelFromRanges:function(e){var t,n,i,r,o=this;for(i=0,r=this._ranges.length;i<r&&(n=this._ranges[i],this._eachItem(n.data,function(n){t=A(n,e)}),!t);i++);o._updateRangesLength()},_insertModelInRange:function(e,t){var n,i,r=this,o=r._ranges||[],a=o.length;for(i=0;i<a;i++)if((n=o[i]).start<=e&&n.end>=e){r._getByUid(t.uid,n.data)||(r._isServerGrouped()?n.data.splice(e,0,r._wrapInEmptyGroup(t)):n.data.splice(e,0,t));break}r._updateRangesLength()},_updateRangesLength:function(){var e,t,n=this,i=n._ranges||[],r=i.length,o=!1,a=0,s=0;for(t=0;t<r;t++)e=i[t],s=n._flatData(e.data,!0).length-Re.abs(e.end-e.start),o||0===s?o&&(e.start+=a,e.end+=a):(o=!0,a=s,e.end+=a)}}),(ae={}).create=function(t,n,i){var r,o=t.transport?e.extend({},t.transport):null;return o?(o.read=typeof o.read===Ce?{url:o.read}:o.read,"jsdo"===t.type&&(o.dataSource=i),t.type&&(ke.data.transports=ke.data.transports||{},ke.data.schemas=ke.data.schemas||{},ke.data.transports[t.type]?he(ke.data.transports[t.type])?o=ue(!0,{},ke.data.transports[t.type],o):r=new ke.data.transports[t.type](ue(o,{data:n})):ke.logToConsole("Unknown DataSource transport type '"+t.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),t.schema=ue(!0,{},ke.data.schemas[t.type],t.schema)),r||(r=we(o.read)?o:new ne(o))):r=new te({data:t.data||[]}),r},oe.create=function(e){(ge(e)||e instanceof Ye)&&(e={data:e});var n,i,r,o=e||{},a=o.data,s=o.fields,l=o.table,c=o.select,d={};if(a||!s||o.transport||(l?a=B(l,s):c&&(a=N(c,s),o.group===t&&a[0]&&a[0].optgroup!==t&&(o.group="optgroup"))),ke.data.Model&&s&&(!o.schema||!o.schema.model)){for(n=0,i=s.length;n<i;n++)(r=s[n]).type&&(d[r.field]=r);fe(d)||(o.schema=ue(!0,o.schema,{model:{fields:d}}))}return o.data=a,c=null,o.select=null,l=null,o.table=null,o instanceof oe?o:new oe(o)},se=K.define({idField:"id",init:function(e){var t,n=this,i=n.hasChildren||e&&e.hasChildren,r="items",o={};ke.data.Model.fn.init.call(n,e),typeof n.children===Ce&&(r=n.children),o={schema:{data:r,model:{hasChildren:i,id:n.idField,fields:n.fields}}},typeof n.children!==Ce&&ue(o,n.children),o.data=e,i||(i=o.schema.data),typeof i===Ce&&(i=ke.getter(i)),we(i)&&(t=i.call(n,n),n.hasChildren=!(t&&0===t.length||!t)),n._childrenOptions=o,n.hasChildren&&n._initChildren(),n._loaded=!(!e||!e._loaded)},_initChildren:function(){var e,t,n,i=this;i.children instanceof le||(e=i.children=new le(i._childrenOptions),t=e.transport,n=t.parameterMap,t.parameterMap=function(e,t){return e[i.idField||"id"]=i.id,n&&(e=n(e,t)),e},e.parent=function(){return i},e.bind(De,function(e){e.node=e.node||i,i.trigger(De,e)}),e.bind(He,function(e){var t=i.parent();t&&(e.node=e.node||i,t.trigger(He,e))}),i._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){this[this._childrenOptions.schema.data||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var n,i,r={},o="_query";return this.hasChildren?(this._initChildren(),n=this.children,r[this.idField||"id"]=this.id,this._loaded||(n._data=t,o="read"),n.one(De,pe(this._childrenLoaded,this)),this._matchFilter&&(r.filter={field:"_matchFilter",operator:"eq",value:!0}),i=n[o](r)):this.loaded(!0),i||e.Deferred().resolve().promise()},parentNode:function(){return this.parent().parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return K.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),(le=oe.extend({init:function(e){var t=se.define({children:e});e.filter&&!e.serverFiltering&&(this._hierarchicalFilter=e.filter,e.filter=null),oe.fn.init.call(this,ue(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(He,function(t){e.trigger(He,t)})},read:function(e){var t=oe.fn.read.call(this,e);return this._hierarchicalFilter&&(this._data&&this._data.length>0?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=l(this.options.filter),this._hierarchicalFilter=null)),t},remove:function(e){var t,n=e.parentNode(),i=this;return n&&n._initChildren&&(i=n.children),t=oe.fn.remove.call(i,e),n&&!i.data().length&&(n.hasChildren=!1),t},success:W("success"),data:W("data"),insert:function(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),oe.fn.insert.call(this,e,t)},filter:function(e){return e===t?this._filter:(!this.options.serverFiltering&&this._markHierarchicalQuery(e)&&(e={logic:"or",filters:[e,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:e,page:1}),t)},_markHierarchicalQuery:function(e){var t,n,i,r,a;return e=l(e),e&&0!==e.filters.length?(t=o.filterExpr(e),i=t.fields,r=t.operators,n=a=Function("d, __f, __o","return "+t.expression),(i.length||r.length)&&(a=function(e){return n(e,i,r)}),this._updateHierarchicalFilter(a),!0):(this._updateHierarchicalFilter(function(){return!0}),!1)},_updateHierarchicalFilter:function(e){var t,n,i=this._data,r=!1;for(n=0;n<i.length;n++)t=i[n],t.hasChildren?(t._matchFilter=t.children._updateHierarchicalFilter(e),t._matchFilter||(t._matchFilter=e(t))):t._matchFilter=e(t),t._matchFilter&&(r=!0);return r},_find:function(e,t){var n,i,r,o,a=this._data;if(a){if(r=oe.fn[e].call(this,t))return r;for(n=0,i=(a=this._flatData(this._data)).length;n<i;n++)if((o=a[n].children)instanceof le&&(r=o[e](t)))return r}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}})).create=function(e){var t=(e=e&&e.push?{data:e}:e)||{},n=t.data,i=t.fields,r=t.list;return n&&n._dataSource?n._dataSource:(n||!i||t.transport||r&&(n=q(r,i)),t.data=n,t instanceof le?t:new le(t))},ce=ke.Observable.extend({init:function(e,t,n){ke.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!n;var i=this;e.bind("change",function(){i._change()}),e.bind("reset",function(){i._reset()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var n=this.pageSize,i=!0;return e>=this.total()?(this.trigger("endreached",{index:e}),null):this.useRanges?this.useRanges?((e<this.dataOffset||e>=this.skip+n)&&(i=this.range(Math.floor(e/n)*n)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange,!0):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),i?this.dataSource.at(e-this.dataOffset):(this.trigger("endreached",{index:e}),null)):t:this.dataSource.view()[e]},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,n=e.skip-e.viewSize+t,i=Re.max(Re.floor(n/t),0)*t;this.offset=n,this.dataSource.prefetch(i,t,function(){e._goToRange(n,!0)})},range:function(e,t){if(this.offset===e)return!0;var n=this,i=this.pageSize,r=Re.max(Re.floor(e/i),0)*i,o=this.dataSource;return t&&(r+=i),o.inRange(e,i)?(this.offset=e,this._recalculate(),this._goToRange(e),!0):!this.prefetch||(o.prefetch(r,i,function(){n.offset=e,n._recalculate(),n._goToRange(e,!0)}),!1)},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,n=this.skip+t,i=this.dataSource;i.inRange(n,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:n,take:t}),i.prefetch(n,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:n,take:t})}))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,n=this.viewSize,i=Math.ceil(t/e)*e;this.skip=i,this.midPageThreshold=i+e-1,this.nextPageThreshold=i+n-1,this.prefetchThreshold=i+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=i+e-n,this.nextFullRange=i,this.previousMidRange=t-n,this.previousFullRange=i-e}}),de=ke.Observable.extend({init:function(e,t){var n=this;ke.Observable.fn.init.call(n),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new ce(e,3*t),this.buffer.bind({endreached:function(e){n.trigger("endreached",{index:e.index})},prefetching:function(e){n.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){n.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){n._total=0,n.trigger("reset")},resize:function(){n._total=Math.ceil(this.length/n.batchSize),n.trigger("resize",{total:n.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t,n,i=this.buffer,r=e*this.batchSize,o=this.batchSize,a=[];for(i.offset>r&&i.at(i.offset-1),n=0;n<o&&null!==(t=i.at(r+n));n++)a.push(t);return a},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}}),ue(!0,ke.data,{readers:{json:re},Query:o,DataSource:oe,HierarchicalDataSource:le,Node:se,ObservableObject:$,ObservableArray:Ye,LazyObservableArray:j,LocalTransport:te,RemoteTransport:ne,Cache:ie,DataReader:re,Model:K,Buffer:ce,BatchBuffer:de})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.columnsorter.min",["kendo.core.min"],e)}(function(){return function(e,t){var n=window.kendo,i=n.ui,r=i.Widget,o="dir",a="asc",s="single",l="field",c="desc",d=".kendoColumnSorter",u=".k-link",p="aria-sort",h=e.proxy,f=r.extend({init:function(e,t){var n,i=this;r.fn.init.call(i,e,t),i._refreshHandler=h(i.refresh,i),i.dataSource=i.options.dataSource.bind("change",i._refreshHandler),i.directions=i.options.initialDirection===a?[a,c]:[c,a],(n=i.element.find(u))[0]||(n=i.element.wrapInner('<a class="k-link" href="#"/>').find(u)),i.link=n,i.element.on("click"+d,h(i._click,i))},options:{name:"ColumnSorter",mode:s,allowUnsort:!0,compare:null,filter:"",initialDirection:a,showIndexes:!1},events:["change"],destroy:function(){var e=this;r.fn.destroy.call(e),e.element.off(d),e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=e.element=e.link=e.dataSource=null},refresh:function(){var i,r,s,d,u,h,f,g=this,m=g.dataSource.sort()||[],_=g.element,v=_.attr(n.attr(l));for(_.removeAttr(n.attr(o)),_.removeAttr(p),i=0,r=m.length;i<r;i++)s=m[i],v==s.field&&(_.attr(n.attr(o),s.dir),h=i+1);d=_.attr(n.attr(o)),_.is("th")&&(f=_.closest("table"),f.parent().hasClass("k-grid-header-wrap")?f=f.closest(".k-grid").find(".k-grid-content > table"):f.parent().hasClass("k-grid")||(f=null),f&&(u=_.parent().children(":visible").index(_),_.toggleClass("k-sorted",d!==t),f.children("colgroup").children().eq(u).toggleClass("k-sorted",d!==t))),_.find(".k-i-sort-asc-sm,.k-i-sort-desc-sm,.k-sort-order").remove(),d===a?(e('<span class="k-icon k-i-sort-asc-sm" />').appendTo(g.link),_.attr(p,"ascending")):d===c&&(e('<span class="k-icon k-i-sort-desc-sm" />').appendTo(g.link),_.attr(p,"descending")),g.options.showIndexes&&m.length>1&&h&&e('<span class="k-sort-order" />').html(h).appendTo(g.link)},_toggleSortDirection:function(e){var n=this.directions;return e===n[n.length-1]&&this.options.allowUnsort?t:n[0]===e?n[1]:n[0]},_click:function(e){var i,r,a=this,c=a.element,d=c.attr(n.attr(l)),u=c.attr(n.attr(o)),p=a.options,h=null===a.options.compare?t:a.options.compare,f=a.dataSource.sort()||[];if(e.preventDefault(),(!p.filter||c.is(p.filter))&&(u=this._toggleSortDirection(u),!this.trigger("change",{sort:{field:d,dir:u,compare:h}}))){if(p.mode===s)f=[{field:d,dir:u,compare:h}];else if("multiple"===p.mode){for(i=0,r=f.length;i<r;i++)if(f[i].field===d){f.splice(i,1);break}f.push({field:d,dir:u,compare:h})}this.dataSource.options.endless&&(this.dataSource.options.endless=null,c.closest(".k-grid").getKendoGrid()._endlessPageSize=a.dataSource.options.pageSize,this.dataSource.pageSize(a.dataSource.options.pageSize)),this.dataSource.sort(f)}}});i.plugin(f)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.userevents.min",["kendo.core.min"],e)}(function(){return function(e,t){function n(e,t){var n=e.x.location,i=e.y.location,r=t.x.location,o=t.y.location,a=n-r,s=i-o;return{center:{x:(n+r)/2,y:(i+o)/2},distance:Math.sqrt(a*a+s*s)}}function i(e){var t,n,i,r=[],o=e.originalEvent,s=e.currentTarget,l=0;if(e.api)r.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(n=o?o.changedTouches:[],t=n.length;l<t;l++)i=n[l],r.push({location:i,event:e,target:i.target,currentTarget:s,id:i.identifier,type:"touch"});else r.push(a.pointers||a.msPointers?{location:o,event:e,target:e.target,currentTarget:s,id:o.pointerId,type:"pointer"}:{id:1,event:e,target:e.target,currentTarget:s,location:e,type:"mouse"});return r}function r(e){for(var t=o.eventMap.up.split(" "),n=0,i=t.length;n<i;n++)e(t[n])}var o=window.kendo,a=o.support,s=o.Class,l=o.Observable,c=e.now,d=e.extend,u=a.mobileOS,p=u&&u.android,h=800,f=a.browser.msie?5:0,g="press",m="hold",_="select",v="start",b="move",k="end",w="cancel",y="tap",x="release",C="gesturechange",S="gestureend",T="gesturetap",D={api:0,touch:0,mouse:9,pointer:9},I=!a.touch||a.mouseAndTouchPresent,H=s.extend({init:function(e,t){var n=this;n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=c()},move:function(e){var t=this,n=e["page"+t.axis],i=c(),r=i-t.timeStamp||1;!n&&p||(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/r,t.timeStamp=i)},_updateLocationData:function(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]}}),E=s.extend({init:function(e,t,n){d(this,{x:new H("X",n.location),y:new H("Y",n.location),type:n.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||D[n.type],userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(e.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(g,this.pressEvent)},_hold:function(){this._trigger(m,this.pressEvent)},move:function(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(M.current&&M.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(b,e)}},end:function(e){this.endTime=c(),this._finished||(this._finished=!0,this._trigger(x,e),this._moved?this._trigger(k,e):this.useClickAsTap||this._trigger(y,e),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var t=this.userEvents.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),t.splice(e.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=c(),this._moved=!0,this._trigger(v,e)},_trigger:function(e,t){var n=this,i=t.event,r={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(e,r)&&i.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}}),M=l.extend({init:function(t,n){var i,s,c,u,p=this,D=o.guid();n=n||{},i=p.filter=n.filter,p.threshold=n.threshold||f,p.minHold=n.minHold||h,p.touches=[],p._maxTouches=n.multiTouch?2:1,p.allowSelection=n.allowSelection,p.captureUpIfMoved=n.captureUpIfMoved,p.useClickAsTap=!n.fastTap&&!a.delayedClick(),p.eventNS=D,t=e(t).handler(p),l.fn.init.call(p),d(p,{element:t,surface:e(n.global&&I?t[0].ownerDocument.documentElement:n.surface||t),stopPropagation:n.stopPropagation,pressed:!1}),p.surface.handler(p).on(o.applyEventMap("move",D),"_move").on(o.applyEventMap("up cancel",D),"_end"),t.on(o.applyEventMap("down",D),i,"_start"),p.useClickAsTap&&t.on(o.applyEventMap("click",D),i,"_click"),(a.pointers||a.msPointers)&&(a.browser.version<11?(s="pinch-zoom double-tap-zoom",t.css("-ms-touch-action",n.touchAction&&"none"!=n.touchAction?s+" "+n.touchAction:s)):t.css("touch-action",n.touchAction||"none")),n.preventDragEvent&&t.on(o.applyEventMap("dragstart",D),o.preventDefault),t.on(o.applyEventMap("mousedown",D),i,{root:t},"_select"),p.captureUpIfMoved&&a.eventCapture&&(c=p.surface[0],u=e.proxy(p.preventIfMoving,p),r(function(e){c.addEventListener(e,u,!0)})),p.bind([g,m,y,v,b,k,x,w,"gesturestart",C,S,T,_],n)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var e,t=this;t._destroyed||(t._destroyed=!0,t.captureUpIfMoved&&a.eventCapture&&(e=t.surface[0],r(function(n){e.removeEventListener(n,t.preventIfMoving)})),t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget)},capture:function(){M.current=this},cancel:function(){this._disposeAll(),this.trigger(w)},notify:function(e,t){var i=this.touches;if(this._isMultiTouch()){switch(e){case b:e=C;break;case k:e=S;break;case y:e=T}d(t,{touches:i},n(i[0],i[1]))}return this.trigger(e,d(t,{type:e}))},press:function(e,t,n){this._apiCall("_start",e,t,n)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;e.length>0;)e.pop().dispose()},_isMoved:function(){return e.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){this.allowSelection&&!this.trigger(_,{event:e})||e.preventDefault()},_start:function(t){var n,r,o=this,a=0,s=o.filter,l=i(t),c=l.length,d=t.which;if(!(d&&d>1||o._maxTouchesReached()))for(M.current=null,o.currentTarget=t.currentTarget,o.stopPropagation&&t.stopPropagation();a<c&&!o._maxTouchesReached();a++)r=l[a],(n=s?e(r.currentTarget):o.element).length&&(r=new E(o,n,r),o.touches.push(r),r.press(),o._isMultiTouch()&&o.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_click:function(t){var n={touch:{initialTouch:t.target,target:e(t.currentTarget),endTime:c(),x:{location:t.pageX,client:t.clientX},y:{location:t.pageY,client:t.clientY}},x:t.pageX,y:t.pageY,target:e(t.currentTarget),event:t,type:"tap"};this.trigger("tap",n)&&t.preventDefault()},_eachTouch:function(e,t){var n,r,o,a,s=this,l={},c=i(t),d=s.touches;for(n=0;n<d.length;n++)r=d[n],l[r.id]=r;for(n=0;n<c.length;n++)o=c[n],(a=l[o.id])&&a[e](o)},_apiCall:function(t,n,i,r){this[t]({api:!0,pageX:n,pageY:i,clientX:n,clientY:i,target:e(r||this.element)[0],stopPropagation:e.noop,preventDefault:e.noop})}});M.defaultThreshold=function(e){f=e},M.minHold=function(e){h=e},o.getTouches=i,o.touchDelta=n,o.UserEvents=M}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.draganddrop.min",["kendo.core.min","kendo.userevents.min"],e)}(function(){return function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(e){return!1}}function i(e,t){return parseInt(e.css(t),10)||0}function r(e,t){return Math.min(Math.max(e,t.min),t.max)}function o(e,t){var n=I(e),r=v._outerWidth,o=v._outerHeight,a=n.left+i(e,"borderLeftWidth")+i(e,"paddingLeft"),s=n.top+i(e,"borderTopWidth")+i(e,"paddingTop");return{x:{min:a,max:a+e.width()-r(t,!0)},y:{min:s,max:s+e.height()-o(t,!0)}}}function a(n,i,r){for(var o,a,s=0,l=i&&i.length,c=r&&r.length;n&&n.parentNode;){for(s=0;s<l;s++)if((o=i[s]).element[0]===n)return{target:o,targetElement:n};for(s=0;s<c;s++)if(a=r[s],e.contains(a.element[0],n)&&b.matchesSelector.call(n,a.options.filter))return{target:a,targetElement:n};n=n.parentNode}return t}function s(e,t){var n,i=t.options.group,r=e[i];if(x.fn.destroy.call(t),r.length>1){for(n=0;n<r.length;n++)if(r[n]==t){r.splice(n,1);break}}else r.length=0,delete e[i]}function l(e){var t,n,i,r=c()[0];return e[0]===r?(n=r.scrollTop,i=r.scrollLeft,{top:n,left:i,bottom:n+w.height(),right:i+w.width()}):(t=e.offset(),t.bottom=t.top+e.height(),t.right=t.left+e.width(),t)}function c(){return e(v.support.browser.edge||v.support.browser.safari?k.body:k.documentElement)}function d(t){var n,i=c();if(!t||t===k.body||t===k.documentElement)return i;for(n=e(t)[0];n&&!v.isScrollable(n)&&n!==k.body;)n=n.parentNode;return n===k.body?i:e(n)}function u(e,t,n){var i={x:0,y:0},r=50;return e-n.left<r?i.x=-(r-(e-n.left)):n.right-e<r&&(i.x=r-(n.right-e)),t-n.top<r?i.y=-(r-(t-n.top)):n.bottom-t<r&&(i.y=r-(n.bottom-t)),i}var p,h,f,g,m,_,v=window.kendo,b=v.support,k=window.document,w=e(window),y=v.Class,x=v.ui.Widget,C=v.Observable,S=v.UserEvents,T=e.proxy,D=e.extend,I=v.getOffset,H={},E={},M={},F=v.elementUnderCursor,A="keyup",P="change",O="dragstart",z="hold",R="drag",L="dragend",V="dragcancel",N="hintDestroyed",B="dragenter",W="dragleave",q="drop",U=C.extend({init:function(t,n){var i=this,r=t[0];i.capture=!1,r.addEventListener?(e.each(v.eventMap.down.split(" "),function(){r.addEventListener(this,T(i._press,i),!0)}),e.each(v.eventMap.up.split(" "),function(){r.addEventListener(this,T(i._release,i),!0)})):(e.each(v.eventMap.down.split(" "),function(){r.attachEvent(this,T(i._press,i))}),e.each(v.eventMap.up.split(" "),function(){r.attachEvent(this,T(i._release,i))})),C.fn.init.call(i),i.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),j=C.extend({init:function(t){var n=this;C.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){this._virtualMin===e&&this._virtualMax===t||(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),i=n*t.scale,r=t.getSize();(0!==n||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=r,t.total=i,t.min=Math.min(t.max,r-i),t.minScale=r/n,t.centerOffset=(i-r)/2,t.enabled=t.forcedEnabled||i>r,e||t.trigger(P,t))}}),$=C.extend({init:function(e){var t=this;C.fn.init.call(t),t.x=new j(D({horizontal:!0},e)),t.y=new j(D({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(P,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(P)}}),G=C.extend({init:function(e){var t=this;D(t,e),C.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,n=t.dimension,i=t.axis,r=t.movable,o=r[i]+e;n.enabled&&((o<n.min&&e<0||o>n.max&&e>0)&&(e*=t.resistance),r.translateAxis(i,e),t.trigger(P,t))}}),Y=y.extend({init:function(t){var n,i,r,o,a=this;D(a,{elastic:!0},t),r=a.elastic?.5:0,o=a.movable,a.x=n=new G({axis:"x",dimension:a.dimensions.x,resistance:r,movable:o}),a.y=i=new G({axis:"y",dimension:a.dimensions.y,resistance:r,movable:o}),a.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){a.gesture=e,a.offset=a.dimensions.container.offset()},press:function(t){e(t.event.target).closest("a").is("[data-navigate-on-press=true]")&&t.sender.cancel()},gesturechange:function(e){var t,r,s,l=a.gesture,c=l.center,d=e.center,u=e.distance/l.distance,p=a.dimensions.minScale,h=a.dimensions.maxScale;o.scale<=p&&u<1&&(u+=.8*(1-u)),o.scale*u>=h&&(u=h/o.scale),r=o.x+a.offset.left,s=o.y+a.offset.top,t={x:(r-c.x)*u+d.x-r,y:(s-c.y)*u+d.y-s},o.scaleWith(u),n.dragMove(t.x),i.dragMove(t.y),a.dimensions.rescale(o.scale),a.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||i.dimension.enabled?(n.dragMove(e.x.delta),i.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),K=b.transitions.prefix+"Transform";h=b.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"},f=C.extend({init:function(t){var n=this;C.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(h(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){D(this,e),this.refresh()},refresh:function(){var e,t=this,n=t.x,i=t.y;t.round&&(n=Math.round(n),i=Math.round(i)),(e=h(n,i,t.scale))!=t.coordinates&&(v.support.browser.msie&&v.support.browser.version<10?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[K]=e,t._saveCoordinates(e),t.trigger(P))},_saveCoordinates:function(e){this.coordinates=e}}),(g=x.extend({init:function(e,t){var n,i=this;x.fn.init.call(i,e,t),(n=i.options.group)in E?E[n].push(i):E[n]=[i]},events:[B,W,q],options:{name:"DropTarget",group:"default"},destroy:function(){s(E,this)},_trigger:function(e,t){var n=this,i=H[n.options.group];if(i)return n.trigger(e,D({},t.event,{draggable:i,dropTarget:t.dropTarget}))},_over:function(e){this._trigger(B,e)},_out:function(e){this._trigger(W,e)},_drop:function(e){var t=this,n=H[t.options.group];n&&(n.dropped=!t._trigger(q,e))}})).destroyGroup=function(e){var t,n=E[e]||M[e];if(n){for(t=0;t<n.length;t++)x.fn.destroy.call(n[t]);n.length=0,delete E[e],delete M[e]}},g._cache=E,m=g.extend({init:function(e,t){var n,i=this;x.fn.init.call(i,e,t),(n=i.options.group)in M?M[n].push(i):M[n]=[i]},destroy:function(){s(M,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),_=x.extend({init:function(e,t){var n=this;x.fn.init.call(n,e,t),n._activated=!1,n.userEvents=new S(n.element,{global:!0,allowSelection:!0,filter:n.options.filter,threshold:n.options.distance,start:T(n._start,n),hold:T(n._hold,n),move:T(n._drag,n),end:T(n._end,n),cancel:T(n._cancel,n),select:T(n._select,n)}),n._afterEndHandler=T(n._afterEnd,n),n._captureEscape=T(n._captureEscape,n)},events:[z,O,R,L,V,N],options:{name:"Draggable",distance:v.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){var t=this;e.keyCode===v.keys.ESC&&(t._trigger(V,{event:e}),t.userEvents.cancel())},_updateHint:function(t){var n,i=this,o=i.options,a=i.boundaries,s=o.axis,l=i.options.cursorOffset;l?n={left:t.x.location+l.left,top:t.y.location+l.top}:(i.hintOffset.left+=t.x.delta,i.hintOffset.top+=t.y.delta,n=e.extend({},i.hintOffset)),a&&(n.top=r(n.top,a.y),n.left=r(n.left,a.x)),"x"===s?delete n.top:"y"===s&&delete n.left,i.hint.css(n)},_shouldIgnoreTarget:function(t){var n=this.options.ignore;return n&&e(t).is(n)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(n){var i,r=this,a=r.options,s=a.container?e(a.container):null,l=a.hint;return this._shouldIgnoreTarget(n.touch.initialTouch)||a.holdToDrag&&!r._activated?(r.userEvents.cancel(),t):(r.currentTarget=n.target,r.currentTargetOffset=I(r.currentTarget),l&&(r.hint&&r.hint.stop(!0,!0).remove(),r.hint=v.isFunction(l)?e(l.call(r,r.currentTarget)):l,i=I(r.currentTarget),r.hintOffset=i,r.hint.css({position:"absolute",zIndex:2e4,left:i.left,top:i.top}).appendTo(k.body),r.angular("compile",function(){r.hint.removeAttr("ng-repeat");for(var t=e(n.target);!t.data("$$kendoScope")&&t.length;)t=t.parent();return{elements:r.hint.get(),scopeFrom:t.data("$$kendoScope")}})),H[a.group]=r,r.dropped=!1,s&&(r.boundaries=o(s,r.hint)),e(k).on(A,r._captureEscape),r._trigger(O,n)&&(r.userEvents.cancel(),r._afterEnd()),r.userEvents.capture(),t)},_hold:function(e){this.currentTarget=e.target,this._trigger(z,e)?this.userEvents.cancel():this._activated=!0},_drag:function(t){var n,i;t.preventDefault(),n=this._elementUnderCursor(t),this.options.autoScroll&&this._cursorElement!==n&&(this._scrollableParent=d(n),this._cursorElement=n),this._lastEvent=t,this._processMovement(t,n),this.options.autoScroll&&this._scrollableParent[0]&&(i=u(t.x.location,t.y.location,l(this._scrollableParent)),this._scrollCompenstation=e.extend({},this.hintOffset),this._scrollVelocity=i,0===i.y&&0===i.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(e.proxy(this,"_autoScroll"),50))),this.hint&&this._updateHint(t)},_processMovement:function(n,i){this._withDropTarget(i,function(i,r){if(!i)return p&&(p._trigger(W,D(n,{dropTarget:e(p.targetElement)})),p=null),t;if(p){if(r===p.targetElement)return;p._trigger(W,D(n,{dropTarget:e(p.targetElement)}))}i._trigger(B,D(n,{dropTarget:e(r)})),p=D(i,{targetElement:r})}),this._trigger(R,D(n,{dropTarget:p,elementUnderCursor:i}))},_autoScroll:function(){var e,t,n,i,r,o,a,s,l=this._scrollableParent[0],d=this._scrollVelocity,u=this._scrollCompenstation;l&&(e=this._elementUnderCursor(this._lastEvent),this._processMovement(this._lastEvent,e),i=l===c()[0],i?(t=k.body.scrollHeight>w.height(),n=k.body.scrollWidth>w.width()):(t=l.offsetHeight<=l.scrollHeight,n=l.offsetWidth<=l.scrollWidth),r=l.scrollTop+d.y,o=t&&r>0&&r<l.scrollHeight,a=l.scrollLeft+d.x,s=n&&a>0&&a<l.scrollWidth,o&&(l.scrollTop+=d.y),s&&(l.scrollLeft+=d.x),this.hint&&i&&(s||o)&&(o&&(u.top+=d.y),s&&(u.left+=d.x),this.hint.css(u)))},_end:function(t){this._withDropTarget(this._elementUnderCursor(t),function(n,i){n&&(n._drop(D({},t,{dropTarget:e(i)})),p=null)}),this._cancel(this._trigger(L,t))},_cancel:function(e){var t=this;t._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),t._activated=!1,t.hint&&!t.dropped?setTimeout(function(){t.hint.stop(!0,!0),e?t._afterEndHandler():t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)},0):t._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,D({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(e){var t=F(e),i=this.hint;return i&&n(i[0],t)&&(i.hide(),(t=F(e))||(t=F(e)),i.show()),t},_withDropTarget:function(e,t){var n,i=this.options.group,r=E[i],o=M[i];(r&&r.length||o&&o.length)&&(n=a(e,r,o),n?t(n.target,n.targetElement):t())},destroy:function(){var e=this;x.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),e.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete H[t.options.group],t.trigger("destroy"),t.trigger(N),e(k).off(A,t._captureEscape)}}),v.ui.plugin(g),v.ui.plugin(m),v.ui.plugin(_),v.TapCapture=U,v.containerBoundaries=o,D(v.ui,{Pane:Y,PaneDimensions:$,Movable:f}),v.ui.Draggable.utils={autoScrollVelocity:u,scrollableViewPort:l,findScrollableParent:d}}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.sortable.min",["kendo.draganddrop.min"],e)}(function(){return function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(e){return!1}}function i(e){return e.clone()}function r(e){return e.clone().removeAttr("id").css("visibility","hidden")}var o=window.kendo,a=o.ui.Widget,s=o._outerWidth,l=o._outerHeight,c="start",d="beforeMove",u="move",p="end",h="change",f="cancel",g="sort",m="remove",_="receive",v=a.extend({init:function(e,t){var n=this;a.fn.init.call(n,e,t),n.options.placeholder||(n.options.placeholder=r),n.options.hint||(n.options.hint=i),n.draggable=n._createDraggable()},events:[c,d,u,p,h,f],options:{name:"Sortable",hint:null,placeholder:null,filter:">*",holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:!1,cursor:"auto",moveOnDragEnter:!1},destroy:function(){this.draggable.destroy(),a.fn.destroy.call(this)},_createDraggable:function(){var t=this,n=t.element,i=t.options;return new o.ui.Draggable(n,{filter:i.filter,hint:o.isFunction(i.hint)?i.hint:e(i.hint),holdToDrag:i.holdToDrag,container:i.container?e(i.container):null,cursorOffset:i.cursorOffset,axis:i.axis,ignore:i.ignore,autoScroll:i.autoScroll,dragstart:e.proxy(t._dragstart,t),dragcancel:e.proxy(t._dragcancel,t),drag:e.proxy(t._drag,t),dragend:e.proxy(t._dragend,t)})},_dragstart:function(t){var n=this.draggedElement=t.currentTarget,i=this.options.disabled,r=this.options.handler,a=this.options.placeholder,s=this.placeholder=e(o.isFunction(a)?a.call(this,n):a);i&&n.is(i)?t.preventDefault():r&&!e(t.initialTarget).is(r)?t.preventDefault():this.trigger(c,{item:n,draggableEvent:t})?t.preventDefault():(n.css("display","none"),n.before(s),this._setCursor())},_dragcancel:function(){this._cancel(),this.trigger(f,{item:this.draggedElement}),this._resetCursor()},_drag:function(n){var i,r,o,a,s,l=this.draggedElement,c=this._findTarget(n),d={left:n.x.location,top:n.y.location},u={x:n.x.delta,y:n.y.delta},p=this.options.axis,h=this.options.moveOnDragEnter,f={item:l,list:this,draggableEvent:n};if("x"===p||"y"===p)return this._movementByAxis(p,d,u[p],f),t;if(c){if(i=this._getElementCenter(c.element),r={left:Math.round(d.left-i.left),top:Math.round(d.top-i.top)},e.extend(f,{target:c.element}),c.appendToBottom)return this._movePlaceholder(c,null,f),t;if(c.appendAfterHidden&&this._movePlaceholder(c,"next",f),this._isFloating(c.element)?u.x<0&&h||!h&&r.left<0?o="prev":(u.x>0&&h||!h&&r.left>0)&&(o="next"):u.y<0&&h||!h&&r.top<0?o="prev":(u.y>0&&h||!h&&r.top>0)&&(o="next"),o){for(a=(s="prev"===o?jQuery.fn.prev:jQuery.fn.next).call(c.element);a.length&&!a.is(":visible");)a=s.call(a);a[0]!=this.placeholder[0]&&this._movePlaceholder(c,o,f)}}},_dragend:function(n){var i,r,o,a,s=this.placeholder,l=this.draggedElement,c=this.indexOf(l),d=this.indexOf(s),u=this.options.connectWith;return this._resetCursor(),o={action:g,item:l,oldIndex:c,newIndex:d,draggableEvent:n},d>=0?r=this.trigger(p,o):(i=s.parents(u).getKendoSortable(),o.action=m,a=e.extend({},o,{action:_,oldIndex:-1,newIndex:i.indexOf(s)}),r=!(!this.trigger(p,o)&&!i.trigger(p,a))),r||d===c?(this._cancel(),t):(s.replaceWith(l),l.show(),this.draggable.dropped=!0,o={action:-1!=this.indexOf(l)?g:m,item:l,oldIndex:c,newIndex:this.indexOf(l),draggableEvent:n},this.trigger(h,o),i&&(a=e.extend({},o,{action:_,oldIndex:-1,newIndex:i.indexOf(l)}),i.trigger(h,a)),t)},_findTarget:function(n){var i,r,o=this._findElementUnderCursor(n),a=this.options.connectWith;return e.contains(this.element[0],o)?(i=this.items(),r=i.filter(o)[0]||i.has(o)[0],r?{element:e(r),sortable:this}:null):this.element[0]==o&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==o&&this._isLastHidden()?(r=this.items().eq(0),{element:r,sortable:this,appendAfterHidden:!0}):a?this._searchConnectedTargets(o,n):t},_findElementUnderCursor:function(e){var t=o.elementUnderCursor(e),i=e.sender;return n(i.hint[0],t)&&(i.hint.hide(),(t=o.elementUnderCursor(e))||(t=o.elementUnderCursor(e)),i.hint.show()),t},_searchConnectedTargets:function(t,n){var i,r,o,a,s=e(this.options.connectWith);for(a=0;a<s.length;a++)if(i=s.eq(a).getKendoSortable(),e.contains(s[a],t)){if(i)return r=i.items(),o=r.filter(t)[0]||r.has(t)[0],o?(i.placeholder=this.placeholder,{element:e(o),sortable:i}):null}else if(s[a]==t){if(i&&i._isEmpty())return{element:s.eq(a),sortable:i,appendToBottom:!0};if(this._isCursorAfterLast(i,n))return o=i.items().last(),{element:o,sortable:i}}},_isCursorAfterLast:function(e,t){var n,i=e.items().last(),r={left:t.x.location,top:t.y.location};return n=o.getOffset(i),n.top+=l(i),n.left+=s(i),(this._isFloating(i)?n.left-r.left:n.top-r.top)<0},_movementByAxis:function(t,n,i,r){var o,a="x"===t?n.left:n.top,s=i<0?this.placeholder.prev():this.placeholder.next();s.length&&!s.is(":visible")&&(s=i<0?s.prev():s.next()),e.extend(r,{target:s}),(o=this._getElementCenter(s))&&(o="x"===t?o.left:o.top),s.length&&i<0&&a-o<0?this._movePlaceholder({element:s,sortable:this},"prev",r):s.length&&i>0&&a-o>0&&this._movePlaceholder({element:s,sortable:this},"next",r)},_movePlaceholder:function(e,t,n){var i=this.placeholder;e.sortable.trigger(d,n)||(t?"prev"===t?e.element.before(i):"next"===t&&e.element.after(i):e.element.append(i),e.sortable.trigger(u,n))},_setCursor:function(){var t,n=this.options.cursor;n&&"auto"!==n&&(t=e(document.body),this._originalCursorType=t.css("cursor"),t.css({cursor:n}),this._cursorStylesheet||(this._cursorStylesheet=e("<style>* { cursor: "+n+" !important; }</style>")),this._cursorStylesheet.appendTo(t))},_resetCursor:function(){this._originalCursorType&&(e(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(e){var t=e.length?o.getOffset(e):null;return t&&(t.top+=l(e)/2,t.left+=s(e)/2),t},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_cancel:function(){this.draggedElement.show(),this.placeholder.remove()},_items:function(){var e=this.options.filter;return e?this.element.find(e):this.element.children()},indexOf:function(e){var t=this._items(),n=this.placeholder,i=this.draggedElement;return n&&e[0]==n[0]?t.not(i).index(e):t.not(n).index(e)},items:function(){var e=this.placeholder,t=this._items();return e&&(t=t.not(e)),t},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return 1===this.items().length&&this.items().is(":hidden")}});o.ui.plugin(v)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.selectable.min",["kendo.core.min","kendo.userevents.min"],e)}(function(){return function(e,t){function n(e,t){if(!e.is(":visible"))return!1;var n=r.getOffset(e),i=t.left+t.width,o=t.top+t.height;return n.right=n.left+r._outerWidth(e),n.bottom=n.top+r._outerHeight(e),!(n.left>i||n.right<t.left||n.top>o||n.bottom<t.top)}var i,r=window.kendo,o=r.ui.Widget,a=e.proxy,s=Math.abs,l="aria-selected",c="k-state-selected",d="k-state-selecting",u="k-selectable",p="change",h="k-state-unselecting",f=r.support.browser.msie,g=!1;!function(e){!function(){e('<div class="parent"><span /></div>').on("click",">*",function(){g=!0}).find("span").click().end().off()}()}(e),(i=o.extend({init:function(t,n){var i,s=this;o.fn.init.call(s,t,n),s._marquee=e("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),s._lastActive=null,s.element.addClass(u),s.relatedTarget=s.options.relatedTarget,i=s.options.multiple,this.options.aria&&i&&s.element.attr("aria-multiselectable",!0),s.userEvents=new r.UserEvents(s.element,{global:!0,allowSelection:!0,filter:(g?"":"."+u+" ")+s.options.filter,tap:a(s._tap,s),touchAction:i?"none":"pan-x pan-y"}),i&&s.userEvents.bind("start",a(s._start,s)).bind("move",a(s._move,s)).bind("end",a(s._end,s)).bind("select",a(s._select,s))},events:[p],options:{name:"Selectable",filter:">*",inputSelectors:"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:!1,relatedTarget:e.noop},_isElement:function(e){var t,n=this.element,i=n.length,r=!1;for(e=e[0],t=0;t<i;t++)if(n[t]===e){r=!0;break}return r},_tap:function(t){var n,i=e(t.target),r=this,o=t.event.ctrlKey||t.event.metaKey,a=r.options.multiple,s=a&&t.event.shiftKey,l=t.event.which,d=t.event.button;!r._isElement(i.closest("."+u))||l&&3==l||d&&2==d||this._allowSelection(t.event.target)&&(n=i.hasClass(c),a&&o||r.clear(),i=i.add(r.relatedTarget(i)),s?r.selectRange(r._firstSelectee(),i,t):(n&&o?(r._unselect(i),r._notify(p,t)):r.value(i,t),r._lastActive=r._downTarget=i))},_start:function(n){var i,r=this,o=e(n.target),a=o.hasClass(c),s=n.event.ctrlKey||n.event.metaKey;if(this._allowSelection(n.event.target)){if(r._downTarget=o,!r._isElement(o.closest("."+u)))return r.userEvents.cancel(),t;r.options.useAllItems?r._items=r.element.find(r.options.filter):(i=o.closest(r.element),r._items=i.find(r.options.filter)),n.sender.capture(),r._marquee.appendTo(document.body).css({left:n.x.client+1,top:n.y.client+1,width:0,height:0}),s||r.clear(),o=o.add(r.relatedTarget(o)),a&&(r._selectElement(o,!0),s&&o.addClass(h))}},_move:function(e){var t=this,n={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:s(e.x.initialDelta),height:s(e.y.initialDelta)};t._marquee.css(n),t._invalidateSelectables(n,e.event.ctrlKey||e.event.metaKey),e.preventDefault()},_end:function(e){var t,n=this;n._marquee.remove(),n._unselect(n.element.find(n.options.filter+"."+h)).removeClass(h),t=(t=n.element.find(n.options.filter+"."+d)).add(n.relatedTarget(t)),n.value(t,e),n._lastActive=n._downTarget,n._items=null},_invalidateSelectables:function(e,t){var i,r,o,a,s=this._downTarget[0],l=this._items;for(i=0,r=l.length;i<r;i++)a=l.eq(i),o=a.add(this.relatedTarget(a)),n(a,e)?a.hasClass(c)?t&&s!==a[0]&&o.removeClass(c).addClass(h):a.hasClass(d)||a.hasClass(h)||o.addClass(d):a.hasClass(d)?o.removeClass(d):t&&a.hasClass(h)&&o.removeClass(h).addClass(c)},value:function(e,n){var i=this,r=a(i._selectElement,i);return e?(e.each(function(){r(this)}),i._notify(p,n),t):i.element.find(i.options.filter+"."+c)},_firstSelectee:function(){var e,t=this;return null!==t._lastActive?t._lastActive:(e=t.value(),e.length>0?e[0]:t.element.find(t.options.filter)[0])},_selectElement:function(t,n){var i=e(t),r=!n&&this._notify("select",{element:t});i.removeClass(d),r||(i.addClass(c),this.options.aria&&i.attr(l,!0))},_notify:function(e,t){return t=t||{},this.trigger(e,t)},_unselect:function(e){return e.removeClass(c),this.options.aria&&e.attr(l,!1),e},_select:function(t){this._allowSelection(t.event.target)&&(!f||f&&!e(r._activeElement()).is(this.options.inputSelectors))&&t.preventDefault()},_allowSelection:function(t){return!e(t).is(this.options.inputSelectors)||(this.userEvents.cancel(),this._downTarget=null,!1)},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var e=this.element.find(this.options.filter+"."+c);this._unselect(e)},selectRange:function(t,n,i){var r,o,a,s=this;for(s.clear(),s.element.length>1&&(a=s.options.continuousItems()),a&&a.length||(a=s.element.find(s.options.filter)),(t=e.inArray(e(t)[0],a))>(n=e.inArray(e(n)[0],a))&&(o=t,t=n,n=o),s.options.useAllItems||(n+=s.element.length-1),r=t;r<=n;r++)s._selectElement(a[r]);s._notify(p,i)},destroy:function(){var e=this;o.fn.destroy.call(e),e.element.off(".kendoSelectable"),e.userEvents.destroy(),e._marquee=e._lastActive=e.element=e.userEvents=null}})).parseOptions=function(e){var t="string"==typeof e&&e.toLowerCase();return{multiple:t&&t.indexOf("multiple")>-1,cell:t&&t.indexOf("cell")>-1}},r.ui.plugin(i)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.calendar.min",["kendo.core.min","kendo.selectable.min"],e)}(function(){return function(e,t){function n(e,t,n,i){var r,o=e.getFullYear(),a=t.getFullYear(),s=n.getFullYear();return o-=o%i,r=o+(i-1),o<a&&(o=a),r>s&&(r=s),o+"-"+r}function i(e){var t,n=0,i=e.min,r=e.max,o=e.start,a=e.setter,l=e.build,c=e.weekNumberBuild,d=e.cells||12,u=e.isWeekColumnVisible,p=e.perRow||4,h=e.weekNumber||q,g=e.content||B,m=e.empty||W,_=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(u&&(_+=h(c(o)));n<d;n++)n>0&&n%p==0&&(_+='</tr><tr role="row">',u&&(_+=h(c(o)))),o=f(o.getFullYear(),o.getMonth(),o.getDate()),A(o,0),t=l(o,n,e.disableDates),_+=s(o,i,r)?g(t):m(t),a(o,1);return _+"</tr></tbody></table>"}function r(e,t,n){var i=e.getFullYear(),r=t.getFullYear(),o=r,a=0;return n&&(r-=r%n,o=r-r%n+n-1),i>o?a=1:i<r&&(a=-1),a}function o(){var e=new Te;return new Te(e.getFullYear(),e.getMonth(),e.getDate())}function a(e,t,n){var i=o();return e&&(i=new Te(+e)),t>i?i=new Te(+t):n<i&&(i=new Te(+n)),i}function s(e,t,n){return+e>=+t&&+e<=+n}function l(e,t){return e.slice(t).concat(e.slice(0,t))}function c(e,t,n){t=t instanceof Te?t.getFullYear():e.getFullYear()+n*t,e.setFullYear(t)}function d(e,t){var n,i,r;return+t<+e&&(n=+e,T.views[0].setDate(e,t),T.views[0].setDate(t,new Date(n))),i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),Math.ceil((+r-+i)/D.date.MS_PER_DAY)}function u(e,t,n,i){var r,o;for(r=0;r<=t;r++)o=new Date(n.getTime()),o=new Date(o.setDate(o.getDate()+r)),i(o)||e.push(o)}function p(t){e(this).hasClass("k-state-disabled")||e(this).toggleClass(re,me.indexOf(t.type)>-1||t.type==fe)}function h(e){e.preventDefault()}function f(e,t,n){var i=new Te(e,t,n);return i.setFullYear(e,t,n),i}function g(e){return L(e).calendars.standard}function m(e){var n=De[e.start],i=De[e.depth],r=L(e.culture);e.format=z(e.format||r.calendars.standard.patterns.d),isNaN(n)&&(n=0,e.start=Z),(i===t||i>n)&&(e.depth=Z),null===e.dates&&(e.dates=[])}function _(e){j&&e.find("*").attr("unselectable","on")}function v(e,t){e.addClass("k-"+t)}function b(e,t){for(var n=0,i=t.length;n<i;n++)if(e===+t[n])return!0;return!1}function k(e,t){return!!e&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function w(e,t){return!!e&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function y(t){return D.isFunction(t)?t:e.isArray(t)?C(t):e.noop}function x(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e[t].setHours(0,0,0,0));return n}function C(t){var n,i,r,o,a=[],s=["su","mo","tu","we","th","fr","sa"],l="if (found) { return true } else {return false}";if(t[0]instanceof Te)a=x(t),n="var found = date && window.kendo.jQuery.inArray(date.setHours(0, 0, 0, 0),["+a+"]) > -1;"+l;else{for(i=0;i<t.length;i++)r=t[i].slice(0,2).toLowerCase(),(o=e.inArray(r,s))>-1&&a.push(o);n="var found = date && window.kendo.jQuery.inArray(date.getDay(),["+a+"]) > -1;"+l}return Function("date",n)}function S(e,t){return e instanceof Date&&t instanceof Date&&(e=e.getTime(),t=t.getTime()),e===t}var T,D=window.kendo,I=D.support,H=D.ui,E=H.Widget,M=D.keys,F=D.parseDate,A=D.date.adjustDST,P=D.date.weekInYear,O=D.ui.Selectable,z=D._extractFormat,R=D.template,L=D.getCulture,V=D.support.transitions,N=V?V.css+"transform-origin":"",B=R('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),W=R('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),q=R('<td class="k-alt">#= data.weekNumber #</td>',{useWithBlock:!1}),U=D.support.browser,j=U.msie&&U.version<9,$=D._outerHeight,G=D._outerWidth,Y=".kendoCalendar",K="click"+Y,Q="id",J="left",X="slideIn",Z="month",ee="century",te="change",ne="navigate",ie="value",re="k-state-hover",oe="k-state-disabled",ae="k-state-focused",se="k-other-month",le=' class="'+se+'"',ce="k-nav-today",de="td:has(.k-link)",ue="td:has(.k-link):not(."+oe+")",pe="k-state-selected",he="blur"+Y,fe="focus",ge=fe+Y,me=I.touch?"touchstart":"mouseenter",_e=I.touch?"touchstart"+Y:"mouseenter"+Y,ve=I.touch?"touchend"+Y+" touchmove"+Y:"mouseleave"+Y,be="_prevArrow",ke="_nextArrow",we="aria-disabled",ye="aria-selected",xe="aria-label",Ce=e.proxy,Se=e.extend,Te=Date,De={month:0,year:1,decade:2,century:3},Ie=E.extend({init:function(t,n){var i,r,s=this;E.fn.init.call(s,t,n),t=s.wrapper=s.element,(n=s.options).url=window.unescape(n.url),s.options.disableDates=y(s.options.disableDates),s._templates(),s._selectable(),s._header(),s._footer(s.footer),(r=t.addClass("k-widget k-calendar "+(n.weekNumber?" k-week-number":"")).on(_e+" "+ve,de,p).on("keydown.kendoCalendar","table.k-content",Ce(s._move,s)).on(K,de,function(t){var i=t.currentTarget.firstChild,r=s._toDateObject(i);-1!=i.href.indexOf("#")&&t.preventDefault(),"month"==s._view.name&&s.options.disableDates(r)||"month"==s._view.name&&"single"!=n.selectable||s._click(e(i))}).on("mouseup"+Y,"table.k-content, .k-footer",function(){s._focusView(!1!==s.options.focusOnNav)}).attr(Q))&&(s._cellID=r+"_cell_selected"),s._isMultipleSelection()&&s.options.weekNumber&&t.on(K,"td:not(:has(.k-link))",function(t){var n=e(t.currentTarget).closest("tr").find(ue).first(),i=s.selectable._lastActive=e(t.currentTarget).closest("tr").find(ue).last();s.selectable.selectRange(n,i,{event:t}),s._current=s._value=s._toDateObject(i.find("a")),s._class(ae,s._current)}),m(n),i=F(n.value,n.format,n.culture),s._selectDates=[],s._index=De[n.start],s._current=new Te(+a(i,n.min,n.max)),s._addClassProxy=function(){if(s._active=!0,s._cell.hasClass(oe)){var e=s._view.toDateString(o());s._cell=s._cellByDate(e)}s._cell.addClass(ae)},s._removeClassProxy=function(){s._active=!1,s._cell.removeClass(ae)},s.value(i),s._isMultipleSelection()&&n.selectDates.length>0&&s.selectDates(n.selectDates),D.notify(s)},options:{name:"Calendar",value:null,min:new Te(1900,0,1),max:new Te(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:!1,selectable:"single",selectDates:[],start:Z,depth:Z,animation:{horizontal:{effects:X,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:""}},events:[te,ne],setOptions:function(e){var t=this;m(e),e.disableDates=y(e.disableDates),E.fn.setOptions.call(t,e),t._templates(),t._selectable(),t._footer(t.footer),t._index=De[t.options.start],t.navigate()},destroy:function(){var e=this,t=e._today;e.element.off(Y),e._title.off(Y),e[be].off(Y),e[ke].off(Y),e._destroySelectable(),D.destroy(e._table),t&&D.destroy(t.off(Y)),E.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table,this._bindTable(e),e.focus()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(be,-1)},navigateToFuture:function(){this._navigate(ke,1)},navigateUp:function(){var e=this,t=e._index;e._title.hasClass(oe)||e.navigate(e._current,++t)},navigateDown:function(e){var n=this,i=n._index,r=n.options.depth;if(e)return i===De[r]?(S(n._value,n._current)&&S(n._value,e)||(n.value(e),n.trigger(te)),t):(n.navigate(e,--i),t)},navigate:function(n,i){var r,o,s,l,c,d,u,p,h,f,g,m,b,k,w,y;i=isNaN(i)?De[i]:i,s=(o=(r=this).options).culture,l=o.min,c=o.max,d=r._title,u=r._table,p=r._oldTable,h=r._current,f=n&&+n>+h,g=i!==t&&i!==r._index,n||(n=h),r._current=n=new Te(+a(n,l,c)),i===t?i=r._index:r._index=i,r._view=b=T.views[i],k=b.compare,w=i===De[ee],d.toggleClass(oe,w).attr(we,w),w=k(n,l)<1,r[be].toggleClass(oe,w).attr(we,w),r[be].hasClass(oe)&&r[be].removeClass(re),w=k(n,c)>-1,r[ke].toggleClass(oe,w).attr(we,w),r[ke].hasClass(oe)&&r[ke].removeClass(re),u&&p&&p.data("animating")&&(p.kendoStop(!0,!0),u.kendoStop(!0,!0)),r._oldTable=u,u&&!r._changeView||(d.html(b.title(n,l,c,s)),r._table=m=e(b.content(Se({min:l,max:c,date:n,url:o.url,dates:o.dates,format:o.format,culture:s,disableDates:o.disableDates,isWeekColumnVisible:o.weekNumber,messages:o.messages},r[b.name]))),v(m,b.name),_(m),y=u&&u.data("start")===m.data("start"),r._animate({from:u,to:m,vertical:g,future:f,replace:y}),r.trigger(ne),r._focus(n)),i===De[o.depth]&&r._selectDates.length>0&&r._visualizeSelectedDatesInView(),"single"===r.options.selectable&&i===De[o.depth]&&r._value&&!r.options.disableDates(r._value)&&r._class("k-state-selected",r._value),r._class(ae,n),!u&&r._cell&&r._cell.removeClass(ae),r._changeView=!0},selectDates:function(n){var i,r,o=this;return n===t?o._selectDates:(r=n.map(function(e){return e.getTime()}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return new Date(e)}),i=e.grep(r,function(e){if(e)return+o._validateValue(new Date(e.setHours(0,0,0,0)))==+e}),o._selectDates=i.length>0?i:0===r.length?r:o._selectDates,o._visualizeSelectedDatesInView(),t)},value:function(e){var n,i=this,r=i._view,o=i._view;return e===t?i._value:((e=i._validateValue(e))&&i._isMultipleSelection()&&((n=new Date(+e)).setHours(0,0,0,0),i._selectDates=[n],i.selectable._lastActive=null),r&&null===e&&i._cell?i._cell.removeClass(pe):(i._changeView=!e||o&&0!==o.compare(e,i._current),i.navigate(e)),t)},_validateValue:function(e){var n=this,i=n.options,r=i.min,o=i.max;return null===e&&(n._current=f(n._current.getFullYear(),n._current.getMonth(),n._current.getDate())),null!==(e=F(e,i.format,i.culture))&&(e=new Te(+e),s(e,r,o)||(e=null)),null!==e&&n.options.disableDates(new Date(+e))?n._value===t&&(n._value=null):n._value=e,n._value},_visualizeSelectedDatesInView:function(){var t,n=this,i={};e.each(n._selectDates,function(e,t){i[D.calendar.views[0].toDateString(t)]=t}),n.selectable.clear(),(t=n._table.find(de).filter(function(t,n){return i[e(n.firstChild).attr(D.attr(ie))]})).length>0&&n.selectable._selectElement(t,!0)},_isMultipleSelection:function(){return"multiple"===this.options.selectable},_selectable:function(){var e,t,n=this;n._isMultipleSelection()&&(e=n.options.selectable,(t=O.parseOptions(e)).multiple&&n.element.attr("aria-multiselectable","true"),n.selectable=new O(n.wrapper,{aria:!0,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:t.multiple,filter:"table.k-month:eq(0) "+ue,change:Ce(n._onSelect,n),relatedTarget:Ce(n._onRelatedTarget,n)}))},_onRelatedTarget:function(e){var t=this;t.selectable.options.multiple&&e.is(ue)&&(t._current=t._toDateObject(e.find("a")),t._class(ae,t._toDateObject(e.find("a"))))},_onSelect:function(n){var i=this,r=n;return O.parseOptions(i.options.selectable).multiple?(r.event.ctrlKey||r.event.metaKey?e(r.event.currentTarget).is(ue)?i._toggleSelection(e(r.event.currentTarget)):(i._cellsBySelector(ue).each(function(t,n){var r=i._toDateObject(e(n).find("a"));i._deselect(r)}),i._addSelectedCellsToArray()):r.event.shiftKey?i._rangeSelection(i._cell):e(r.event.currentTarget).is(de)?i.value(i._toDateObject(e(r.event.currentTarget).find("a"))):(i._selectDates=[],i._addSelectedCellsToArray()),i.trigger(te),t):(e(r.event.currentTarget).is("td")&&!e(r.event.currentTarget).hasClass("k-state-selected")?e(r.event.currentTarget).addClass("k-state-selected"):i._click(e(r.event.currentTarget).find("a")),t)},_destroySelectable:function(){var e=this;e.selectable&&(e.selectable.destroy(),e.selectable=null)},_toggleSelection:function(e){var t=this,n=t._toDateObject(e.find("a"));e.hasClass("k-state-selected")?t._selectDates.push(n):t._deselect(n)},_rangeSelection:function(e,t){var n,i=this,r=t||i._toDateObject(i.selectable.value().first().find("a")),o=i._toDateObject(e.find("a"));i.selectable._lastActive||i._value?r=i.selectable._lastActive?i._toDateObject(i.selectable._lastActive.find("a")):new Date(+i._value):i.selectable._lastActive=t?i._cellByDate(i._view.toDateString(t),ue):i.selectable.value().first(),i._selectDates=[],n=d(r,o),u(i._selectDates,n,r,i.options.disableDates),i._visualizeSelectedDatesInView()},_cellsBySelector:function(e){return this._table.find(e)},_addSelectedCellsToArray:function(){var t=this;t.selectable.value().each(function(n,i){var r=t._toDateObject(e(i.firstChild));t.options.disableDates(r)||t._selectDates.push(r)})},_deselect:function(e){var t=this,n=t._selectDates.map(Number).indexOf(+e);-1!=n&&t._selectDates.splice(n,1)},_dateInView:function(e){var t=this,n=t._toDateObject(t._cellsBySelector(de+":first").find("a"));return+e<=+t._toDateObject(t._cellsBySelector(de+":last").find("a"))&&+e>=+n},_move:function(n){var i,r,o,l,c,d=this,u=d.options,p=n.keyCode,h=d._view,g=d._index,m=d.options.min,_=d.options.max,v=new Te(+d._current),b=D.support.isRtl(d.wrapper),k=d.options.disableDates;return n.target===d._table[0]&&(d._active=!0),p==M.RIGHT&&!b||p==M.LEFT&&b?(i=1,r=!0):p==M.LEFT&&!b||p==M.RIGHT&&b?(i=-1,r=!0):p==M.UP?(i=0===g?-7:-4,r=!0):p==M.DOWN?(i=0===g?7:4,r=!0):p==M.SPACEBAR?(i=0,r=!0):p!=M.HOME&&p!=M.END||(o=p==M.HOME?"first":"last",l=h[o](v),(v=new Te(l.getFullYear(),l.getMonth(),l.getDate(),v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds())).setFullYear(l.getFullYear()),r=!0),n.ctrlKey||n.metaKey?p==M.RIGHT&&!b||p==M.LEFT&&b?(d.navigateToFuture(),r=!0):p==M.LEFT&&!b||p==M.RIGHT&&b?(d.navigateToPast(),r=!0):p==M.UP?(d.navigateUp(),r=!0):p==M.DOWN?(d._click(e(d._cell[0].firstChild)),r=!0):p!=M.ENTER&&p!=M.SPACEBAR||!d._isMultipleSelection()||(d._keyboardToggleSelection(n),c=d._toDateObject(e(d._cell[0]).find("a")),d._class(ae,c)):n.shiftKey?(i!==t||o)&&(o||h.setDate(v,i),k(v)&&(v=d._nextNavigatable(v,i)),m=f(m.getFullYear(),m.getMonth(),m.getDate()),s(v,m,_)&&(d._isMultipleSelection()?d._keyboardRangeSelection(n,v):d._focus(a(v,u.min,u.max)))):(p==M.ENTER||p==M.SPACEBAR?("month"==h.name&&d._isMultipleSelection()?(d.value(d._toDateObject(e(d._cell.find("a")))),d.selectable._lastActive=e(d._cell[0]),d.trigger(te)):d._click(e(d._cell[0].firstChild)),r=!0):p==M.PAGEUP?(r=!0,d.navigateToPast()):p==M.PAGEDOWN&&(r=!0,d.navigateToFuture()),(i||o)&&(o||h.setDate(v,i),k(v)&&(v=d._nextNavigatable(v,i)),m=f(m.getFullYear(),m.getMonth(),m.getDate()),s(v,m,_)&&(d._isMultipleSelection()?d._dateInView(v)?(d._current=v,d._class(ae,v)):d.navigate(v):d._focus(a(v,u.min,u.max))))),r&&n.preventDefault(),d._current},_keyboardRangeSelection:function(e,n){var i,r,o=this;return o._dateInView(n)?(o.selectable.options.filter=o.wrapper.find("table").length>1&&+n>+o._current?"table.k-month:eq(1) "+ue:"table.k-month:eq(0) "+ue,o._class(ae,n),o._current=n,o._rangeSelection(o._cellByDate(o._view.toDateString(n),ue),n),o.trigger(te),o.selectable.options.filter="table.k-month:eq(0) "+ue,t):(o._selectDates=[],i=o.selectable._lastActive?o._toDateObject(o.selectable._lastActive.find("a")):n,r=d(i,new Date(+n)),u(o._selectDates,r,i,o.options.disableDates),o.navigate(n),o._current=n,o.selectable._lastActive=o.selectable._lastActive||o._cellByDate(o._view.toDateString(n),ue),o.trigger(te),t)},_keyboardToggleSelection:function(t){var n=this;t.currentTarget=n._cell[0],n.selectable._lastActive=e(n._cell[0]),e(n._cell[0]).hasClass(pe)?(n.selectable._unselect(e(n._cell[0])),n.selectable.trigger(te,{event:t})):n.selectable.value(e(n._cell[0]),{event:t})},_nextNavigatable:function(e,t){var n=this,i=!0,r=n._view,o=n.options.min,a=n.options.max,l=n.options.disableDates,c=new Date(e.getTime());for(r.setDate(c,-t);i;){if(r.setDate(e,t),!s(e,o,a)){e=c;break}i=l(e)}return e},_animate:function(e){var t=this,n=e.from,i=e.to,r=t._active;n?n.parent().data("animating")?(n.off(Y),n.parent().kendoStop(!0,!0).remove(),n.remove(),i.insertAfter(t.element[0].firstChild),t._focusView(r)):!n.is(":visible")||!1===t.options.animation||e.replace?(i.insertAfter(n),n.off(Y).remove(),t._focusView(r)):t[e.vertical?"_vertical":"_horizontal"](n,i,e.future):(i.insertAfter(t.element[0].firstChild),t._bindTable(i))},_horizontal:function(e,t,n){var i=this,r=i._active,o=i.options.animation.horizontal,a=o.effects,s=G(e);a&&-1!=a.indexOf(X)&&(e.add(t).css({width:s}),e.wrap("<div/>"),i._focusView(r,e),e.parent().css({position:"relative",width:2*s,float:J,"margin-left":n?0:-s}),t[n?"insertAfter":"insertBefore"](e),Se(o,{effects:X+":"+(n?"right":J),complete:function(){e.off(Y).remove(),i._oldTable=null,t.unwrap(),i._focusView(r)}}),e.parent().kendoStop(!0,!0).kendoAnimate(o))},_vertical:function(e,t){var n,i,r=this,o=r.options.animation.vertical,a=o.effects,s=r._active;a&&-1!=a.indexOf("zoom")&&(t.css({position:"absolute",top:$(e.prev()),left:0}).insertBefore(e),N&&(n=r._cellByDate(r._view.toDateString(r._current)),i=n.position(),i=i.left+parseInt(n.width()/2,10)+"px "+(i.top+parseInt(n.height()/2,10))+"px",t.css(N,i)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(Y).remove(),r._oldTable=null,t.css({position:"static",top:0,left:0}),r._focusView(s)}}),t.kendoStop(!0,!0).kendoAnimate(o))},_cellByDate:function(t,n){return this._table.find(n||"td:not(."+se+")").filter(function(){return e(this.firstChild).attr(D.attr(ie))===t})},_class:function(e,t){var n,i=this,r=i._cellID,o=i._cell,a=i._view.toDateString(t);o&&o.removeAttr(ye).removeAttr(xe).removeAttr(Q),t&&"month"==i._view.name&&(n=i.options.disableDates(t)),i._cellsBySelector(i._isMultipleSelection()?de:"td:not(."+se+")").removeClass(e),o=i._cellByDate(a,"multiple"==i.options.selectable?de:"td:not(."+se+")").attr(ye,!0),(e===ae&&!i._active&&!1!==i.options.focusOnNav||n)&&(e=""),o.addClass(e),o[0]&&(i._cell=o),r&&(o.attr(Q,r),i._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",r))},_bindTable:function(e){e.on(ge,this._addClassProxy).on(he,this._removeClassProxy)},_click:function(e){var t=this,n=t.options,i=new Date(+t._current),r=t._toDateObject(e);A(r,0),"month"==t._view.name&&t.options.disableDates(r)&&(r=t._value),t._view.setDate(i,r),t.navigateDown(a(i,n.min,n.max))},_focus:function(e){var t=this;0!==t._view.compare(e,t._current)?t.navigate(e):(t._current=e,t._class(ae,e))},_focusView:function(e,t){e&&this.focus(t)},_footer:function(n){var i=this,r=o(),a=i.element,s=a.find(".k-footer");return n?(s[0]||(s=e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(a)),i._today=s.show().find(".k-link").html(n(r)).attr("title",D.toString(r,"D",i.options.culture)),i._toggle(),t):(i._toggle(!1),s.hide(),t)},_header:function(){var e,t=this,n=t.element;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev" '+xe+'="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next" '+xe+'="Next"><span class="k-icon k-i-arrow-60-right"></span></a></div>'),e=n.find(".k-link").on(_e+" "+ve+" "+ge+" "+he,p).click(!1),t._title=e.eq(1).on(K,function(){t._active=!1!==t.options.focusOnNav,t.navigateUp()}),t[be]=e.eq(0).on(K,function(){t._active=!1!==t.options.focusOnNav,t.navigateToPast()}),t[ke]=e.eq(2).on(K,function(){t._active=!1!==t.options.focusOnNav,t.navigateToFuture()})},_navigate:function(e,t){var n,i=this,r=i._index+1,o=new Te(+i._current);i._isMultipleSelection()&&(n=i._table.find("td:not(.k-other-month)").has(".k-link").first(),o=i._toDateObject(n.find("a")),i._current=new Date(+o)),(e=i[e]).hasClass(oe)||(r>3?o.setFullYear(o.getFullYear()+100*t):T.views[r].setDate(o,t),i.navigate(o))},_option:function(e,n){var i,r=this,o=r.options,a=r._value||r._current;return n===t?o[e]:((n=F(n,o.format,o.culture))&&(o[e]=new Te(+n),((i="min"===e?n>a:a>n)||w(a,n))&&(i&&(r._value=null),r._changeView=!0),r._changeView||(r._changeView=!(!o.month.content&&!o.month.empty)),r.navigate(r._value),r._toggle()),t)},_toggle:function(e){var n=this,i=n.options,r=n.options.disableDates(o()),a=n._today;e===t&&(e=s(o(),i.min,i.max)),a&&(a.off(K),e&&!r?a.addClass(ce).removeClass(oe).on(K,Ce(n._todayClick,n)):a.removeClass(ce).addClass(oe).on(K,h))},_todayClick:function(e){var t=this,n=De[t.options.depth],i=t.options.disableDates,r=o();e.preventDefault(),i(r)||(0===t._view.compare(t._current,r)&&t._index==n&&(t._changeView=!1),t._isMultipleSelection()&&(t._selectDates=[r],t.selectable._lastActive=null),t._value=r,t.navigate(r,n),t.trigger(te))},_toDateObject:function(t){var n=e(t).attr(D.attr(ie)).split("/");return n=f(n[0],n[1],n[2])},_templates:function(){var e=this,t=e.options,n=t.footer,i=t.month,r=i.content,o=i.weekNumber,a=i.empty;e.month={content:R('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+D.attr(ie)+'="#=data.dateString#" title="#=data.title#">'+(r||"#=data.value#")+"</a></td>",{useWithBlock:!!r}),empty:R('<td role="gridcell">'+(a||"&nbsp;")+"</td>",{useWithBlock:!!a}),weekNumber:R('<td class="k-alt">'+(o||"#= data.weekNumber #")+"</td>",{useWithBlock:!!o})},e.footer=!1!==n?R(n||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}});H.plugin(Ie),(T={firstDayOfMonth:function(e){return f(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){var n=(t=t||D.culture().calendar).firstDay,i=new Te(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());for(i.setFullYear(e.getFullYear());i.getDay()!=n;)T.setTime(i,-864e5);return i},setTime:function(e,t){var n=e.getTimezoneOffset(),i=new Te(e.getTime()+t),r=i.getTimezoneOffset()-n;e.setTime(i.getTime()+6e4*r)},views:[{name:Z,title:function(e,t,n,i){return g(i).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){var t=this,n=0,r=e.min,a=e.max,s=e.date,c=e.dates,d=e.format,u=e.culture,p=e.url,h=e.isWeekColumnVisible,m=p&&c[0],_=g(u),v=_.firstDay,k=_.days,w=l(k.names,v),y=l(k.namesShort,v),x=T.firstVisibleDay(s,_),C=t.first(s),S=t.last(s),I=t.toDateString,H=o(),E='<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="'+I(x)+'"><thead><tr role="row">';for(h&&(E+='<th scope="col" class="k-alt">'+e.messages.weekColumnHeader+"</th>");n<7;n++)E+='<th scope="col" title="'+w[n]+'">'+y[n]+"</th>";return A(H,0),H=+H,i({cells:42,perRow:7,html:E+='</tr></thead><tbody><tr role="row">',start:x,isWeekColumnVisible:h,weekNumber:e.weekNumber,min:f(r.getFullYear(),r.getMonth(),r.getDate()),max:f(a.getFullYear(),a.getMonth(),a.getDate()),content:e.content,empty:e.empty,setter:t.setDate,disableDates:e.disableDates,build:function(e,t,n){var i=[],r=e.getDay(),o="",a="#";return(e<C||e>S)&&i.push(se),n(e)&&i.push(oe),+e===H&&i.push("k-today"),0!==r&&6!==r||i.push("k-weekend"),m&&b(+e,c)&&(a=p.replace("{0}",D.toString(e,d,u)),o=" k-action-link"),{date:e,dates:c,ns:D.ns,title:D.toString(e,"D",u),value:e.getDate(),dateString:I(e),cssClass:i[0]?' class="'+i.join(" ")+'"':"",linkClass:o,url:a}},weekNumberBuild:function(e){return{weekNumber:P(e,D.culture().calendar.firstDay),currentDate:e}}})},first:function(e){return T.firstDayOfMonth(e)},last:function(e){var t=f(e.getFullYear(),e.getMonth()+1,0),n=T.firstDayOfMonth(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i/60),t},compare:function(e,t){var n=e.getMonth(),i=e.getFullYear(),r=t.getMonth(),o=t.getFullYear();return i>o?1:i<o?-1:n==r?0:n>r?1:-1},setDate:function(e,t){var n=e.getHours();t instanceof Te?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):T.setTime(e,864e5*t),A(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=g(e.culture).months.namesAbbr,n=this.toDateString,r=e.min,o=e.max;return i({min:f(r.getFullYear(),r.getMonth(),1),max:f(o.getFullYear(),o.getMonth(),1),start:f(e.date.getFullYear(),0,1),setter:this.setDate,build:function(e){return{value:t[e.getMonth()],ns:D.ns,dateString:n(e),cssClass:""}}})},first:function(e){return f(e.getFullYear(),0,e.getDate())},last:function(e){return f(e.getFullYear(),11,e.getDate())},compare:function(e,t){return r(e,t)},setDate:function(e,t){var n,i=e.getHours();t instanceof Te?(n=t.getMonth(),e.setFullYear(t.getFullYear(),n,e.getDate()),n!==e.getMonth()&&e.setDate(0)):(n=e.getMonth()+t,e.setMonth(n),n>11&&(n-=12),n>0&&e.getMonth()!=n&&e.setDate(0)),A(e,i)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"}},{name:"decade",title:function(e,t,i){return n(e,t,i,10)},content:function(e){var t=e.date.getFullYear(),n=this.toDateString;return i({start:f(t-t%10-1,0,1),min:f(e.min.getFullYear(),0,1),max:f(e.max.getFullYear(),0,1),setter:this.setDate,build:function(e,t){return{value:e.getFullYear(),ns:D.ns,dateString:n(e),cssClass:0===t||11==t?le:""}}})},first:function(e){var t=e.getFullYear();return f(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return f(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return r(e,t,10)},setDate:function(e,t){c(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"}},{name:ee,title:function(e,t,i){return n(e,t,i,100)},content:function(e){var t=e.date.getFullYear(),n=e.min.getFullYear(),r=e.max.getFullYear(),o=this.toDateString,a=n,s=r;return a-=a%10,(s-=s%10)-a<10&&(s=a+9),i({start:f(t-t%100-10,0,1),min:f(a,0,1),max:f(s,0,1),setter:this.setDate,build:function(e,t){var i=e.getFullYear(),a=i+9;return i<n&&(i=n),a>r&&(a=r),{ns:D.ns,value:i+" - "+a,dateString:o(e),cssClass:0===t||11==t?le:""}}})},first:function(e){var t=e.getFullYear();return f(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return f(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return r(e,t,100)},setDate:function(e,t){c(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"}}]}).isEqualDatePart=k,T.isEqualDate=S,T.makeUnselectable=_,T.restrictValue=a,T.isInRange=s,T.addClassToViewContainer=v,T.normalize=m,T.viewsEnum=De,T.disabled=y,D.calendar=T}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.popup.min",["kendo.core.min"],e)}(function(){return function(e,t){function n(t,n){return!(!t||!n)&&(t===n||e.contains(t,n))}var i,r,o,a,s=window.kendo,l=s.ui,c=l.Widget,d=s.Class,u=s.support,p=s.getOffset,h=s._outerWidth,f=s._outerHeight,g="open",m="close",_="deactivate",v="activate",b="center",k="left",w="right",y="top",x="bottom",C="absolute",S="hidden",T="body",D="location",I="position",H="visible",E="effects",M="k-state-active",F="k-state-border",A=/k-state-border-(\w+)/,P=".k-picker-wrap, .k-dropdown-wrap, .k-link",O=e(document.documentElement),z=e.proxy,R=e(window),L="scroll",V=u.transitions.css+"transform",N=e.extend,B=".kendoPopup",W=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],q=c.extend({init:function(t,n){var i,r=this;(n=n||{}).isRtl&&(n.origin=n.origin||x+" "+w,n.position=n.position||y+" "+w),c.fn.init.call(r,t,n),t=r.element,n=r.options,r.collisions=n.collision?n.collision.split(" "):[],r.downEvent=s.applyEventMap("down",s.guid()),1===r.collisions.length&&r.collisions.push(r.collisions[0]),i=e(r.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),n.appendTo=e(e(n.appendTo)[0]||i[0]||document.body),r.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:C}).appendTo(n.appendTo).attr("aria-hidden",!0).on("mouseenter"+B,function(){r._hovered=!0}).on("wheel"+B,function(t){var n=e(t.target).find(".k-list"),i=n.parent();n.length&&n.is(":visible")&&(0===i.scrollTop()&&t.originalEvent.deltaY<0||i.scrollTop()===i.prop("scrollHeight")-i.prop("offsetHeight")&&t.originalEvent.deltaY>0)&&t.preventDefault()}).on("mouseleave"+B,function(){r._hovered=!1}),r.wrapper=e(),!1===n.animation&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),N(n.animation.open,{complete:function(){r.wrapper.css({overflow:H}),r._activated=!0,r._trigger(v)}}),N(n.animation.close,{complete:function(){r._animationClose()}}),r._mousedownProxy=function(e){r._mousedown(e)},r._resizeProxy=u.mobileOS.android?function(e){setTimeout(function(){r._resize(e)},600)}:function(e){r._resize(e)},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+B,e.proxy(r.toggle,r))},events:[g,v,m,_],options:{name:"Popup",toggleEvent:"click",origin:x+" "+k,position:y+" "+k,anchor:T,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var e=this,t=e.wrapper.data(D);e.wrapper.hide(),t&&e.wrapper.css(t),e.options.anchor!=T&&e._hideDirClass(),e._closing=!1,e._trigger(_)},destroy:function(){var t,n=this,i=n.options,r=n.element.off(B);c.fn.destroy.call(n),i.toggleTarget&&e(i.toggleTarget).off(B),i.modal||(O.unbind(n.downEvent,n._mousedownProxy),n._toggleResize(!1)),s.destroy(n.element.children()),r.removeData(),i.appendTo[0]===document.body&&(t=r.parent(".k-animation-container"),t[0]?t.remove():r.remove())},open:function(t,n){var i,r,o=this,a={isFixed:!isNaN(parseInt(n,10)),x:t,y:n},l=o.element,c=o.options,d=e(c.anchor),p=l[0]&&l.hasClass("km-widget");if(!o.visible()){if(c.copyAnchorStyles&&(p&&"font-size"==W[0]&&W.shift(),l.css(s.getComputedStyles(d[0],W))),l.data("animating")||o._trigger(g))return;o._activated=!1,c.modal||(O.unbind(o.downEvent,o._mousedownProxy).bind(o.downEvent,o._mousedownProxy),o._toggleResize(!1),o._toggleResize(!0)),o.wrapper=r=s.wrap(l,c.autosize).css({overflow:S,display:"block",position:C}).attr("aria-hidden",!1),u.mobileOS.android&&r.css(V,"translatez(0)"),r.css(I),e(c.appendTo)[0]==document.body&&r.css(y,"-10000px"),o.flipped=o._position(a),i=o._openAnimation(),c.anchor!=T&&o._showDirClass(i),l.data(E,i.effects).kendoStop(!0).kendoAnimate(i).attr("aria-hidden",!1)}},_location:function(t){var n,i,r=this,o=r.element,a=r.options,l=e(a.anchor),c=o[0]&&o.hasClass("km-widget");return a.copyAnchorStyles&&(c&&"font-size"==W[0]&&W.shift(),o.css(s.getComputedStyles(l[0],W))),r.wrapper=n=s.wrap(o,a.autosize).css({overflow:S,display:"block",position:C}),u.mobileOS.android&&n.css(V,"translatez(0)"),n.css(I),e(a.appendTo)[0]==document.body&&n.css(y,"-10000px"),r._position(t||{}),i=n.offset(),{width:s._outerWidth(n),height:s._outerHeight(n),left:i.left,top:i.top}},_openAnimation:function(){var e=N(!0,{},this.options.animation.open);return e.effects=s.parseEffects(e.effects,this.flipped),e},_hideDirClass:function(){var t=e(this.options.anchor),n=((t.attr("class")||"").match(A)||["","down"])[1],i=F+"-"+n;t.removeClass(i).children(P).removeClass(M).removeClass(i),this.element.removeClass(F+"-"+s.directions[n].reverse)},_showDirClass:function(t){var n=t.effects.slideIn?t.effects.slideIn.direction:"down",i=F+"-"+n;e(this.options.anchor).addClass(i).children(P).addClass(M).addClass(i),this.element.addClass(F+"-"+s.directions[n].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){var e=this;e[e.visible()?m:g]()},visible:function(){return this.element.is(":"+H)},close:function(n){var i,r,o,a,l=this,c=l.options;if(l.visible()){if(i=l.wrapper[0]?l.wrapper:s.wrap(l.element).hide(),l._toggleResize(!1),l._closing||l._trigger(m))return l._toggleResize(!0),t;l.element.find(".k-popup").each(function(){var t=e(this).data("kendoPopup");t&&t.close(n)}),O.unbind(l.downEvent,l._mousedownProxy),n?r={hide:!0,effects:{}}:(r=N(!0,{},c.animation.close),o=l.element.data(E),!(a=r.effects)&&!s.size(a)&&o&&s.size(o)&&(r.effects=o,r.reverse=!0),l._closing=!0),l.element.kendoStop(!0).attr("aria-hidden",!0),i.css({overflow:S}).attr("aria-hidden",!0),l.element.kendoAnimate(r),n&&l._animationClose()}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;-1!==u.resize.indexOf(e.type)?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_toggleResize:function(e){var t=e?"on":"off",n=u.resize;u.mobileOS.ios||u.mobileOS.android||(n+=" "+L),this._scrollableParents()[t](L,this._resizeProxy),R[t](n,this._resizeProxy)},_mousedown:function(t){var i=this,r=i.element[0],o=i.options,a=e(o.anchor)[0],l=o.toggleTarget,c=s.eventTarget(t),d=e(c).closest(".k-popup"),u=d.parent().parent(".km-shim").length;d=d[0],!u&&d&&d!==i.element[0]||"popover"!==e(t.target).closest("a").data("rel")&&(n(r,c)||n(a,c)||l&&n(e(l)[0],c)||i.close())},_fit:function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),e<0&&(i=-e),i},_flip:function(e,t,n,i,r,o,a){var s=0;return a=a||t,o!==r&&o!==b&&r!==b&&(e+a>i&&(s+=-(n+t)),e+s<0&&(s+=n+t)),s},_scrollableParents:function(){return e(this.options.anchor).parentsUntil("body").filter(function(e,t){return s.isScrollable(t)})},_position:function(t){var n,i,r,o,a,l,c,d,g,m,_,v,b,k,w,y,x=this,S=x.element,T=x.wrapper,H=x.options,E=e(H.viewport),M=u.zoomLevel(),F=!!(E[0]==window&&window.innerWidth&&M<=1.02),A=e(H.anchor),P=H.origin.toLowerCase().split(" "),O=H.position.toLowerCase().split(" "),z=x.collisions,R=10002,L=0,V=document.documentElement;if(a=H.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:E.offset(),F?(l=window.innerWidth,c=window.innerHeight):(l=E.width(),c=E.height()),F&&V.scrollHeight-V.clientHeight>0&&(d=H.isRtl?-1:1,l-=d*s.support.scrollbar()),(n=A.parents().filter(T.siblings()))[0])if(r=Math.max(+n.css("zIndex"),0))R=r+10;else for(i=A.parentsUntil(n),o=i.length;L<o;L++)(r=+e(i[L]).css("zIndex"))&&R<r&&(R=r+10);return T.css("zIndex",R),T.css(t&&t.isFixed?{left:t.x,top:t.y}:x._align(P,O)),g=p(T,I,A[0]===T.offsetParent()[0]),m=p(T),A.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(g=p(T,I,!0),m=p(T)),m.top-=a.top,m.left-=a.left,x.wrapper.data(D)||T.data(D,N({},g)),_=N({},m),v=N({},g),b=H.adjustSize,"fit"===z[0]&&(v.top+=x._fit(_.top,f(T)+b.height,c/M)),"fit"===z[1]&&(v.left+=x._fit(_.left,h(T)+b.width,l/M)),k=N({},v),w=f(S),y=f(T),!T.height()&&w&&(y+=w),"flip"===z[0]&&(v.top+=x._flip(_.top,w,f(A),c/M,P[0],O[0],y)),"flip"===z[1]&&(v.left+=x._flip(_.left,h(S),h(A),l/M,P[1],O[1],h(T))),S.css(I,C),T.css(v),v.left!=k.left||v.top!=k.top},_align:function(t,n){var i,r=this,o=r.wrapper,a=e(r.options.anchor),s=t[0],l=t[1],c=n[0],d=n[1],u=p(a),g=e(r.options.appendTo),m=h(o),_=f(o)||f(o.children().first()),v=h(a),k=f(a),y=u.top,C=u.left,S=Math.round;return g[0]!=document.body&&(i=p(g),y-=i.top,C-=i.left),s===x&&(y+=k),s===b&&(y+=S(k/2)),c===x&&(y-=_),c===b&&(y-=S(_/2)),l===w&&(C+=v),l===b&&(C+=S(v/2)),d===w&&(C-=m),d===b&&(C-=S(m/2)),{top:y,left:C}}});l.plugin(q),i=s.support.stableSort,r="kendoTabKeyTrap",o="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]",a=d.extend({init:function(t){this.element=e(t),this.element.autoApplyNS(r)},trap:function(){this.element.on("keydown",z(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(r)},destroy:function(){this.element.kendoDestroy(r),this.element=t},shouldTrap:function(){return!0},_keepInTrap:function(e){var t,n,i;9===e.which&&this.shouldTrap()&&!e.isDefaultPrevented()&&(t=this._focusableElements(),n=this._sortFocusableElements(t),i=this._nextFocusable(e,n),this._focus(i),e.preventDefault())},_focusableElements:function(){var t=this.element.find(o).filter(function(t,n){return n.tabIndex>=0&&e(n).is(":visible")&&!e(n).is("[disabled]")});return this.element.is("[tabindex]")&&t.push(this.element[0]),t},_sortFocusableElements:function(e){var t,n;return i?t=e.sort(function(e,t){return e.tabIndex-t.tabIndex}):(n="__k_index",e.each(function(e,t){t.setAttribute(n,e)}),t=e.sort(function(e,t){return e.tabIndex===t.tabIndex?parseInt(e.getAttribute(n),10)-parseInt(t.getAttribute(n),10):e.tabIndex-t.tabIndex}),e.removeAttr(n)),t},_nextFocusable:function(e,t){var n=t.length,i=t.index(e.target);return t.get((i+(e.shiftKey?-1:1))%n)},_focus:function(e){return"IFRAME"==e.nodeName?(e.contentWindow.document.body.focus(),t):(e.focus(),"INPUT"==e.nodeName&&e.setSelectionRange&&this._haveSelectionRange(e)&&e.setSelectionRange(0,e.value.length),t)},_haveSelectionRange:function(e){var t=e.type.toLowerCase();return"text"===t||"search"===t||"url"===t||"tel"===t||"password"===t}}),l.Popup.TabKeyTrap=a}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.datepicker.min",["kendo.calendar.min","kendo.popup.min","kendo.dateinput.min"],e)}(function(){return function(e,t){function n(t){var n=t.parseFormats,i=t.format;A.normalize(t),(n=e.isArray(n)?n:[n]).length||n.push("yyyy-MM-dd"),-1===e.inArray(i,n)&&n.splice(0,0,t.format),t.parseFormats=n}function i(e){e.preventDefault()}var r,o=window.kendo,a=o.ui,s=a.Widget,l=o.parseDate,c=o.keys,d=o.support,u=o.template,p=o._activeElement,h="<div />",f="<span />",g=".kendoDatePicker",m="click"+g,_=d.mouseAndTouchPresent?o.applyEventMap("up",g.slice(1)):m,v="open",b="close",k="change",w="disabled",y="readonly",x="k-state-default",C="k-state-focused",S="k-state-selected",T="k-state-disabled",D="mousedown"+g,I="id",H="month",E="aria-disabled",M="aria-expanded",F="aria-hidden",A=o.calendar,P=A.isInRange,O=A.restrictValue,z=A.isEqualDatePart,R=e.extend,L=e.proxy,V=Date,N=function(t){var n,i=this,r=document.body,s=e(h).attr(F,"true").addClass("k-calendar-container").appendTo(r);i.options=t=t||{},(n=t.id)&&(n+="_dateview",s.attr(I,n),i._dateViewID=n),i.popup=new a.Popup(s,R(t.popup,t,{name:"Popup",isRtl:o.support.isRtl(t.anchor)})),i.div=s,i.value(t.value)};N.prototype={_calendar:function(){var t,n=this,r=n.calendar,s=n.options;r||(t=e(h).attr(I,o.guid()).appendTo(n.popup.element).on(D,i).on(m,"td:has(.k-link)",L(n._click,n)),n.calendar=r=new a.Calendar(t),n._setOptions(s),o.calendar.makeUnselectable(r.element),r.navigate(n._value||n._current,s.start),n.value(n._value))},_setOptions:function(e){this.calendar.setOptions({focusOnNav:!1,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,weekNumber:e.weekNumber,start:e.start,disableDates:e.disableDates})},setOptions:function(e){var t=this.options,n=e.disableDates;n&&(e.disableDates=A.disabled(n)),this.options=R(t,e,{change:t.change,close:t.close,open:t.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var e,t=this;t._calendar(),e=t.popup._hovered,t.popup._hovered=!0,t.popup.open(),setTimeout(function(){t.popup._hovered=e},1)},close:function(){this.popup.close()},min:function(e){this._option("min",e)},max:function(e){this._option("max",e)},toggle:function(){var e=this;e[e.popup.visible()?b:v]()},move:function(e){var t=this,n=e.keyCode,i=t.calendar,r=e.ctrlKey&&n==c.DOWN||n==c.ENTER,o=!1;if(e.altKey)n==c.DOWN?(t.open(),e.preventDefault(),o=!0):n==c.UP&&(t.close(),e.preventDefault(),o=!0);else if(t.popup.visible()){if(n==c.ESC||r&&i._cell.hasClass(S))return t.close(),e.preventDefault(),!0;n!=c.SPACEBAR&&(t._current=i._move(e)),o=!0}return o},current:function(e){this._current=e,this.calendar._focus(e)},value:function(e){var t=this,n=t.calendar,i=t.options,r=i.disableDates;r&&r(e)&&(e=null),t._value=e,t._current=new V(+O(e,i.min,i.max)),n&&n.value(e)},_click:function(e){-1!==e.currentTarget.className.indexOf(S)&&this.close()},_option:function(e,t){var n=this,i=n.calendar;n.options[e]=t,i&&i[e](t)}},N.normalize=n,o.DateView=N,r=s.extend({init:function(t,i){var r,a=this;s.fn.init.call(a,t,i),t=a.element,(i=a.options).disableDates=o.calendar.disabled(i.disableDates),i.min=l(t.attr("min"))||l(i.min),i.max=l(t.attr("max"))||l(i.max),n(i),a._initialOptions=R({},i),a._wrapper(),a.dateView=new N(R({},i,{id:t.attr(I),anchor:a.wrapper,change:function(){a._change(this.value()),a.close()},close:function(e){a.trigger(b)?e.preventDefault():(t.attr(M,!1),r.attr(F,!0))},open:function(e){var n,i=a.options;a.trigger(v)?e.preventDefault():(a.element.val()!==a._oldText&&(n=l(t.val(),i.parseFormats,i.culture),a.dateView[n?"current":"value"](n)),t.attr(M,!0),r.attr(F,!1),a._updateARIA(n))}})),r=a.dateView.div,a._icon();try{t[0].setAttribute("type","text")}catch(e){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":a.dateView._dateViewID}),a._reset(),a._template(),t.is("[disabled]")||e(a.element).parents("fieldset").is(":disabled")?a.enable(!1):a.readonly(t.is("[readonly]")),a._createDateInput(i),a._old=a._update(i.value||a.element.val()),a._oldText=t.val(),o.notify(a)},events:[v,b,k],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:H,depth:H,animation:{},month:{},dates:[],disableDates:null,ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',dateInput:!1,weekNumber:!1},setOptions:function(e){var t=this,i=t._value;s.fn.setOptions.call(t,e),(e=t.options).min=l(e.min),e.max=l(e.max),n(e),t.dateView.setOptions(e),t._createDateInput(e),t._dateInput||t.element.val(o.toString(i,e.format,e.culture)),i&&t._updateARIA(i)},_editable:function(e){var t=this,n=t._dateIcon.off(g),r=t.element.off(g),o=t._inputWrapper.off(g),a=e.readonly,s=e.disable;a||s?(o.addClass(s?T:x).removeClass(s?x:T),r.attr(w,s).attr(y,a).attr(E,s)):(o.addClass(x).removeClass(T).on("mouseenter.kendoDatePicker mouseleave.kendoDatePicker",t._toggleHover),r.removeAttr(w).removeAttr(y).attr(E,!1).on("keydown"+g,L(t._keydown,t)).on("focusout"+g,L(t._blur,t)).on("focus"+g,function(){t._inputWrapper.addClass(C)}),n.on(_,L(t._click,t)).on(D,i))},readonly:function(e){this._editable({readonly:e===t||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t||e)})},destroy:function(){var e=this;s.fn.destroy.call(e),e.dateView.destroy(),e.element.off(g),e._dateIcon.off(g),e._inputWrapper.off(g),e._form&&e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(C)},_click:function(e){var t=this;t.dateView.toggle(),t._focusElement(e.type)},_focusElement:function(e){var t=this.element;d.touch&&(!d.mouseAndTouchPresent||(e||"").match(/touch/i))||t[0]===p()||t.focus()},_change:function(e){var t,n,i,r=this,a=r.element.val();e=r._update(e),n=(t=!o.calendar.isEqualDate(r._old,e))&&!r._typing,i=a!==r.element.val(),(n||i)&&r.element.trigger(k),t&&(r._old=e,r._oldText=r.element.val(),r.trigger(k)),r._typing=!1},_keydown:function(e){var t=this,n=t.dateView,i=t.element.val(),r=!1;n.popup.visible()||e.keyCode!=c.ENTER||i===t._oldText?(r=n.move(e),t._updateARIA(n._current),r?t._dateInput&&e.stopImmediatePropagation&&e.stopImmediatePropagation():t._typing=!0):t._change(i)},_icon:function(){var t,n=this,i=n.element;(t=i.next("span.k-select"))[0]||(t=e('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(i)),n._dateIcon=t.attr({role:"button","aria-controls":n.dateView._dateViewID})},_option:function(e,n){var i=this,r=i.options;return n===t?r[e]:((n=l(n,r.parseFormats,r.culture))&&(r[e]=new V(+n),i.dateView[e](n)),t)},_update:function(e){var t,n=this,i=n.options,r=i.min,a=i.max,s=n._value,c=l(e,i.parseFormats,i.culture),d=null===c&&null===s||c instanceof Date&&s instanceof Date;return i.disableDates(c)&&(c=null,n._old||n.element.val()||(e=null)),+c==+s&&d?((t=o.toString(c,i.format,i.culture))!==e&&n.element.val(null===c?e:t),c):(null!==c&&z(c,r)?c=O(c,r,a):P(c,r,a)||(c=null),n._value=c,n.dateView.value(c),n._dateInput&&c?n._dateInput.value(c||e):n.element.val(o.toString(c||e,i.format,i.culture)),n._updateARIA(c),c)},_wrapper:function(){var t,n=this,i=n.element;(t=i.parents(".k-datepicker"))[0]||(t=i.wrap(f).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(f).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),n.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(i[0].className),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,i=n.attr("form"),r=i?e("#"+i):n.closest("form");r[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=r.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=u(this.options.ARIATemplate)},_createDateInput:function(e){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),e.dateInput&&(this._dateInput=new a.DateInput(this.element,{culture:e.culture,format:e.format,min:e.min,max:e.max}))},_updateARIA:function(e){var t,n=this,i=n.dateView.calendar;n.element.removeAttr("aria-activedescendant"),i&&((t=i._cell).attr("aria-label",n._ariaTemplate({current:e||i.current()})),n.element.attr("aria-activedescendant",t.attr("id")))}}),a.plugin(r)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.numerictextbox.min",["kendo.core.min","kendo.userevents.min"],e)}(function(){return function(e,t){function n(e,t){return'<span unselectable="on" class="k-link k-link-'+e+'" aria-label="'+t+'" title="'+t+'"><span unselectable="on" class="'+S+" "+("k-i-arrow-"+("increase"===e?"60-up":"60-down"))+'"></span></span>'}function i(e,t){var n=(""+parseFloat(e,10)).split(C);return n[1]&&(n[1]=n[1].substring(0,t)),n.join(C)}var r=window.kendo,o=r.caret,a=r.keys,s=r.ui,l=s.Widget,c=r._activeElement,d=r._extractFormat,u=r.parseFloat,p=r.support.placeholder,h=r.getCulture,f="change",g="disabled",m="readonly",_="spin",v=".kendoNumericTextBox",b="mouseenter"+v+" mouseleave.kendoNumericTextBox",k="k-state-default",w="k-state-focused",y="k-state-hover",x="focus",C=".",S="k-icon",T="k-state-selected",D="k-state-disabled",I="k-state-invalid",H="aria-disabled",E=/^(-)?(\d*)$/,M=null,F=e.proxy,A=e.extend,P=l.extend({init:function(n,i){var o,a,s,c,u=this,p=i&&i.step!==t;l.fn.init.call(u,n,i),i=u.options,n=u.element.on("focusout"+v,F(u._focusout,u)).attr("role","spinbutton"),i.placeholder=i.placeholder||n.attr("placeholder"),o=u.min(n.attr("min")),a=u.max(n.attr("max")),s=u._parse(n.attr("step")),i.min===M&&o!==M&&(i.min=o),i.max===M&&a!==M&&(i.max=a),p||s===M||(i.step=s),u._initialOptions=A({},i),u._reset(),u._wrapper(),u._arrows(),u._validation(),u._input(),r.support.mobileOS?u._text.on("touchend"+v+" "+x+v,function(){r.support.browser.edge?u._text.one(x+v,function(){u._toggleText(!1),n.focus()}):(u._toggleText(!1),n.focus())}):u._text.on(x+v,F(u._click,u)),n.attr("aria-valuemin",i.min!==M?i.min*i.factor:i.min).attr("aria-valuemax",i.max!==M?i.max*i.factor:i.max),i.format=d(i.format),c=i.value,u.value(c!==M?c:n.val()),n.is("[disabled]")||e(u.element).parents("fieldset").is(":disabled")?u.enable(!1):u.readonly(n.is("[readonly]")),r.notify(u)},options:{name:"NumericTextBox",decimals:M,restrictDecimals:!1,min:M,max:M,value:M,step:1,round:!0,culture:"",format:"n",spinners:!0,placeholder:"",factor:1,upArrowText:"Increase value",downArrowText:"Decrease value"},events:[f,_],_editable:function(e){var t=this,n=t.element,i=e.disable,r=e.readonly,o=t._text.add(n),a=t._inputWrapper.off(b);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),n.off("keydown"+v).off("keypress"+v).off("keyup"+v).off("paste"+v),r||i?(a.addClass(i?D:k).removeClass(i?k:D),o.attr(g,i).attr(m,r).attr(H,i)):(a.addClass(k).removeClass(D).on(b,t._toggleHover),o.removeAttr(g).removeAttr(m).attr(H,!1),t._upArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(T)}),t._downArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(T)}),t.element.on("keydown"+v,F(t._keydown,t)).on("keypress"+v,F(t._keypress,t)).on("keyup"+v,F(t._keyup,t)).on("paste"+v,F(t._paste,t)))},readonly:function(e){this._editable({readonly:e===t||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t||e)})},setOptions:function(e){var n=this;l.fn.setOptions.call(n,e),n._arrowsWrap.toggle(n.options.spinners),n._inputWrapper.toggleClass("k-expand-padding",!n.options.spinners),n._text.prop("placeholder",n.options.placeholder),n._placeholder(n.options.placeholder),n.element.attr({"aria-valuemin":n.options.min!==M?n.options.min*n.options.factor:n.options.min,"aria-valuemax":n.options.max!==M?n.options.max*n.options.factor:n.options.max}),n.options.format=d(n.options.format),e.value!==t&&n.value(e.value)},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(v),e._upArrowEventHandler.destroy(),e._downArrowEventHandler.destroy(),e._form&&e._form.off("reset",e._resetHandler),l.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var n,i=this;return e===t?i._value:(e=i._parse(e),n=i._adjust(e),e===n&&(i._update(e),i._old=i._value),t)},focus:function(){this._focusin()},_adjust:function(e){var t=this.options,n=t.min,i=t.max;return e===M?e:(n!==M&&e<n?e=n:i!==M&&e>i&&(e=i),e)},_arrows:function(){var t,i=this,o=function(){clearTimeout(i._spinning),t.removeClass(T)},a=i.options,s=a.spinners,l=i.element;(t=l.siblings("."+S))[0]||(t=e(n("increase",a.upArrowText)+n("decrease",a.downArrowText)).insertAfter(l),i._arrowsWrap=t.wrapAll('<span class="k-select"/>').parent()),s||(t.parent().toggle(s),i._inputWrapper.addClass("k-expand-padding")),i._upArrow=t.eq(0),i._upArrowEventHandler=new r.UserEvents(i._upArrow,{release:o}),i._downArrow=t.eq(1),i._downArrowEventHandler=new r.UserEvents(i._downArrow,{release:o})},_validation:function(){var t=this,n=t.element;t._validationIcon=e("<span class='"+S+" k-i-warning'></span>").hide().insertAfter(n)},_blur:function(){var e=this;e._toggleText(!0),e._change(e.element.val())},_click:function(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n,i,r,a=e.target,s=o(a)[0],l=a.value.substring(0,s),c=t._format(t.options.format),d=c[","],u=0;d&&(i=RegExp("\\"+d,"g"),r=RegExp("([\\d\\"+d+"]+)(\\"+c[C]+")?(\\d+)?")),r&&(n=r.exec(l)),n&&(u=n[0].replace(i,"").length,-1!=l.indexOf("(")&&t._value<0&&u++),t._focusin(),o(t.element[0],u)})},_change:function(e){var t=this,n=t.options.factor;n&&1!==n&&null!==(e=r.parseFloat(e))&&(e/=n),t._update(e),e=t._value,t._old!=e&&(t._old=e,t._typing||t.element.trigger(f),t.trigger(f)),t._typing=!1},_culture:function(e){return e||h(this.options.culture)},_focusin:function(){var e=this;e._inputWrapper.addClass(w),e._toggleText(!1),e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(w).removeClass(y),e._blur(),e._removeInvalidState()},_format:function(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var t,n=this,i=n.options,r="k-formatted-value",o=n.element.addClass("k-input").show()[0],a=o.accessKey;(t=n.wrapper.find(C+r))[0]||(t=e('<input type="text"/>').insertBefore(o).addClass(r));try{o.setAttribute("type","text")}catch(e){o.type="text"}n._initialTitle=o.title,t[0].title=o.title,t[0].tabIndex=o.tabIndex,t[0].style.cssText=o.style.cssText,t.prop("placeholder",i.placeholder),a&&(t.attr("accesskey",a),o.accessKey=""),n._text=t.addClass(o.className).attr({role:"spinbutton","aria-valuemin":i.min!==M?i.min*i.factor:i.min,"aria-valuemax":i.max!==M?i.max*i.factor:i.max})},_keydown:function(e){var t=this,n=e.keyCode;t._key=n,n==a.DOWN?t._step(-1):n==a.UP?t._step(1):n==a.ENTER?t._change(t.element.val()):n!=a.TAB&&(t._typing=!0)},_keypress:function(e){var t,n,i,r,s,l,c,d,u,p,h;0===e.which||e.metaKey||e.ctrlKey||e.keyCode===a.BACKSPACE||e.keyCode===a.ENTER||(t=this,n=t.options.min,i=t.element,r=o(i),s=r[0],l=r[1],c=String.fromCharCode(e.which),d=t._format(t.options.format),u=t._key===a.NUMPAD_DOT,p=i.val(),u&&(c=d[C]),p=p.substring(0,s)+c+p.substring(l),h=t._numericRegex(d).test(p),h&&u?(i.val(p),o(i,s+c.length),e.preventDefault()):(null!==n&&n>=0&&"-"===p.charAt(0)||!h)&&(t._addInvalidState(),e.preventDefault()),t._key=0)},_keyup:function(){this._removeInvalidState()},_addInvalidState:function(){var e=this;e._inputWrapper.addClass(I),e._validationIcon.show()},_removeInvalidState:function(){var e=this;e._inputWrapper.removeClass(I),e._validationIcon.hide()},_numericRegex:function(e){var t=this,n=e[C],i=t.options.decimals,r="*";return n===C&&(n="\\"+n),i===M&&(i=e.decimals),0===i&&t.options.restrictDecimals?E:(t.options.restrictDecimals&&(r="{0,"+i+"}"),t._separator!==n&&(t._separator=n,t._floatRegExp=RegExp("^(-)?(((\\d+("+n+"\\d"+r+")?)|("+n+"\\d"+r+")))?$")),t._floatRegExp)},_paste:function(e){var t=this,n=e.target,i=n.value,r=t._format(t.options.format);setTimeout(function(){var e=t._parse(n.value);e===M?t._update(i):(n.value=(""+e).replace(C,r[C]),t._adjust(e)===e&&t._numericRegex(r).test(n.value)||t._update(i))})},_option:function(e,n){var i=this,r=i.element,o=i.options;return n===t?o[e]:(((n=i._parse(n))||"step"!==e)&&(o[e]=n,r.add(i._text).attr("aria-value"+e,n),r.attr(e,n)),t)},_spin:function(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50)},t),n._step(e)},_step:function(e){var t=this,n=t.element,i=t._value,r=t._parse(n.val())||0,o=t.options.decimals||2;c()!=n[0]&&t._focusin(),t.options.factor&&r&&(r/=t.options.factor),r=+(r+t.options.step*e).toFixed(o),r=t._adjust(r),t._update(r),t._typing=!1,i!==r&&t.trigger(_)},_toggleHover:function(t){e(t.currentTarget).toggleClass(y,"mouseenter"===t.type)},_toggleText:function(e){var t=this;t._text.toggle(e),t.element.toggle(!e)},_parse:function(e,t){return u(e,this._culture(t),this.options.format)},_round:function(e,t){return(this.options.round?r._round:i)(e,t)},_update:function(e){var t,n=this,i=n.options,o=i.factor,a=i.format,s=i.decimals,l=n._culture(),c=n._format(a,l);s===M&&(s=c.decimals),(t=(e=n._parse(e,l))!==M)&&(e=parseFloat(n._round(e,s),10)),n._value=e=n._adjust(e),n._placeholder(r.toString(e,a,l)),t?(o&&(e=parseFloat(n._round(e*o,s),10)),-1!==(e=""+e).indexOf("e")&&(e=n._round(+e,s)),e=e.replace(C,c[C])):e=null,n.element.val(e),n.element.add(n._text).attr("aria-valuenow",e)},_placeholder:function(e){var t=this._text;t.val(e),p||e||t.val(this.options.placeholder),t.attr("title",this._initialTitle||t.val())},_wrapper:function(){var t,n=this,i=n.element,r=i[0];(t=i.parents(".k-numerictextbox")).is("span.k-numerictextbox")||(t=i.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent()),t[0].style.cssText=r.style.cssText,r.style.width="",n.wrapper=t.addClass("k-widget k-numerictextbox").addClass(r.className).css("display",""),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,i=n.attr("form"),r=i?e("#"+i):n.closest("form");r[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value),t.max(t._initialOptions.max),t.min(t._initialOptions.min)})},t._form=r.on("reset",t._resetHandler))}});s.plugin(P)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.list.min",["kendo.data.min","kendo.popup.min"],e)}(function(){return function(e,t){function n(e,n){return e!==t&&""!==e&&null!==e&&("boolean"===n?e=!!e:"number"===n?e=+e:"string"===n&&(e=""+e)),e}function i(e){return e[e.length-1]}function r(e){var t=e.selectedIndex;return t>-1?e.options[t]:{}}function o(e,t){var n,i,r,o,a=t.length,s=e.length,l=[],c=[];if(s)for(r=0;r<s;r++){for(n=e[r],i=!1,o=0;o<a;o++)if(n===t[o]){i=!0,l.push({index:r,item:n});break}i||c.push(n)}return{changed:l,unchanged:c}}function a(t){return!(!t||e.isEmptyObject(t)||t.filters&&!t.filters.length)}function s(t,n){var i,r=!1;return t.filters&&(i=e.grep(t.filters,function(e){return r=s(e,n),e.filters?e.filters.length:e.field!=n}),r||t.filters.length===i.length||(r=!0),t.filters=i),r}var l,c,d=window.kendo,u=d.ui,p=d._outerHeight,h=u.Widget,f=d.keys,g=d.support,m=d.htmlEncode,_=d._activeElement,v=d._outerWidth,b=d.data.ObservableArray,k="id",w="change",y="k-state-focused",x="k-state-hover",C="k-i-loading",S=".k-group-header",T="open",D="close",I="cascade",H="select",E="selected",M="requestStart",F="requestEnd",A=e.extend,P=e.proxy,O=e.isArray,z=g.browser,R="k-hidden",L="width",V=z.msie,N=V&&z.version<9,B=/"/g,W={ComboBox:"DropDownList",DropDownList:"ComboBox"},q=d.ui.DataBoundWidget.extend({init:function(t,n){var i,r=this,o=r.ns;h.fn.init.call(r,t,n),t=r.element,n=r.options,r._isSelect=t.is(H),r._isSelect&&r.element[0].length&&(n.dataSource||(n.dataTextField=n.dataTextField||"text",n.dataValueField=n.dataValueField||"value")),r.ul=e('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),r.list=e("<div class='k-list-container'/>").append(r.ul).on("mousedown"+o,P(r._listMousedown,r)),(i=t.attr(k))&&(r.list.attr(k,i+"-list"),r.ul.attr(k,i+"_listbox")),r._header(),r._noData(),r._footer(),r._accessors(),r._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:"No data found."},setOptions:function(e){h.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===t||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t||e)})},_header:function(){var n,i=this,r=e(i.header),o=i.options.headerTemplate;return this._angularElement(r,"cleanup"),d.destroy(r),r.remove(),o?(n="function"!=typeof o?d.template(o):o,r=e(n({})),i.header=r[0]?r:null,i.list.prepend(r),this._angularElement(i.header,"compile"),t):(i.header=null,t)},_noData:function(){var n=this,i=e(n.noData),r=n.options.noDataTemplate;return n.angular("cleanup",function(){return{elements:i}}),d.destroy(i),i.remove(),r?(n.noData=e('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(n.list),n.noDataTemplate="function"!=typeof r?d.template(r):r,t):(n.noData=null,t)},_footer:function(){var n=this,i=e(n.footer),r=n.options.footerTemplate;return this._angularElement(i,"cleanup"),d.destroy(i),i.remove(),r?(n.footer=e('<div class="k-footer"></div>').appendTo(n.list),n.footerTemplate="function"!=typeof r?d.template(r):r,t):(n.footer=null,t)},_listOptions:function(t){var n=this,i=n.options,r=i.virtual,o={change:P(n._listChange,n)},a=P(n._listBound,n);return r="object"==typeof r?r:{},(t=e.extend({autoBind:!1,selectable:!0,dataSource:n.dataSource,click:P(n._click,n),activate:P(n._activateItem,n),deactivate:P(n._deactivateItem,n),dataBinding:function(){n.trigger("dataBinding")},dataBound:a,height:i.height,dataValueField:i.dataValueField,dataTextField:i.dataTextField,groupTemplate:i.groupTemplate,fixedGroupTemplate:i.fixedGroupTemplate,template:i.template},t,r,o)).template||(t.template="#:"+d.expr(t.dataTextField,"data")+"#"),i.$angular&&(t.$angular=i.$angular),t},_initList:function(){var e=this,t=e._listOptions({selectedItemChange:P(e._listChange,e)});e.listView=e.options.virtual?new d.ui.VirtualList(e.ul,t):new d.ui.StaticList(e.ul,t),e.listView.bind("listBound",P(e._listBound,e)),e._setListValue()},_setListValue:function(e){(e=e||this.options.value)!==t&&this.listView.value(e).done(P(this._updateSelectionState,this))},_updateSelectionState:e.noop,_listMousedown:function(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault()},_isFilterEnabled:function(){var e=this.options.filter;return e&&"none"!==e},_hideClear:function(){var e=this;e._clear&&e._clear.addClass(R)},_showClear:function(){this._clear&&this._clear.removeClass(R)},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isFilterEnabled()&&!this.options.enforceMinLength&&(this._isSelect&&(this._customOption=t),this._filter({word:"",open:!1})),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(t,n){var i,r,o=this,l=o.options,c=o.dataSource,d=A({},c.filter()||{}),u=t||d.filters&&d.filters.length&&!t,p=s(d,l.dataTextField);if(!t&&!p||!o.trigger("filtering",{filter:t}))return i={filters:[],logic:"and"},a(t)&&e.trim(t.value).length&&i.filters.push(t),a(d)&&(i.logic===d.logic?i.filters=i.filters.concat(d.filters):i.filters.push(d)),o._cascading&&this.listView.setDSFilter(i),r=A({},{page:u?1:c.page(),pageSize:u?c.options.pageSize:c.pageSize(),sort:c.sort(),filter:c.filter(),group:c.group(),aggregate:c.aggregate()},{filter:i}),c[n?"read":"query"](c._mergeState(r))},_angularElement:function(e,t){e&&this.angular(t,function(){return{elements:e}})},_renderNoData:function(){var e=this,t=e.noData;t&&(this._angularElement(t,"cleanup"),t.children(":first").html(e.noDataTemplate({instance:e})),this._angularElement(t,"compile"))},_toggleNoData:function(t){e(this.noData).toggle(t)},_toggleHeader:function(e){this.listView.content.prev(S).toggle(e)},_renderFooter:function(){var e=this,t=e.footer;t&&(this._angularElement(t,"cleanup"),t.html(e.footerTemplate({instance:e})),this._angularElement(t,"compile"))},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this,t=e.options.value;null!==t?e.element.val(t):(t=e._accessor(),e.options.value=t),e._old=t},_ignoreCase:function(){var e,t=this,n=t.dataSource.reader.model;n&&n.fields&&(e=n.fields[t.options.dataTextField])&&e.type&&"string"!==e.type&&(t.options.ignoreCase=!1)},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t=this,n=t.options,i=n.ignoreCase,r=n.dataTextField,o={value:i?e.word.toLowerCase():e.word,field:r,operator:n.filter,ignoreCase:i};t._open=e.open,t._filterSource(o)},_clearButton:function(){var t=this,n=t.options.messages&&t.options.messages.clear?t.options.messages.clear:"clear";t._clear||(t._clear=e('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+n+'"></span>').attr({role:"button",tabIndex:-1})),t.options.clearButton||t._clear.remove(),this._hideClear()},search:function(t){var n=this.options;t="string"==typeof t?t:this._inputValue(),clearTimeout(this._typingTimeout),(!n.enforceMinLength&&!t.length||t.length>=n.minLength)&&(this._state="filter",this._isFilterEnabled()?(this.listView._emptySearch=!e.trim(t).length||!this.listView,this._filter({word:t,open:!0})):this._searchByWord(t))},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this,t=e.ns;h.fn.destroy.call(e),e._unbindDataSource(),e.listView.destroy(),e.list.off(t),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(n){var i=this;if(n===t)return i.listView.selectedDataItems()[0];if("number"!=typeof n){if(i.options.virtual)return i.dataSource.getByUid(e(n).data("uid"));n=e(i.items()).index(n)}return i.dataSource.flatView()[n]},_activateItem:function(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr("aria-activedescendant",e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var e=this,t=e.element,n=e.options,i=d.getter,r=t.attr(d.attr("text-field")),o=t.attr(d.attr("value-field"));!n.dataTextField&&r&&(n.dataTextField=r),!n.dataValueField&&o&&(n.dataValueField=o),e._text=i(n.dataTextField),e._value=i(n.dataValueField)},_aria:function(e){var n=this,i=n.options,r=n._focused.add(n.filterInput);i.suggest!==t&&r.attr("aria-autocomplete",i.suggest?"both":"list"),e=e?e+" "+n.ul[0].id:n.ul[0].id,r.attr("aria-owns",e),n.ul.attr("aria-live",n._isFilterEnabled()?"polite":"off"),n._ariaLabel()},_ariaLabel:function(){var t,n=this,i=n._focused,r=n.element,o=r.attr("id"),a=e('label[for="'+o+'"]'),s=r.attr("aria-label"),l=r.attr("aria-labelledby");i!==r&&(s?i.attr("aria-label",s):l?i.attr("aria-labelledby",l):a.length&&(t=a.attr("id")||n._generateLabelId(a,o),i.attr("aria-labelledby",t)))},_generateLabelId:function(e,t){var n=t+"_label";return e.attr("id",n),n},_blur:function(){var e=this;e._change(),e.close()},_change:function(){var e,i=this,r=i.selectedIndex,o=i.options.value,a=i.value();i._isSelect&&!i.listView.bound()&&o&&(a=o),a!==n(i._old,typeof a)?e=!0:i._valueBeforeCascade!==t&&i._valueBeforeCascade!==n(i._old,typeof i._valueBeforeCascade)&&i._userTriggered?e=!0:r===t||r===i._oldIndex||i.listView.isFiltered()||(e=!0),e&&(i._valueBeforeCascade=i._old=null===i._old||""===a?a:i.dataItem()?i.dataItem()[i.options.dataValueField]||i.dataItem():null,i._oldIndex=r,i._typing||i.element.trigger(w),i.trigger(w)),i.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,n=e.options,i=e.element.is("[disabled]");n.enable!==t&&(n.enabled=n.enable),!n.enabled||i?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_dataValue:function(e){var n=this._value(e);return n===t&&(n=this._text(e)),n},_offsetHeight:function(){var t=0;return this.listView.content.prevAll(":visible").each(function(){var n=e(this);t+=p(n,!0)}),t},_height:function(n){var i,r,o,a=this,s=a.list,l=a.options.height,c=a.popup.visible();if(n||a.options.noDataTemplate){if(r=s.add(s.parent(".k-animation-container")).show(),!s.is(":visible"))return r.hide(),t;l=a.listView.content[0].scrollHeight>l?l:"auto",r.height(l),"auto"!==l&&(i=a._offsetHeight(),o=p(e(a.footer))||0,l=l-i-o),a.listView.content.height(l),c||r.hide()}return l},_openHandler:function(e){this._adjustListWidth(),this.trigger(T)?e.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_adjustListWidth:function(){var e,t,n=this,i=n.list,r=i[0].style.width,o=n.wrapper;if(i.data(L)||!r)return e=window.getComputedStyle?window.getComputedStyle(o[0],null):0,t=parseFloat(e&&e.width)||v(o),e&&z.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),r="border-box"!==i.css("box-sizing")?t-(v(i)-i.width()):t,i.css({fontFamily:o.css("font-family"),width:n.options.autoWidth?"auto":r,minWidth:r,whiteSpace:n.options.autoWidth?"nowrap":"normal"}).data(L,r),!0},_closeHandler:function(e){this.trigger(D)?e.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var e=this.listView,n=!e.focus(),r=i(e.select());r===t&&this.options.highlightFirst&&n&&(r=0),r!==t?e.focus(r):n&&e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first:first"),n=this.listView.content.prev(S),i=0;n[0]&&"none"!==n[0].style.display&&("auto"!==e&&(i=d.support.scrollbar()),i+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("padding-right"),10),n.css("padding-right",i))},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t)},_resizePopup:function(e){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(e):this.popup.one("open",function(e){return P(function(){this._calculatePopupHeight(e)},this)}.call(this,e)))},_popup:function(){var e=this;e.popup=new u.Popup(e.list,A({},e.options.popup,{anchor:e.wrapper,open:P(e._openHandler,e),close:P(e._closeHandler,e),animation:e.options.animation,isRtl:g.isRtl(e.wrapper),autosize:e.options.autoWidth}))},_makeUnselectable:function(){N&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(t){e(t.currentTarget).toggleClass(x,"mouseenter"===t.type)},_toggle:function(e,n){var i=this,r=g.mobileOS&&(g.touch||g.MSPointers||g.pointers);e=e!==t?e:!i.popup.visible(),n||r||i._focused[0]===_()||(i._prevent=!0,i._focused.focus(),i._prevent=!1),i[e?T:D]()},_triggerCascade:function(){var e=this;e._cascadeTriggered&&e.value()===n(e._cascadedValue,typeof e.value())||(e._cascadedValue=e.value(),e._cascadeTriggered=!0,e.trigger(I,{userTriggered:e._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(w)},_unbindDataSource:function(){var e=this;e.dataSource.unbind(M,e._requestStartHandler).unbind(F,e._requestEndHandler).unbind("error",e._errorHandler)},requireValueMapper:function(e,t){if(((e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t))&&e.virtual&&"function"!=typeof e.virtual.valueMapper)throw Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});A(q,{inArray:function(e,t){var n,i,r=t.children;if(!e||e.parentNode!==t)return-1;for(n=0,i=r.length;n<i;n++)if(e===r[n])return n;return-1},unifyType:n}),d.ui.List=q,u.Select=q.extend({init:function(e,t){q.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){var t,n=this;n.options.dataSource=e,n._dataSource(),n.listView.bound()&&(n._initialIndex=null,n.listView._current=null),n.listView.setDataSource(n.dataSource),n.options.autoBind&&n.dataSource.fetch(),(t=n._parentWidget())&&n._cascadeSelect(t)},close:function(){this.popup.close()},select:function(e){var n=this;return e===t?n.selectedIndex:n._select(e).done(function(){n._cascadeValue=n._old=n._accessor(),n._oldIndex=n.selectedIndex})},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var n=this.element[0];return e===t?n.value:(null===e&&(e=""),n.value=e,t)},_accessorSelect:function(e,n){var i,o=this.element[0];return e===t?r(o).value||"":(r(o).selected=!1,n===t&&(n=-1),i=null!==e&&""!==e,i&&-1==n?this._custom(e):e?o.value=e:o.selectedIndex=n,t)},_syncValueAndText:function(){return!0},_custom:function(t){var n=this,i=n.element,r=n._customOption;r||(r=e("<option/>"),n._customOption=r,i.append(r)),r.text(t),r[0].selected=!0},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrowIcon.removeClass(C),e._focused.attr("aria-busy",!1),e._busy=null,e._showClear()},_showBusy:function(e){var t=this;e.isDefaultPrevented()||(t._request=!0,t._busy||(t._busy=setTimeout(function(){t._arrowIcon&&(t._focused.attr("aria-busy",!0),t._arrowIcon.addClass(C),t._hideClear())},100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var t,n=this,i=n.element,r=n.options,o=r.dataSource||{};o=e.isArray(o)?{data:o}:o,n._isSelect&&((t=i[0].selectedIndex)>-1&&(r.index=t),o.select=i,o.fields=[{field:r.dataTextField},{field:r.dataValueField}]),n.dataSource?n._unbindDataSource():(n._requestStartHandler=P(n._showBusy,n),n._requestEndHandler=P(n._requestEnd,n),n._errorHandler=P(n._hideBusy,n)),n.dataSource=d.data.DataSource.create(o).bind(M,n._requestStartHandler).bind(F,n._requestEndHandler).bind("error",n._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(e){var n,i,r,o,a,s,l=this,c=l.listView,d=e.keyCode,u=d===f.DOWN;if(d===f.UP||u){if(e.altKey)l.toggle(u);else{if(!c.bound()&&!l.ul[0].firstChild)return l._fetch||(l.dataSource.one(w,function(){l._fetch=!1,l._move(e)}),l._fetch=!0,l._filterSource()),e.preventDefault(),!0;if(r=l._focus(),l._fetch||r&&!r.hasClass("k-state-selected")||(u?(l._nextItem(),l._focus()||l._lastItem()):(l._prevItem(),l._focus()||l._firstItem())),n=c.dataItemByIndex(c.getElementIndex(l._focus())),l.trigger(H,{dataItem:n,item:l._focus()}))return l._focus(r),t;l._select(l._focus(),!0).done(function(){l.popup.visible()||l._blur(),l._cascadedValue=null===l._cascadedValue?l.value():l.dataItem()?l.dataItem()[l.options.dataValueField]||l.dataItem():null})}e.preventDefault(),i=!0}else if(d===f.ENTER||d===f.TAB){if(l.popup.visible()&&e.preventDefault(),r=l._focus(),n=l.dataItem(),l.popup.visible()||n&&l.text()===l._text(n)||(r=null),o=l.filterInput&&l.filterInput[0]===_(),r){if(n=c.dataItemByIndex(c.getElementIndex(r)),a=!0,n&&(a=l._value(n)!==q.unifyType(l.value(),typeof l._value(n))),a&&l.trigger(H,{dataItem:n,item:r}))return;l._select(r)}else l.input&&((l._syncValueAndText()||l._isSelect)&&l._accessor(l.input.val()),l.listView.value(l.input.val()));l._focusElement&&l._focusElement(l.wrapper),o&&d===f.TAB?l.wrapper.focusout():l._blur(),l.close(),i=!0}else d===f.ESC?(l.popup.visible()&&e.preventDefault(),l.close(),i=!0):!l.popup.visible()||d!==f.PAGEDOWN&&d!==f.PAGEUP||(e.preventDefault(),s=d===f.PAGEDOWN?1:-1,c.scrollWith(s*c.screenHeight()),i=!0);return i},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;e._request||e.options.cascadeFrom||e.listView.bound()||e._fetch||t||(e._fetch=!0,e.dataSource.fetch().done(function(){e._fetch=!1}))},_options:function(e,n,i){var o,a,s,l,c=this,d=c.element,u=d[0],p=e.length,h="",f=0;for(n&&(h=n);f<p;f++)o="<option",a=e[f],s=c._text(a),(l=c._value(a))!==t&&(-1!==(l+="").indexOf('"')&&(l=l.replace(B,"&quot;")),o+=' value="'+l+'"'),o+=">",s!==t&&(o+=m(s)),o+="</option>",h+=o;d.html(h),i!==t&&(u.value=i,u.value&&!i&&(u.selectedIndex=-1)),-1!==u.selectedIndex&&(o=r(u))&&o.setAttribute(E,E)},_reset:function(){var t=this,n=t.element,i=n.attr("form"),r=i?e("#"+i):n.closest("form");r[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=r.on("reset",t._resetHandler))},_parentWidget:function(){var t,n,i=this.options.name;if(this.options.cascadeFrom)return t=e("#"+this.options.cascadeFrom),(n=t.data("kendo"+i))||(n=t.data("kendo"+W[i])),n},_cascade:function(){var e,t=this,n=t.options;if(n.cascadeFrom){if(!(e=t._parentWidget()))return;t._cascadeHandlerProxy=P(t._cascadeHandler,t),t._cascadeFilterRequests=[],n.autoBind=!1,e.bind("set",function(){t.one("set",function(e){t._selectedValue=e.value||t._accessor()})}),e.first(I,t._cascadeHandlerProxy),e.listView.bound()?(t._toggleCascadeOnFocus(),t._cascadeSelect(e)):(e.one("dataBound",function(){t._toggleCascadeOnFocus(),e.popup.visible()&&e._focused.focus()}),e.value()||t.enable(!1))}},_toggleCascadeOnFocus:function(){var e=this,t=e._parentWidget(),n=V?"blur":"focusout";t._focused.add(t.filterInput).bind("focus",function(){t.unbind(I,e._cascadeHandlerProxy),t.first(w,e._cascadeHandlerProxy)}),t._focused.add(t.filterInput).bind(n,function(){t.unbind(w,e._cascadeHandlerProxy),t.first(I,e._cascadeHandlerProxy)})},_cascadeHandler:function(e){var t=this._parentWidget(),n=this.value();this._userTriggered=e.userTriggered,this.listView.bound()&&this._clearSelection(t,!0),this._cascadeSelect(t,n)},_cascadeChange:function(e){var t=this,n=t._accessor()||t._selectedValue;t._cascadeFilterRequests.length||(t._selectedValue=null),t._userTriggered?t._clearSelection(e,!0):n?(n!==t.listView.value()[0]&&t.value(n),t.dataSource.view()[0]&&-1!==t.selectedIndex||t._clearSelection(e,!0)):t.dataSource.flatView().length&&t.select(t.options.index),t.enable(),t._triggerCascade(),t._triggerChange(),t._userTriggered=!1},_cascadeSelect:function(e,n){var i,r,o=this,a=e.dataItem(),l=a?e._value(a):null,c=o.options.cascadeFromField||e.options.dataValueField;o._valueBeforeCascade=n!==t?n:o.value(),l||0===l?(i=o.dataSource.filter()||{},s(i,c),r=function(){var t=o._cascadeFilterRequests.shift();t&&o.unbind("dataBound",t),(t=o._cascadeFilterRequests[0])&&o.first("dataBound",t),o._cascadeChange(e)},o._cascadeFilterRequests.push(r),1===o._cascadeFilterRequests.length&&o.first("dataBound",r),o._cascading=!0,o._filterSource({field:c,operator:"eq",value:l}),o._cascading=!1):(o.enable(!1),o._clearSelection(e),o._triggerCascade(),o._triggerChange(),o._userTriggered=!1)}}),l=".StaticList",c=d.ui.DataBoundWidget.extend({init:function(t,n){h.fn.init.call(this,t,n),this.element.attr("role","listbox").on("click"+l,"li",P(this._click,this)).on("mouseenter"+l,"li",function(){e(this).addClass(x)}).on("mouseleave"+l,"li",function(){e(this).removeClass(x)}),"multiple"===this.options.selectable&&this.element.attr("aria-multiselectable",!0),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=d.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var i=this.options.value;i&&(this._values=e.isArray(i)?i.slice(0):[i]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=P(function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout(function(){e._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",w,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(t){var n,i=this,r=t||{};r=e.isArray(r)?{data:r}:r,r=d.data.DataSource.create(r),i.dataSource?(i.dataSource.unbind(w,i._refreshHandler),n=i.value(),i.value([]),i.bound(!1),i.value(n)):i._refreshHandler=P(i.refresh,i),i.setDSFilter(r.filter()),i.dataSource=r.bind(w,i._refreshHandler),i._fixedHeader()},skip:function(){return this.dataSource.skip()},setOptions:function(e){h.fn.setOptions.call(this,e),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(l),this._refreshHandler&&this.dataSource.unbind(w,this._refreshHandler),clearTimeout(this._scrollId),h.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];t&&this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.content[0],n=e.offsetTop,i=e.offsetHeight,r=t.scrollTop,o=t.clientHeight,a=n+i;r>n?r=n:a>r+o&&(r=a-o),t.scrollTop=r}},selectedDataItems:function(e){return e===t?this._dataItems.slice():(this._dataItems=e,this._values=this._getValues(e),t)},_getValues:function(t){var n=this._valueGetter;return e.map(t,function(e){return n(e)})},focusNext:function(){var e=this.focus();e=e?e.next():0,this.focus(e)},focusPrev:function(){var e=this.focus();e=e?e.prev():this.element[0].children.length-1,this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(i(this.element[0].children))},focus:function(n){var r,o=this,a=o._optionID;return n===t?o._current:(n=i(o._get(n)),n=e(this.element[0].children[n]),o._current&&(o._current.removeClass(y).removeAttr(k),o.trigger("deactivate")),(r=!!n[0])&&(n.addClass(y),o.scroll(n),n.attr("id",a)),o._current=r?n:null,o.trigger("activate"),t)},focusIndex:function(){return this.focus()?this.focus().index():t},skipUpdate:function(e){this._skipUpdate=e},select:function(n){var r,o,a,s=this,l=s.options.selectable,c="multiple"!==l&&!1!==l,d=s._selectedIndices,u=[],p=[];return n===t?d.slice():(1===(n=s._get(n)).length&&-1===n[0]&&(n=[]),o=e.Deferred().resolve(),a=s.isFiltered(),a&&!c&&s._deselectFiltered(n)?o:c&&!a&&-1!==e.inArray(i(n),d)?(s._dataItems.length&&s._view.length&&(s._dataItems=[s._view[d[0]].item]),o):(r=s._deselect(n),p=r.removed,(n=r.indices).length&&(c&&(n=[i(n)]),u=s._select(n)),(u.length||p.length)&&(s._valueComparer=null,s.trigger(w,{added:u,removed:p})),o))},removeAt:function(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),this._valueComparer=null,{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(t){t=e.isArray(t)||t instanceof b?t.slice(0):[t],this._values=t,this._valueComparer=null},value:function(n){var i,r=this,o=r._valueDeferred;return n===t?r._values.slice():(r.setValue(n),o&&"resolved"!==o.state()||(r._valueDeferred=o=e.Deferred()),r.bound()&&(i=r._valueIndices(r._values),"multiple"===r.options.selectable&&r.select(-1),r.select(i),o.resolve()),r._skipUpdate=!1,o)},items:function(){return this.element.children(".k-item")},_click:function(t){t.isDefaultPrevented()||this.trigger("click",{item:e(t.currentTarget)})||this.select(t.currentTarget)},_valueExpr:function(e,t){var i,r,o=this,a=0,s=[];if(!o._valueComparer||o._valueType!==e){for(o._valueType=e;a<t.length;a++)s.push(n(t[a],e));i="for (var idx = 0; idx < "+s.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",r=Function("current","values",i),o._valueComparer=function(e){return r(e,s)}}return o._valueComparer},_dataItemPosition:function(e,t){var n=this._valueGetter(e);return this._valueExpr(typeof n,t)(n)},_getter:function(){this._valueGetter=d.getter(this.options.dataValueField)},_deselect:function(t){var n,i,r,o=this,a=o.element[0].children,s=o.options.selectable,l=o._selectedIndices,c=o._dataItems,d=o._values,u=[],p=0,h=0;if(t=t.slice(),!0!==s&&t.length){if("multiple"===s)for(;p<t.length;p++)if(i=t[p],e(a[i]).hasClass("k-state-selected"))for(n=0;n<l.length;n++)if((r=l[n])===i){e(a[r]).removeClass("k-state-selected").attr("aria-selected",!1),u.push({position:n+h,dataItem:c.splice(n,1)[0]}),l.splice(n,1),t.splice(p,1),d.splice(n,1),h+=1,p-=1,n-=1;break}}else{for(;p<l.length;p++)e(a[l[p]]).removeClass("k-state-selected").attr("aria-selected",!1),u.push({position:p,dataItem:c[p]});o._values=[],o._dataItems=[],o._selectedIndices=[]}return{indices:t,removed:u}},_deselectFiltered:function(t){for(var n,i,r,o=this.element[0].children,a=[],s=0;s<t.length;s++)i=t[s],n=this._view[i].item,(r=this._dataItemPosition(n,this._values))>-1&&(a.push(this.removeAt(r)),e(o[i]).removeClass("k-state-selected"));return!!a.length&&(this.trigger(w,{added:[],removed:a}),!0)},_select:function(t){var n,r,o=this,a=o.element[0].children,s=o._view,l=[],c=0;for(-1!==i(t)&&o.focus(t);c<t.length;c++)r=t[c],n=s[r],-1!==r&&n&&(n=n.item,o._selectedIndices.push(r),o._dataItems.push(n),o._values.push(o._valueGetter(n)),e(a[r]).addClass("k-state-selected").attr("aria-selected",!0),l.push({dataItem:n}));return l},getElementIndex:function(t){return e(t).data("offset-index")},_get:function(e){return"number"==typeof e?e=[e]:O(e)||(e=this.getElementIndex(e),e=[e!==t?e:-1]),e},_template:function(){var e=this.options,t=e.template;return t?(t=d.template(t),t=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+t(e)+"</li>"}):t=d.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+d.expr(e.dataTextField,"data")+"}</li>",{useWithBlock:!1}),t},_templates:function(){var e,t,n=this.options,i={template:n.template,groupTemplate:n.groupTemplate,fixedGroupTemplate:n.fixedGroupTemplate};for(t in i)(e=i[t])&&"function"!=typeof e&&(i[t]=d.template(e));this.templates=i},_normalizeIndices:function(e){for(var n=[],i=0;i<e.length;i++)e[i]!==t&&n.push(e[i]);return n},_valueIndices:function(e,t){var n,i=this._view,r=0;if(t=t?t.slice():[],!e.length)return[];for(;r<i.length;r++)-1!==(n=this._dataItemPosition(i[r].item,e))&&(t[n]=r);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var t=this.element[0],n=this.content[0].scrollTop,i=e(t.children[0]).height(),r=Math.floor(n/i)||0,o=t.children[r]||t.lastChild,a=o.offsetTop<n;o;)if(a){if(o.offsetTop+i>n||!o.nextSibling)break;o=o.nextSibling}else{if(o.offsetTop<=n||!o.previousSibling)break;o=o.previousSibling}return this._view[e(o).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var e,t=this.templates.fixedGroupTemplate;t&&(e=this._firstVisibleItem())&&e.group&&this.header.html(t(e.group))},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',n=e.item,i=0!==e.index,r=e.selected;return i&&e.newGroup&&(t+=" k-first"),r&&(t+=" k-state-selected"),t+='" aria-selected="'+(r?"true":"false")+'" data-offset-index="'+e.index+'">',t+=this.templates.template(n),i&&e.newGroup&&(t+='<div class="k-group">'+this.templates.groupTemplate(e.group)+"</div>"),t+"</li>"},_render:function(){var e,t,n,i,r="",o=0,a=0,s=[],l=this.dataSource.view(),c=this.value(),d=this.isGrouped();if(d)for(o=0;o<l.length;o++)for(t=l[o],n=!0,i=0;i<t.items.length;i++)e={selected:this._selected(t.items[i],c),item:t.items[i],group:t.value,newGroup:n,index:a},s[a]=e,a+=1,r+=this._renderItem(e),n=!1;else for(o=0;o<l.length;o++)e={selected:this._selected(l[o],c),item:l[o],index:o},s[o]=e,r+=this._renderItem(e);this._view=s,this.element[0].innerHTML=r,d&&s.length&&this._renderHeader()},_selected:function(e,t){return(!this.isFiltered()||"multiple"===this.options.selectable)&&-1!==this._dataItemPosition(e,t)},setDSFilter:function(e){this._lastDSFilter=A({},e)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!d.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t,n=this,i=e&&e.action,r=n.options.skipUpdateOnBind,a="itemchange"===i;n.trigger("dataBinding"),n._angularItems("cleanup"),n._fixedHeader(),n._render(),n.bound(!0),a||"remove"===i?(t=o(n._dataItems,e.items)).changed.length&&(a?n.trigger("selectedItemChange",{items:t.changed}):n.value(n._getValues(t.unchanged))):n.isFiltered()||n._skipUpdate||n._emptySearch?(n.focus(0),n._skipUpdate&&(n._skipUpdate=!1,n._selectedIndices=n._valueIndices(n._values,n._selectedIndices))):r||i&&"add"!==i||n.value(n._values),n._valueDeferred&&n._valueDeferred.resolve(),n._angularItems("compile"),n.trigger("dataBound")},bound:function(e){return e===t?this._bound:(this._bound=e,t)},isGrouped:function(){return(this.dataSource.group()||[]).length}}),u.plugin(c)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.dropdownlist.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min"],e)}(function(){return function(e,t){function n(e,t,n){for(var i,r=0,o=t.length-1;r<o;++r)(i=t[r])in e||(e[i]={}),e=e[i];e[t[o]]=n}function i(e,t){return e>=t&&(e-=t),e}function r(e,t){for(var n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0}var o=window.kendo,a=o.ui,s=a.List,l=a.Select,c=o.support,d=o._activeElement,u=o.data.ObservableObject,p=o.keys,h=".kendoDropDownList",f=h+"FocusEvent",g="disabled",m="readonly",_="change",v="k-state-focused",b="k-state-default",k="k-state-disabled",w="aria-disabled",y="mouseenter"+h+" mouseleave"+h,x="tabindex",C="filter",S="accept",T=e.proxy,D=l.extend({init:function(n,i){var r,a,s=this,c=i&&i.index;s.ns=h,i=e.isArray(i)?{dataSource:i}:i,l.fn.init.call(s,n,i),i=s.options,n=s.element.on("focus"+h,T(s._focusHandler,s)),s._focusInputHandler=e.proxy(s._focusInput,s),s.optionLabel=e(),s._optionLabel(),s._inputTemplate(),s._reset(),s._prev="",s._word="",s._wrapper(),s._tabindex(),s.wrapper.data(x,s.wrapper.attr(x)),s._span(),s._popup(),s._mobile(),s._dataSource(),s._ignoreCase(),s._filterHeader(),s._aria(),s.wrapper.attr("aria-live","polite"),s._enable(),s._attachFocusHandlers(),s._oldIndex=s.selectedIndex=-1,c!==t&&(i.index=c),s._initialIndex=i.index,s.requireValueMapper(s.options),s._initList(),s._cascade(),s.one("set",function(e){!e.sender.listView.bound()&&s.hasOptionLabel()&&s._textAccessor(s._optionLabelText())}),i.autoBind?s.dataSource.fetch():-1===s.selectedIndex&&((a=i.text||"")||(r=i.optionLabel,r&&0===i.index?a=r:s._isSelect&&(a=n.children(":selected").text())),s._textAccessor(a)),e(s.element).parents("fieldset").is(":disabled")&&s.enable(!1),s.listView.bind("click",function(e){e.preventDefault()}),o.notify(s)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,enforceMinLength:!1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:!1},events:["open","close",_,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){l.fn.setOptions.call(this,e),this.listView.setOptions(this._listOptions(e)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){var e=this;l.fn.destroy.call(e),e.wrapper.off(h),e.wrapper.off(f),e.element.off(h),e._inputWrapper.off(h),e._arrow.off(),e._arrow=null,e._arrowIcon=null,e.optionLabel.off()},open:function(){var e=this,t=!!e.dataSource.filter()&&e.dataSource.filter().filters.length>0;e.popup.visible()||(e.listView.bound()&&e._state!==S?e._allowOpening()&&(e._focusFilter=!0,e.popup.one("activate",e._focusInputHandler),e.popup._hovered=!0,e.popup.open(),e._resizeFilterInput(),e._focusItem()):(e._open=!0,e._state="rebind",e.filterInput&&(e.filterInput.val(""),e._prev=""),e.filterInput&&1!==e.options.minLength&&!t?(e.refresh(),e.popup.one("activate",e._focusInputHandler),e.popup.open(),e._resizeFilterInput()):e._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var e,t,n=this.filterInput,i=this._prevent;n&&(e=this.filterInput[0]===d(),t=o.caret(this.filterInput[0])[0],this._prevent=!0,n.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block"),e&&(n.focus(),o.caret(n[0],t)),this._prevent=i)},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||l.fn._allowOpening.call(this)},toggle:function(e){this._toggle(e,!0)},current:function(e){var n;return e===t?(n=this.listView.focus(),!n&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:n):(this._focus(e),t)},dataItem:function(n){var i=this,r=null;if(null===n)return n;if(n===t)r=i.listView.selectedDataItems()[0];else{if("number"!=typeof n){if(i.options.virtual)return i.dataSource.getByUid(e(n).data("uid"));n=n.hasClass("k-list-optionlabel")?-1:e(i.items()).index(n)}else i.hasOptionLabel()&&(n-=1);r=i.dataSource.flatView()[n]}return r||(r=i._optionLabelDataItem()),r},refresh:function(){this.listView.refresh()},text:function(e){var n,i=this,r=i.options.ignoreCase;return e=null===e?"":e,e===t?i._textAccessor():"string"!=typeof e?(i._textAccessor(e),t):(n=r?e.toLowerCase():e,i._select(function(e){return e=i._text(e),r&&(e=(e+"").toLowerCase()),e===n}).done(function(){i._textAccessor(i.dataItem()||e)}),t)},_clearFilter:function(){e(this.filterInput).val(""),l.fn._clearFilter.call(this)},value:function(e){var n=this,i=n.listView,r=n.dataSource;return e===t?(e=n._accessor()||n.listView.value()[0],e===t||null===e?"":e):(n.requireValueMapper(n.options,e),!e&&n.hasOptionLabel()||(n._initialIndex=null),this.trigger("set",{value:e}),n._request&&n.options.cascadeFrom&&n.listView.bound()?(n._valueSetter&&r.unbind(_,n._valueSetter),n._valueSetter=T(function(){n.value(e)},n),r.one(_,n._valueSetter),t):(n._isFilterEnabled()&&i.bound()&&i.isFiltered()?n._clearFilter():n._fetchData(),i.value(e).done(function(){n._old=n._accessor(),n._oldIndex=n.selectedIndex}),t))},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var n=this,i=n.options,r=i.optionLabel,a=i.optionLabelTemplate;return r?(a||(a="#:",a+="string"==typeof r?"data":o.expr(i.dataTextField,"data"),a+="#"),"function"!=typeof a&&(a=o.template(a)),n.optionLabelTemplate=a,n.hasOptionLabel()||(n.optionLabel=e('<div class="k-list-optionlabel"></div>').prependTo(n.list)),n.optionLabel.html(a(r)).off().click(T(n._click,n)).on(y,n._toggleHover),n.angular("compile",function(){return{elements:n.optionLabel,data:[{dataItem:n._optionLabelDataItem()}]}}),t):(n.optionLabel.off().remove(),n.optionLabel=e(),t)},_optionLabelText:function(){var e=this.options.optionLabel;return"string"==typeof e?e:this._text(e)},_optionLabelDataItem:function(){var n=this,i=n.options.optionLabel;return n.hasOptionLabel()?e.isPlainObject(i)?new u(i):n._assignInstance(n._optionLabelText(),""):t},_buildOptions:function(e){var n,i,r,o=this;o._isSelect&&(n=o.listView.value()[0],i=o._optionLabelDataItem(),r=i&&o._value(i),n!==t&&null!==n||(n=""),i&&(r!==t&&null!==r||(r=""),i='<option value="'+r+'">'+o._text(i)+"</option>"),o._options(e,i,n),n!==s.unifyType(o._accessor(),typeof n)&&(o._customOption=null,o._custom(n)))},_listBound:function(){var e,t=this,n=t._initialIndex,i=t._state===C,r=t.dataSource.flatView();t._presetValue=!1,t._renderFooter(),t._renderNoData(),t._toggleNoData(!r.length),t._resizePopup(!0),t.popup.position(),t._buildOptions(r),t._makeUnselectable(),i||(t._open&&t.toggle(t._allowOpening()),t._open=!1,t._fetch||(r.length?(!t.listView.value().length&&n>-1&&null!==n&&t.select(n),t._initialIndex=null,(e=t.listView.selectedDataItems()[0])&&t.text()!==t._text(e)&&t._selectValue(e)):t._textAccessor()!==t._optionLabelText()&&(t.listView.value(""),t._selectValue(null),t._oldIndex=t.selectedIndex))),t._hideBusy(),t.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){var e=this;e.wrapper.on("focusin"+f,T(e._focusinHandler,e)).on("focusout"+f,T(e._focusoutHandler,e))},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(v),this._prevent=!1},_focusoutHandler:function(){var e=this,t=window.self!==window.top;e._prevent||(clearTimeout(e._typingTimeout),c.mobileOS.ios&&t?e._change():e._blur(),e._inputWrapper.removeClass(v),e._prevent=!0,e._open=!1,e.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_editable:function(e){var t=this,n=t.element,i=e.disable,r=e.readonly,o=t.wrapper.add(t.filterInput).off(h),a=t._inputWrapper.off(y);r||i?i?(o.removeAttr(x),a.addClass(k).removeClass(b)):a.addClass(b).removeClass(k):(n.removeAttr(g).removeAttr(m),a.addClass(b).removeClass(k).on(y,t._toggleHover),o.attr(x,o.data(x)).attr(w,!1).on("keydown"+h,T(t._keydown,t)).on("mousedown"+h,T(t._wrapperMousedown,t)).on("paste"+h,T(t._filterPaste,t)),t.wrapper.on("click"+h,T(t._wrapperClick,t)),t.filterInput?o.on("input"+h,T(t._search,t)):o.on("keypress"+h,T(t._keypress,t))),n.attr(g,i).attr(m,r),o.attr(w,i)},_keydown:function(e){var n,i,r,o=this,a=e.keyCode,s=e.altKey,l=o.popup.visible();if(o.filterInput&&(n=o.filterInput[0]===d()),a===p.LEFT?(a=p.UP,i=!0):a===p.RIGHT&&(a=p.DOWN,i=!0),!i||!n){if(e.keyCode=a,(s&&a===p.UP||a===p.ESC)&&o._focusElement(o.wrapper),o._state===C&&a===p.ESC&&(o._clearFilter(),o._open=!1,o._state=S),a===p.ENTER&&o._typingTimeout&&o.filterInput&&l)return e.preventDefault(),t;if(a!==p.SPACEBAR||n||(o.toggle(!l),e.preventDefault()),!(i=o._move(e))){if((!l||!o.filterInput)&&(r=o._focus(),a===p.HOME?(i=!0,o._firstItem()):a===p.END&&(i=!0,o._lastItem()),i)){if(o.trigger("select",{dataItem:o._getElementDataItem(o._focus()),item:o._focus()}))return o._focus(r),t;o._select(o._focus(),!0).done(function(){l||o._blur()}),e.preventDefault()}s||i||!o.filterInput||o._search()}}},_matchText:function(e,n){var i=this.options.ignoreCase;return e!==t&&null!==e&&(e+="",i&&(e=e.toLowerCase()),0===e.indexOf(n))},_shuffleData:function(e,t){var n=this._optionLabelDataItem();return n&&(e=[n].concat(e)),e.slice(t).concat(e.slice(0,t))},_selectNext:function(){var e,t,n,o=this,a=o.dataSource.flatView(),s=a.length+(o.hasOptionLabel()?1:0),l=r(o._word,o._last),c=o.selectedIndex;for(-1===c?c=0:(c+=l?1:0,c=i(c,s)),a=a.toJSON?a.toJSON():a.slice(),a=o._shuffleData(a,c),n=0;n<s&&(t=o._text(a[n]),!l||!o._matchText(t,o._last))&&!o._matchText(t,o._word);n++);n!==s&&(e=o._focus(),o._select(i(c+n,s)).done(function(){var t=function(){o.popup.visible()||o._change()};o.trigger("select",{dataItem:o._getElementDataItem(o._focus()),item:o._focus()})?o._select(e).done(t):t()}))},_keypress:function(e){var t,n=this;0!==e.which&&e.keyCode!==o.keys.ENTER&&(t=String.fromCharCode(e.charCode||e.keyCode),n.options.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),n._word+=t,n._last=t,n._search())},_popupOpen:function(){var e=this.popup;e.wrapper=o.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){l.fn._popup.call(this),this.popup.one("open",T(this._popupOpen,this))},_getElementDataItem:function(e){return e&&e[0]?e[0]===this.optionLabel[0]?this._optionLabelDataItem():this.listView.dataItemByIndex(this.listView.getElementIndex(e)):null},_click:function(n){var i=this,r=n.item||e(n.currentTarget);return n.preventDefault(),i.trigger("select",{dataItem:i._getElementDataItem(r),item:r})?(i.close(),t):(i._userTriggered=!0,i._select(r).done(function(){i._focusElement(i.wrapper),i._blur()}),t)},_focusElement:function(e){var t=d(),n=this.wrapper,i=this.filterInput,r=e===i?n:i,o=c.mobileOS&&(c.touch||c.MSPointers||c.pointers);i&&i[0]===e[0]&&o||i&&(r[0]===t||this._focusFilter)&&(this._focusFilter=!1,this._prevent=!0,this._focused=e.focus())},_searchByWord:function(e){var t;e&&(t=this,t.options.ignoreCase&&(e=e.toLowerCase()),t._select(function(n){return t._matchText(t._text(n),e)}))},_inputValue:function(){return this.text()},_search:function(){var e=this,n=e.dataSource;if(clearTimeout(e._typingTimeout),e._isFilterEnabled())e._typingTimeout=setTimeout(function(){var t=e.filterInput.val();e._prev!==t&&(e._prev=t,e.search(t),e._resizeFilterInput()),e._typingTimeout=null},e.options.delay);else{if(e._typingTimeout=setTimeout(function(){e._word=""},e.options.delay),!e.listView.bound())return n.fetch().done(function(){e._selectNext()}),t;e._selectNext()}},_get:function(t){var n,i,r,o="function"==typeof t,a=o?e():e(t);if(this.hasOptionLabel()&&("number"==typeof t?t>-1&&(t-=1):a.hasClass("k-list-optionlabel")&&(t=-1)),o){for(n=this.dataSource.flatView(),r=0;r<n.length;r++)if(t(n[r])){t=r,i=!0;break}i||(t=-1)}return t},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel(),this.listView.focusLast()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel))},_focusItem:function(){var e=this.options,n=this.listView,i=n.focus(),r=n.select();(r=r[r.length-1])===t&&e.highlightFirst&&!i&&(r=0),r!==t?n.focus(r):!e.optionLabel||e.virtual&&"dataItem"===e.virtual.mapValueTo?n.scrollToIndex(0):(this._focus(this.optionLabel),this._select(this.optionLabel),this.listView.content.scrollTop(0))},_resetOptionLabel:function(e){this.optionLabel.removeClass("k-state-focused"+(e||"")).removeAttr("id")},_focus:function(e){var n=this.listView,i=this.optionLabel;return e===t?(!(e=n.focus())&&i.hasClass("k-state-focused")&&(e=i),e):(this._resetOptionLabel(),e=this._get(e),n.focus(e),-1===e&&(i.addClass("k-state-focused").attr("id",n._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",n._optionID)),t)},_select:function(e,t){var n=this;return e=n._get(e),n.listView.select(e).done(function(){t||n._state!==C||(n._state=S),-1===e&&n._selectValue(null)})},_selectValue:function(e){var n=this,i=n.options.optionLabel,r=n.listView.select(),o="",a="";(r=r[r.length-1])===t&&(r=-1),this._resetOptionLabel(" k-state-selected"),e||0===e?(a=e,o=n._dataValue(e),i&&(r+=1)):i&&(n._focus(n.optionLabel.addClass("k-state-selected")),a=n._optionLabelText(),o="string"==typeof i?"":n._value(i),r=0),n.selectedIndex=r,null===o&&(o=""),n._textAccessor(a),n._accessor(o,r),n._triggerCascade()},_mobile:function(){var e=this.popup,t=c.mobileOS;e.element.parents(".km-root").eq(0).length&&t&&(e.options.animation.open.effects=t.android||t.meego?"fadeIn":t.ios||t.wp?"slideIn:up":e.options.animation.open.effects)},_filterHeader:function(){var t;this.filterInput&&(this.filterInput.off(h).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(t='<span class="k-icon k-i-zoom"></span>',this.filterInput=e('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(e('<span class="k-list-filter" />').append(this.filterInput.add(t))))},_span:function(){var t,n=this,i=n.wrapper,r="span.k-input";(t=i.find(r))[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(n.element),t=i.find(r)),n.span=t,n._inputWrapper=e(i[0].firstChild),n._arrow=i.find(".k-select"),n._arrowIcon=n._arrow.find(".k-icon")},_wrapper:function(){var e,t=this,n=t.element,i=n[0];(e=n.parent()).is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=i.style.cssText,e[0].title=i.title),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(i.className).css("display","").attr({accesskey:n.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),n.hide().removeAttr("accesskey")},_clearSelection:function(e){this.select(e.value()?0:-1)},_inputTemplate:function(){var t=this,n=t.options.valueTemplate;if(n=n?o.template(n):e.proxy(o.template("#:this._text(data)#",{useWithBlock:!1}),t),t.valueTemplate=n,t.hasOptionLabel()&&!t.options.optionLabelTemplate)try{t.valueTemplate(t._optionLabelDataItem())}catch(e){throw Error("The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel")}},_textAccessor:function(n){var i,r=null,o=this.valueTemplate,a=this._optionLabelText(),s=this.span;if(n===t)return s.text();e.isPlainObject(n)||n instanceof u?r=n:a&&a===n&&(r=this.options.optionLabel),r||(r=this._assignInstance(n,this._accessor())),this.hasOptionLabel()&&(r!==a&&this._text(r)!==a||(o=this.optionLabelTemplate,"string"!=typeof this.options.optionLabel||this.options.optionLabelTemplate||(r=a))),i=function(){return{elements:s.get(),data:[{dataItem:r}]}},this.angular("cleanup",i);try{s.html(o(r))}catch(e){s.html("")}this.angular("compile",i)},_preselect:function(e,t){e||t||(t=this._optionLabelText()),this._accessor(e),this._textAccessor(t),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(e,t){var i=this.options.dataTextField,r={};return i?(n(r,i.split("."),e),n(r,this.options.dataValueField.split("."),t),r=new u(r)):r=e,r}});a.plugin(D)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.binder.min",["kendo.core.min","kendo.data.min"],e)}(function(){return function(e,t){function n(t,n,i){return _.extend({init:function(e,t,n){var i=this;_.fn.init.call(i,e.element[0],t,n),i.widget=e,i._dataBinding=M(i.dataBinding,i),i._dataBound=M(i.dataBound,i),i._itemChange=M(i.itemChange,i)},itemChange:function(e){a(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[t]._parents()))},dataBinding:function(e){var t,n,i=this.widget,r=e.removedItems||i.items();for(t=0,n=r.length;t<n;t++)c(r[t],!1)},_ns:function(t){t=t||C.ui;var n=[C.ui,C.dataviz.ui,C.mobile.ui];return n.splice(e.inArray(t,n),1),n.unshift(t),C.rolesFromNamespaces(n)},dataBound:function(e){var i,r,o,s,l=this.widget,c=e.addedItems||l.items(),d=l[n],u=C.data.HierarchicalDataSource;if(!(u&&d instanceof u)&&c.length)for(o=e.addedDataItems||d.flatView(),s=this.bindings[t]._parents(),i=0,r=o.length;i<r;i++)c[i]&&a(c[i],o[i],this._ns(e.ns),[o[i]].concat(s))},refresh:function(e){var r,o,a,s,l=this,c=l.widget;(e=e||{}).action||(l.destroy(),c.bind("dataBinding",l._dataBinding),c.bind("dataBound",l._dataBound),c.bind("itemChange",l._itemChange),r=l.bindings[t].get(),c[n]instanceof C.data.DataSource&&c[n]!=r&&(r instanceof C.data.DataSource?c[i](r):r&&r._dataSource?c[i](r._dataSource):(o=C.ui.Select&&c instanceof C.ui.Select,a=C.ui.MultiSelect&&c instanceof C.ui.MultiSelect,s=C.ui.DropDownTree&&c instanceof C.ui.DropDownTree,s?c.treeview[n].data(r):c[n].data(r),l.bindings.value&&(o||a)&&c.value(h(l.bindings.value.get(),c.options.dataValueField)))))},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}})}function i(e,t){var n=C.initWidget(e,{},t);if(n)return new w(n)}function r(e){var t,n,i,o,a,s,l,c={};for(t=0,n=(l=e.match(y)).length;t<n;t++)i=l[t],o=i.indexOf(":"),a=i.substring(0,o),"{"==(s=i.substring(o+1)).charAt(0)&&(s=r(s)),c[a]=s;return c}function o(e,t,n){var i,r={};for(i in e)r[i]=new n(t,e[i]);return r}function a(e,t,n,s){var c,d,u,p,h,_,v,b,w;if(e&&!e.getAttribute("data-"+C.ns+"stop")&&(c=e.getAttribute("data-"+C.ns+"role"),u=e.getAttribute("data-"+C.ns+"bind"),p=[],h=!0,v={},s=s||[t],(c||u)&&l(e,!1),c&&(b=i(e,n)),u&&(u=r(u.replace(x,"")),b||(v=C.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:L,valuePrimitive:!1,autoBind:!0},t),v.roles=n,b=new k(e,v)),b.source=t,_=o(u,s,f),v.template&&(_.template=new m(s,"",v.template)),_.click&&(u.events=u.events||{},u.events.click=u.click,_.click.destroy(),delete _.click),_.source&&(h=!1),u.attr&&(_.attr=o(u.attr,s,f)),u.style&&(_.style=o(u.style,s,f)),u.events&&(_.events=o(u.events,s,g)),u.css&&(_.css=o(u.css,s,f)),b.bind(_)),b&&(e.kendoBindingTarget=b),w=e.children,h&&w)){for(d=0;d<w.length;d++)p[d]=w[d];for(d=0;d<p.length;d++)a(p[d],t,n,s)}}function s(t,n){var i,r,o,s=C.rolesFromNamespaces([].slice.call(arguments,2));for(n=C.observable(n),i=0,r=(t=e(t)).length;i<r;i++)1===(o=t[i]).nodeType&&a(o,n,s)}function l(t,n){var i,r=t.kendoBindingTarget;r&&(r.destroy(),z?delete t.kendoBindingTarget:t.removeAttribute?t.removeAttribute("kendoBindingTarget"):t.kendoBindingTarget=null),n&&(i=C.widgetInstance(e(t)))&&typeof i.destroy===R&&i.destroy()}function c(e,t){l(e,t),d(e,t)}function d(e,t){var n,i,r=e.children;if(r)for(n=0,i=r.length;n<i;n++)c(r[n],t)}function u(t){var n,i;for(n=0,i=(t=e(t)).length;n<i;n++)c(t[n],!1)}function p(e,t){var n=e.element,i=n[0].kendoBindingTarget;i&&s(n,i.source,t)}function h(e,t){var n,i,r=[],o=0;if(!t)return e;if(e instanceof D){for(n=e.length;o<n;o++)i=e[o],r[o]=i.get?i.get(t):i[t];e=r}else e instanceof T&&(e=e.get(t));return e}var f,g,m,_,v,b,k,w,y,x,C=window.kendo,S=C.Observable,T=C.data.ObservableObject,D=C.data.ObservableArray,I={}.toString,H={},E=C.Class,M=e.proxy,F="value",A="source",P="events",O="checked",z=!0,R="function",L="change";!function(){var e=document.createElement("a");try{delete e.test}catch(e){z=!1}}(),f=S.extend({init:function(e,t){var n=this;S.fn.init.call(n),n.source=e[0],n.parents=e,n.path=t,n.dependencies={},n.dependencies[t]=!0,n.observable=n.source instanceof S,n._access=function(e){n.dependencies[e.field]=!0},n.observable&&(n._change=function(e){n.change(e)},n.source.bind(L,n._change))},_parents:function(){var t,n=this.parents,i=this.get();return i&&"function"==typeof i.parent&&(t=i.parent(),e.inArray(t,n)<0&&(n=[t].concat(n))),n},change:function(e){var t,n,i=e.field,r=this;if("this"===r.path)r.trigger(L,e);else for(t in r.dependencies)if(0===t.indexOf(i)&&(!(n=t.charAt(i.length))||"."===n||"["===n)){r.trigger(L,e);break}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,n=e.source,i=0,r=e.path,o=n;if(!e.observable)return o;for(e.start(e.source),o=n.get(r);o===t&&n;)(n=e.parents[++i])instanceof T&&(o=n.get(r));if(o===t)for(n=e.source;o===t&&n;)(n=n.parent())instanceof T&&(o=n.get(r));return"function"==typeof o&&((i=r.lastIndexOf("."))>0&&(n=n.get(r.substring(0,i))),e.start(n),o=n!==e.source?o.call(n,e.source):o.call(n),e.stop(n)),n&&n!==e.source&&(e.currentSource=n,n.unbind(L,e._change).bind(L,e._change)),e.stop(e.source),o},set:function(e){var t=this.currentSource||this.source,n=C.getter(this.path)(t);"function"==typeof n?t!==this.source?n.call(t,this.source,e):n.call(t,e):t.set(this.path,e)},destroy:function(){this.observable&&(this.source.unbind(L,this._change),this.currentSource&&this.currentSource.unbind(L,this._change)),this.unbind()}}),g=f.extend({get:function(){var e,t=this.source,n=this.path,i=0;for(e=t.get(n);!e&&t;)(t=this.parents[++i])instanceof T&&(e=t.get(n));return M(e,t)}}),m=f.extend({init:function(e,t,n){var i=this;f.fn.init.call(i,e,t),i.template=n},render:function(e){var t;return this.start(this.source),t=C.render(this.template,e),this.stop(this.source),t}}),_=E.extend({init:function(e,t,n){this.element=e,this.bindings=t,this.options=n},bind:function(e,t){var n=this;(e=t?e[t]:e).bind(L,function(e){n.refresh(t||e)}),n.refresh(t)},destroy:function(){}}),v=_.extend({dataType:function(){return(this.element.getAttribute("data-type")||this.element.type||"text").toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(e,t){return"date"==t?e=C.parseDate(e,"yyyy-MM-dd"):"datetime-local"==t?e=C.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==t?e=C.parseFloat(e):"boolean"==t&&(e=e.toLowerCase(),e=null!==C.parseFloat(e)?!!C.parseFloat(e):"true"===e.toLowerCase()),e}}),H.attr=_.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),H.css=_.extend({init:function(e,t,n){_.fn.init.call(this,e,t,n),this.classes={}},refresh:function(t){var n=e(this.element),i=this.bindings.css[t];(this.classes[t]=i.get())?n.addClass(t):n.removeClass(t)}}),H.style=_.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),H.enabled=_.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),H.readonly=_.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),H.disabled=_.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),H.events=_.extend({init:function(e,t,n){_.fn.init.call(this,e,t,n),this.handlers={}},refresh:function(t){var n=e(this.element),i=this.bindings.events[t],r=this.handlers[t];r&&n.off(t,r),r=this.handlers[t]=i.get(),n.on(t,i.source,r)},destroy:function(){var t,n=e(this.element);for(t in this.handlers)n.off(t,this.handlers[t])}}),H.text=_.extend({refresh:function(){var t=this.bindings.text.get(),n=this.element.getAttribute("data-format")||"";null==t&&(t=""),e(this.element).text(C.toString(t,n))}}),H.visible=_.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),H.invisible=_.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),H.html=_.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),H.value=v.extend({init:function(t,n,i){v.fn.init.call(this,t,n,i),this._change=M(this.change,this),this.eventName=i.valueUpdate||L,e(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=L,this.bindings[F].set(this.parsedValue()),this._initChange=!1},refresh:function(){var e,t;this._initChange||(null==(e=this.bindings[F].get())&&(e=""),t=this.dataType(),"date"==t?e=C.toString(e,"yyyy-MM-dd"):"datetime-local"==t&&(e=C.toString(e,"yyyy-MM-ddTHH:mm:ss")),this.element.value=e),this._initChange=!1},destroy:function(){e(this.element).off(this.eventName,this._change)}}),H.source=_.extend({init:function(e,t,n){_.fn.init.call(this,e,t,n);var i=this.bindings.source.get();i instanceof C.data.DataSource&&!1!==n.autoBind&&i.fetch()},refresh:function(e){var t=this,n=t.bindings.source.get();n instanceof D||n instanceof C.data.DataSource?(e=e||{},"add"==e.action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):"itemchange"!=e.action&&t.render()):t.render()},container:function(){var e=this.element;return"table"==e.nodeName.toLowerCase()&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e},template:function(){var e=this.options,t=e.template,n=this.container().nodeName.toLowerCase();return t||(t="select"==n?e.valueField||e.textField?C.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):"<option>#:data#</option>":"tbody"==n?"<tr><td>#:data#</td></tr>":"ul"==n||"ol"==n?"<li>#:data#</li>":"#:data#",t=C.template(t)),t},add:function(t,n){var i,r,o,s,l=this.container(),c=l.cloneNode(!1),d=l.children[t];if(e(c).html(C.render(this.template(),n)),c.children.length)for(i=this.bindings.source._parents(),r=0,o=n.length;r<o;r++)s=c.children[0],l.insertBefore(s,d||null),a(s,n[r],this.options.roles,[n[r]].concat(i))},remove:function(e,t){var n,i,r=this.container();for(n=0;n<t.length;n++)i=r.children[e],c(i,!0),i.parentNode==r&&r.removeChild(i)},render:function(){var t,n,i,r=this.bindings.source.get(),o=this.container(),s=this.template();if(null!=r)if(r instanceof C.data.DataSource&&(r=r.view()),r instanceof D||"[object Array]"===I.call(r)||(r=[r]),this.bindings.template){if(d(o,!0),e(o).html(this.bindings.template.render(r)),o.children.length)for(t=this.bindings.source._parents(),n=0,i=r.length;n<i;n++)a(o.children[n],r[n],this.options.roles,[r[n]].concat(t))}else e(o).html(C.render(s,r))}}),H.input={checked:v.extend({init:function(t,n,i){v.fn.init.call(this,t,n,i),this._change=M(this.change,this),e(this.element).change(this._change)},change:function(){var e,t,n,i=this.element,r=this.value();if("radio"==i.type)r=this.parsedValue(),this.bindings[O].set(r);else if("checkbox"==i.type)if((e=this.bindings[O].get())instanceof D){if((r=this.parsedValue())instanceof Date){for(n=0;n<e.length;n++)if(e[n]instanceof Date&&+e[n]==+r){t=n;break}}else t=e.indexOf(r);t>-1?e.splice(t,1):e.push(r)}else this.bindings[O].set(r)},refresh:function(){var e,n,i=this.bindings[O].get(),r=i,o=this.dataType(),a=this.element;if("checkbox"==a.type)if(r instanceof D){if(e=-1,(i=this.parsedValue())instanceof Date){for(n=0;n<r.length;n++)if(r[n]instanceof Date&&+r[n]==+i){e=n;break}}else e=r.indexOf(i);a.checked=e>=0}else a.checked=r;else"radio"==a.type&&("date"==o?i=C.toString(i,"yyyy-MM-dd"):"datetime-local"==o&&(i=C.toString(i,"yyyy-MM-ddTHH:mm:ss")),a.checked=null!==i&&t!==i&&a.value===""+i)},value:function(){var e=this.element,t=e.value;return"checkbox"==e.type&&(t=e.checked),t},destroy:function(){e(this.element).off(L,this._change)}})},H.select={source:H.source.extend({refresh:function(n){var i,r=this,o=r.bindings.source.get();o instanceof D||o instanceof C.data.DataSource?(n=n||{},"add"==n.action?r.add(n.index,n.items):"remove"==n.action?r.remove(n.index,n.items):"itemchange"!=n.action&&n.action!==t||(r.render(),r.bindings.value&&r.bindings.value&&(i=h(r.bindings.value.get(),e(r.element).data("valueField")),null===i?r.element.selectedIndex=-1:r.element.value=i))):r.render()}}),value:v.extend({init:function(t,n,i){v.fn.init.call(this,t,n,i),this._change=M(this.change,this),e(this.element).change(this._change)},parsedValue:function(){var e,t,n,i,r=this.dataType(),o=[];for(n=0,i=this.element.options.length;n<i;n++)(t=this.element.options[n]).selected&&(e=t.attributes.value,e=e&&e.specified?t.value:t.text,o.push(this._parseValue(e,r)));return o},change:function(){var e,n,i,r,o,a,s,l=[],c=this.element,d=this.options.valueField||this.options.textField,u=this.options.valuePrimitive;for(o=0,a=c.options.length;o<a;o++)(n=c.options[o]).selected&&(r=n.attributes.value,r=r&&r.specified?n.value:n.text,l.push(d?r:this._parseValue(r,this.dataType())));if(d)for((e=this.bindings.source.get())instanceof C.data.DataSource&&(e=e.view()),i=0;i<l.length;i++)for(o=0,a=e.length;o<a;o++)if(s=e[o].get(d),s+""===l[i]){l[i]=e[o];break}(r=this.bindings[F].get())instanceof D?r.splice.apply(r,[0,r.length].concat(l)):this.bindings[F].set(u||!(r instanceof T||null===r||r===t)&&d?l[0].get(d):l[0])},refresh:function(){var e,t,n,i=this.element,r=i.options,o=this.bindings[F].get(),a=o,s=this.options.valueField||this.options.textField,l=this.dataType();for(a instanceof D||(a=new D([o])),i.selectedIndex=-1,n=0;n<a.length;n++)for(o=a[n],s&&o instanceof T&&(o=o.get(s)),"date"==l?o=C.toString(a[n],"yyyy-MM-dd"):"datetime-local"==l&&(o=C.toString(a[n],"yyyy-MM-ddTHH:mm:ss")),e=0;e<r.length;e++)""===(t=r[e].value)&&""!==o&&(t=r[e].text),null!=o&&t==""+o&&(r[e].selected=!0,!0)},destroy:function(){e(this.element).off(L,this._change)}})},H.widget={events:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.widget.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e,this._change=M(this.change,this),this.widget.bind(L,this._change)},change:function(){this.bindings[O].set(this.value())},refresh:function(){this.widget.check(!0===this.bindings[O].get())},value:function(){var e=this.element,t=e.value;return"on"!=t&&"off"!=t||(t=e.checked),t},destroy:function(){this.widget.unbind(L,this._change)}}),visible:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),enabled:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:_.extend({init:function(e,t,n){_.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:n("source","dataSource","setDataSource"),value:_.extend({init:function(t,n,i){_.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(L,this._change);var r=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(null==r||r instanceof T),this._valueIsObservableArray=r instanceof D,this._initChange=!1},_source:function(){var e;return this.widget.dataItem&&(e=this.widget.dataItem())&&e instanceof T?[e]:(this.bindings.source&&(e=this.bindings.source.get()),(!e||e instanceof C.data.DataSource)&&(e=this.widget.dataSource.flatView()),e)},change:function(){var e,t,n,i,r,o,a,s=this.widget.value(),l=this.options.dataValueField||this.options.dataTextField,c="[object Array]"===I.call(s),d=this._valueIsObservableObject,u=[];if(this._initChange=!0,l)if(""===s&&(d||this.options.valuePrimitive))s=null;else{for(a=this._source(),c&&(t=s.length,u=s.slice(0)),r=0,o=a.length;r<o;r++)if(n=a[r],i=n.get(l),c){for(e=0;e<t;e++)if(i==u[e]){u[e]=n;break}}else if(i==s){s=d?n:i;break}u[0]&&(s=this._valueIsObservableArray?u:d||!l?u[0]:u[0].get(l))}this.bindings.value.set(s),this._initChange=!1},refresh:function(){var e,n,i,r,o,a,s,l,c;if(!this._initChange){if(e=this.widget,n=e.options,i=n.dataTextField,r=n.dataValueField||i,o=this.bindings.value.get(),a=n.text||"",s=0,c=[],o===t&&(o=null),r)if(o instanceof D){for(l=o.length;s<l;s++)c[s]=o[s].get(r);o=c}else o instanceof T&&(a=o.get(i),o=o.get(r));!1!==n.autoBind||n.cascadeFrom||!e.listView||e.listView.bound()?e.value(o):(i!==r||a||(a=o),a||!o&&0!==o||!n.valuePrimitive?e._preselect(o,a):e.value(o))}this._initChange=!1},destroy:function(){this.widget.unbind(L,this._change)}}),dropdowntree:{value:_.extend({init:function(t,n,i){_.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(L,this._change),this._initChange=!1},change:function(){var e,n,i,r,o,a,s,l,c,d=this,u=d.bindings[F].get(),p=d.options.valuePrimitive,h=d.widget.treeview.select(),f=d.widget._isMultipleSelection()?d.widget._getAllChecked():d.widget.treeview.dataItem(h)||d.widget.value(),g=p||!1===d.widget.options.autoBind?d.widget.value():f,m=this.options.dataValueField||this.options.dataTextField;if(g=g.slice?g.slice(0):g,d._initChange=!0,u instanceof D){for(e=[],n=g.length,r=0,o=u[i=0],a=!1;o!==t;){for(c=!1,r=0;r<n;r++)if(p?a=g[r]==o:(l=g[r],l=l.get?l.get(m):l,a=l==(o.get?o.get(m):o)),a){g.splice(r,1),n-=1,c=!0;break}c?i+=1:(e.push(o),b(u,i,1),s=i),o=u[i]}b(u,u.length,0,g),e.length&&u.trigger("change",{action:"remove",items:e,index:s}),g.length&&u.trigger("change",{action:"add",items:g,index:u.length-1})}else d.bindings[F].set(g);d._initChange=!1},refresh:function(){if(!this._initChange){var e,t,n=this.options,i=this.widget,r=n.dataValueField||n.dataTextField,o=this.bindings.value.get(),a=o,s=0,l=[];if(r)if(o instanceof D){for(e=o.length;s<e;s++)t=o[s],l[s]=t.get?t.get(r):t;o=l}else o instanceof T&&(o=o.get(r));!1===n.autoBind&&!0!==n.valuePrimitive?i._preselect(a,o):i.value(o)}},destroy:function(){this.widget.unbind(L,this._change)}})},gantt:{dependencies:n("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:_.extend({init:function(t,n,i){_.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(L,this._change),this._initChange=!1},change:function(){var e,n,i,r,o,a,s,l,c,d=this,u=d.bindings[F].get(),p=d.options.valuePrimitive,h=p?d.widget.value():d.widget.dataItems(),f=this.options.dataValueField||this.options.dataTextField;if(h=h.slice(0),d._initChange=!0,u instanceof D){for(e=[],n=h.length,r=0,o=u[i=0],a=!1;o!==t;){for(c=!1,r=0;r<n;r++)if(p?a=h[r]==o:(l=h[r],l=l.get?l.get(f):l,a=l==(o.get?o.get(f):o)),a){h.splice(r,1),n-=1,c=!0;break}c?i+=1:(e.push(o),b(u,i,1),s=i),o=u[i]}b(u,u.length,0,h),e.length&&u.trigger("change",{action:"remove",items:e,index:s}),h.length&&u.trigger("change",{action:"add",items:h,index:u.length-1})}else d.bindings[F].set(h);d._initChange=!1},refresh:function(){if(!this._initChange){var e,n,i=this.options,r=this.widget,o=i.dataValueField||i.dataTextField,a=this.bindings.value.get(),s=a,l=0,c=[];if(a===t&&(a=null),o)if(a instanceof D){for(e=a.length;l<e;l++)n=a[l],c[l]=n.get?n.get(o):n;a=c}else a instanceof T&&(a=a.get(o));!1!==i.autoBind||!0===i.valuePrimitive||r._isBound()?r.value(a):r._preselect(s,a)}},destroy:function(){this.widget.unbind(L,this._change)}})},scheduler:{source:n("source","dataSource","setDataSource").extend({dataBound:function(e){var t,n,i,r,o=this.widget,s=e.addedItems||o.items();if(s.length)for(i=e.addedDataItems||o.dataItems(),r=this.bindings.source._parents(),t=0,n=i.length;t<n;t++)a(s[t],i[t],this._ns(e.ns),[i[t]].concat(r))}})}},b=function(e,t,n,i){var r,o,a,s,l;if(i=i||[],n=n||0,r=i.length,o=e.length,a=[].slice.call(e,t+n),s=a.length,r){for(r=t+r,l=0;t<r;t++)e[t]=i[l],l++;e.length=r}else if(n)for(e.length=t,n+=t;t<n;)delete e[--n];if(s){for(s=t+s,l=0;t<s;t++)e[t]=a[l],l++;e.length=s}for(t=e.length;t<o;)delete e[t],t++},k=E.extend({init:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t,n,i,r,o,a,s=this instanceof w,l=this.binders();for(t in e)t==F?n=!0:t==A?i=!0:t!=P||s?t==O?o=!0:"css"==t?a=!0:this.applyBinding(t,e,l):r=!0;i&&this.applyBinding(A,e,l),n&&this.applyBinding(F,e,l),o&&this.applyBinding(O,e,l),r&&!s&&this.applyBinding(P,e,l),a&&!s&&this.applyBinding("css",e,l)},binders:function(){return H[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(e,t,n){var i,r=n[e]||H[e],o=this.toDestroy,a=t[e];if(r)if(r=new r(this.target,t,this.options),o.push(r),a instanceof f)r.bind(a),o.push(a);else for(i in a)r.bind(a,i),o.push(a[i]);else if("template"!==e)throw Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,n=this.toDestroy;for(e=0,t=n.length;e<t;e++)n[e].destroy()}}),w=k.extend({binders:function(){return H.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(e,t,n){var i,r=n[e]||H.widget[e],o=this.toDestroy,a=t[e];if(!r)throw Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");if(r=new r(this.target,t,this.target.options),o.push(r),a instanceof f)r.bind(a),o.push(a);else for(i in a)r.bind(a,i),o.push(a[i])}}),y=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,x=/\s/g,C.unbind=u,C.bind=s,C.data.binders=H,C.data.Binder=_,C.notify=p,C.observable=function(e){return e instanceof T||(e=new T(e)),e},C.observableHierarchy=function(e){function t(e){var n,i;for(n=0;n<e.length;n++)e[n]._initChildren(),(i=e[n].children).fetch(),e[n].items=i.data(),t(e[n].items)}var n=C.data.HierarchicalDataSource.create(e);return n.fetch(),t(n.data()),n._data._dataSource=n,n._data}}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.filtermenu.min",["kendo.datepicker.min","kendo.numerictextbox.min","kendo.dropdownlist.min","kendo.binder.min"],e)}(function(){return function(e,t){function n(t,i){t.filters&&(t.filters=e.grep(t.filters,function(e){return n(e,i),e.filters?e.filters.length:e.field!=i}))}function i(e){var t,n,i,r,o,a;if(e&&e.length)for(a=[],t=0,n=e.length;t<n;t++)i=e[t],o=""!==i.text?i.text||i.value||i:i.text,r=null==i.value?i.text||i:i.value,a[t]={text:o,value:r};return a}function r(t,n){return e.grep(t,function(t){return t.filters?(t.filters=e.grep(t.filters,function(e){return e.field!=n}),t.filters.length):t.field!=n})}function o(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return o(e,n),e.filters?e.filters.length:e.field==n&&"eq"==e.operator}))}function a(n){return"and"==n.logic&&n.filters.length>1?[]:n.filters?e.map(n.filters,function(e){return a(e)}):n.value!==t?[n.value]:[]}function s(e,n){for(var i,r,o=c.getter(n,!0),a=[],s=0,l={};s<e.length;)i=e[s++],(r=o(i))===t||l.hasOwnProperty(r)||(a.push(i),l[r]=!0);return a}function l(e,t){return function(n){return s(e(n),t)}}var c=window.kendo,d=c.ui,u=e.proxy,p="kendoPopup",h="init",f="open",g="refresh",m="change",_=".kendoFilterMenu",v="Is equal to",b="Is not equal to",k={number:"numerictextbox",date:"datepicker"},w={string:"text",number:"number",date:"date"},y=c.isFunction,x=d.Widget,C=x.extend({init:function(t,n){var i,r,o,a,s=this,l="string";x.fn.init.call(s,t,n),i=s.operators=n.operators||{},t=s.element,(n=s.options).appendToElement||((o=t.addClass("k-with-icon k-filterable").find(".k-grid-filter"))[0]||(o=t.prepend('<a class="k-grid-filter" href="#" title="'+n.messages.filter+'" aria-label="'+n.messages.filter+'"><span class="k-icon k-i-filter"></span></a>').find(".k-grid-filter")),o.attr("tabindex",-1).on("click"+_,u(s._click,s))),s.link=o||e(),s.dataSource=T.create(n.dataSource),s.field=n.field||t.attr(c.attr("field")),s.model=s.dataSource.reader.model,s._parse=function(e){return null!=e?e+"":e},s.model&&s.model.fields&&(a=s.model.fields[s.field])&&(l=a.type||"string",a.parse&&(s._parse=u(a.parse,a))),n.values&&(l="enums"),s.type=l,i=i[l]||n.operators[l];for(r in i)break;s._defaultFilter=function(){return{field:s.field,operator:r||"eq",value:""}},s._refreshHandler=u(s.refresh,s),s.dataSource.bind(m,s._refreshHandler),n.appendToElement?s._init():s.refresh()},_init:function(){var t,n=this,i=n.options.ui,r=y(i);n.pane=n.options.pane,n.pane&&(n._isMobile=!0),r||(t=i||k[n.type]),n._isMobile?n._createMobileForm(t):n._createForm(t),n.form.on("submit"+_,u(n._submit,n)).on("reset"+_,u(n._reset,n)),r&&n.form.find(".k-textbox").removeClass("k-textbox").each(function(){i(e(this))}),n.form.find("["+c.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datepicker]").removeClass("k-textbox"),n.refresh(),n.trigger(h,{field:n.field,container:n.form}),c.cycleForm(n.form)},_createForm:function(t){var n=this,r=n.options,o=n.operators||{},a=n.type;o=o[a]||r.operators[a],n.form=e('<form title="'+n.options.messages.title+'" class="k-filter-menu"/>').html(c.template("boolean"===a?'<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>':'<div><div class="k-filter-help-text">#=messages.info#</div><select title="#=messages.operator#" data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.value#" data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select title="#=messages.logic#" class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select title="#=messages.additionalOperator#" data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.additionalValue#" data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>')({field:n.field,format:r.format,ns:c.ns,messages:r.messages,extra:r.extra,operators:o,type:a,role:t,values:i(r.values)})),r.appendToElement?(n.element.append(n.form),n.popup=n.element.closest(".k-popup").data(p)):n.popup=n.form[p]({anchor:n.link,open:u(n._open,n),activate:u(n._activate,n),close:function(){n.options.closeCallback&&n.options.closeCallback(n.element)}}).data(p),n.form.on("keydown"+_,u(n._keydown,n))},_createMobileForm:function(t){var n=this,r=n.options,o=n.operators||{},a=n.type;o=o[a]||r.operators[a],n.form=e("<div />").html(c.template("boolean"===a?'<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-i-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form title="#=messages.title#" class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>':'<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-i-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form title="#=messages.title#" class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.additionalOperator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.additionalValue##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>')({field:n.field,title:r.title||n.field,format:r.format,ns:c.ns,messages:r.messages,extra:r.extra,operators:o,type:a,role:t,useRole:!c.support.input.date&&"date"===a||"number"===a,inputType:w[a],values:i(r.values)})),n.view=n.pane.append(n.form.html()),n.form=n.view.element.find("form"),n.view.element.on("click",".k-submit",function(e){n.form.submit(),e.preventDefault()}).on("click",".k-i-cancel",function(e){n._closeForm(),e.preventDefault()})},refresh:function(){var e=this,t=e.dataSource.filter()||{filters:[],logic:"and"},n=[e._defaultFilter()],i=e._defaultFilter().operator;(e.options.extra||"isnull"!==i&&"isnullorempty"!==i&&"isnotnullorempty"!==i&&"isnotnull"!==i)&&n.push(e._defaultFilter()),e.filterModel=c.observable({logic:"and",filters:n}),e.form&&c.bind(e.form.children().first(),e.filterModel),e._bind(t)?e.link.addClass("k-state-active"):e.link.removeClass("k-state-active")},destroy:function(){var e=this;x.fn.destroy.call(e),e.form&&(c.unbind(e.form),c.destroy(e.form),e.form.unbind(_),e.popup&&(e.popup.destroy(),e.popup=null),e.form=null),e.view&&(e.view.purge(),e.view=null),e.link.unbind(_),e._refreshHandler&&(e.dataSource.unbind(m,e._refreshHandler),e.dataSource=null),e.element=e.link=e._refreshHandler=e.filterModel=null},_bind:function(e){var t,n,i,r,o=this,a=e.filters,s=!1,l=0,c=o.filterModel;for(t=0,n=a.length;t<n;t++)r=a[t],r.field==o.field?(c.set("logic",e.logic),(i=c.filters[l])||(c.filters.push({field:o.field}),i=c.filters[l]),i.set("value",o._parse(r.value)),i.set("operator",r.operator),l++,s=!0):r.filters&&(s=s||o._bind(r));return s},_stripFilters:function(t){return e.grep(t,function(e){return""!==e.value&&null!=e.value||"isnull"===e.operator||"isnotnull"===e.operator||"isempty"===e.operator||"isnotempty"===e.operator||"isnullorempty"==e.operator||"isnotnullorempty"==e.operator})},_merge:function(e){var t,i,r,o=this,a=e.logic||"and",s=this._stripFilters(e.filters),l=o.dataSource.filter()||{filters:[],logic:"and"};for(n(l,o.field),i=0,r=s.length;i<r;i++)t=s[i],t.value=o._parse(t.value);return s.length&&(l.filters.length?(e.filters=s,"and"!==l.logic&&(l.filters=[{logic:l.logic,filters:l.filters}],l.logic="and"),l.filters.push(s.length>1?e:s[0])):(l.filters=s,l.logic=a)),l},filter:function(e){var t=this._stripFilters(e.filters);t.length&&this.trigger("change",{filter:{logic:e.logic,filters:t},field:this.field})||(e=this._merge(e)).filters.length&&this.dataSource.filter(e)},clear:function(){var e=this,t=e.dataSource.filter()||{filters:[]};this.trigger("change",{filter:null,field:e.field})||e._removeFilter(t)},_removeFilter:function(t){var n=this;t.filters=e.grep(t.filters,function(e){return e.filters?(e.filters=r(e.filters,n.field),e.filters.length):e.field!=n.field}),t.filters.length||(t=null),n.dataSource.filter(t)},_submit:function(t){var n,i;t.preventDefault(),t.stopPropagation(),n=this.filterModel.toJSON(),i=e.grep(n.filters,function(e){return""!==e.value}),this._checkForNullOrEmptyFilter(n)||i&&i.length?this.filter(n):this._removeFilter(n),this._closeForm()},_checkForNullOrEmptyFilter:function(e){var t,n,i;return!!(e&&e.filters&&e.filters.length)&&(t=!1,n=!1,e.filters[0]&&(i=e.filters[0].operator,t="isnull"==i||"isnotnull"==i||"isnotempty"==i||"isempty"==i||"isnullorempty"==i||"isnotnullorempty"==i),e.filters[1]&&(i=e.filters[1].operator,n="isnull"==i||"isnotnull"==i||"isnotempty"==i||"isempty"==i||"isnullorempty"==i||"isnotnullorempty"==i),!this.options.extra&&t||this.options.extra&&(t||n))},_reset:function(){this.clear(),this.options.search&&this.container&&this.container.find("label").parent().show(),this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(e){e.preventDefault(),e.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var t;e(".k-filter-menu").not(this.form).each(function(){(t=e(this).data(p))&&t.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus(),this.trigger(f,{field:this.field,container:this.form})},_keydown:function(e){e.keyCode==c.keys.ESC&&this.popup.close()},events:[h,"change",f],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:v,neq:b,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:v,neq:b,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:v,neq:b,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:v,neq:b,isnull:"Is null",isnotnull:"Is not null"}},messages:{info:"Show items with value that:",title:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",additionalValue:"Additional value",additionalOperator:"Additional operator",logic:"Filters logic",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}}),S=".kendoFilterMultiCheck",T=c.data.DataSource,D=x.extend({init:function(t,n){var i,r;x.fn.init.call(this,t,n),n=this.options,this.element=e(t),i=this.field=this.options.field||this.element.attr(c.attr("field")),r=n.checkSource,this._foreignKeyValues()?(this.checkSource=T.create(n.values),this.checkSource.fetch()):n.forceUnique?(r=e.extend(!0,{},n.dataSource.options),delete r.pageSize,this.checkSource=T.create(r),this.checkSource.reader.data=l(this.checkSource.reader.data,this.field)):this.checkSource=T.create(r),this.dataSource=n.dataSource,this.model=this.dataSource.reader.model,this._parse=function(e){return e+""},this.model&&this.model.fields&&(i=this.model.fields[this.field])&&("number"==i.type?this._parse=function(e){return"string"==typeof e&&"null"===e.toLowerCase()?null:parseFloat(e)}:i.parse&&(this._parse=u(i.parse,i)),this.type=i.type||"string"),n.appendToElement?this._init():this._createLink(),this._refreshHandler=u(this.refresh,this),this.dataSource.bind(m,this._refreshHandler)},_createLink:function(){var e=this.element,t=e.addClass("k-with-icon k-filterable").find(".k-grid-filter");t[0]||(t=e.prepend('<a class="k-grid-filter" href="#" aria-label="'+this.options.messages.filter+'"><span class="k-icon k-i-filter"/></a>').find(".k-grid-filter")),this._link=t.attr("tabindex",-1).on("click"+_,u(this._click,this))},_init:function(){var e=this,t=this.options.forceUnique,n=this.options;this.pane=n.pane,this.pane&&(this._isMobile=!0),this._createForm(),this._foreignKeyValues()?this.refresh():t&&!this.checkSource.options.serverPaging&&this.dataSource.data().length?(this.checkSource.data(s(this.dataSource.data(),this.field)),this.refresh()):(this._attachProgress(),this.checkSource.fetch(function(){e.refresh.call(e)})),this.options.forceUnique||(this.checkChangeHandler=function(){e.container.empty(),e.refresh()},this.checkSource.bind(m,this.checkChangeHandler)),this.form.on("keydown"+S,u(this._keydown,this)).on("submit"+S,u(this._filter,this)).on("reset"+S,u(this._reset,this)),this.trigger(h,{field:this.field,container:this.form})},_attachProgress:function(){var e=this;this._progressHandler=function(){d.progress(e.container,!0)},this._progressHideHandler=function(){d.progress(e.container,!1)},this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_input:function(){var e=this;e._clearTypingTimeout(),e._typingTimeout=setTimeout(function(){e.search()},100)},_clearTypingTimeout:function(){this._typingTimeout&&(clearTimeout(this._typingTimeout),this._typingTimeout=null)},search:function(){var e,t,n,i=this.options.ignoreCase,r=this.searchTextBox[0].value,o=this.container.find("label");for(i&&(r=r.toLowerCase()),e=0,this.options.checkAll&&o.length&&(o[0].parentNode.style.display=r?"none":"",e++);e<o.length;)t=o[e],n=t.textContent||t.innerText,i&&(n=n.toLowerCase()),t.parentNode.style.display=n.indexOf(r)>=0?"":"none",e++},_activate:function(){this.form.find(":kendoFocusable:first").focus(),this.trigger(f,{field:this.field,container:this.form})},_createForm:function(){var t,n=this.options,i="",r=this;this._isMobile||(n.search&&(i+="<div class='k-textbox k-space-right'><input placeholder='"+n.messages.search+"'/><span class='k-icon k-i-zoom' /></div>"),i+="<ul class='k-reset k-multicheck-wrap'></ul>",n.messages.selectedItemsFormat&&(i+="<div class='k-filter-selected-items'>"+c.format(n.messages.selectedItemsFormat,0)+"</div>"),i+="<button type='submit' class='k-button k-primary'>"+n.messages.filter+"</button>",i+="<button type='reset' class='k-button'>"+n.messages.clear+"</button>",this.form=e('<form class="k-filter-menu"/>').html(i),this.container=this.form.find(".k-multicheck-wrap")),this._isMobile?(r.form=e("<div />").html(c.template('<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-i-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list">#if(search){#<div class=\'k-textbox k-space-right\'><input placeholder=\'#=messages.search#\'/><span class=\'k-icon k-i-zoom\' /></div>#}#<ul class="k-multicheck-wrap"></ul></li><li class="k-button-container">#if(messages.selectedItemsFormat){#<div class=\'k-filter-selected-items\'></div>#}#<button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>')({field:r.field,title:n.title||r.field,ns:c.ns,messages:n.messages,search:n.search})),r.view=r.pane.append(r.form.html()),r.form=r.view.element.find("form"),t=this.view.element,this.container=t.find(".k-multicheck-wrap"),t.on("click",".k-submit",function(e){r.form.submit(),e.preventDefault()}).on("click",".k-i-cancel",function(e){r._closeForm(),e.preventDefault()})):n.appendToElement?(this.popup=this.element.closest(".k-popup").data(p),this.element.append(this.form)):r.popup=r.form.kendoPopup({anchor:r._link,open:u(r._open,r),activate:u(r._activate,r),close:function(){r.options.closeCallback&&r.options.closeCallback(r.element)}}).data(p),n.search&&(this.searchTextBox=this.form.find(".k-textbox > input"),this.searchTextBox.on("input",u(this._input,this)))},createCheckAllItem:function(){var t=this.options,n=c.template(t.itemTemplate({field:"all",mobile:this._isMobile})),i=e(n({all:t.messages.checkAll}));this.container.prepend(i),this.checkBoxAll=i.find(":checkbox").eq(0).addClass("k-check-all"),this.checkAllHandler=u(this.checkAll,this),this.checkBoxAll.on(m+S,this.checkAllHandler)},updateCheckAllState:function(){if(this.options.messages.selectedItemsFormat&&this.form.find(".k-filter-selected-items").text(c.format(this.options.messages.selectedItemsFormat,this.container.find(":checked:not(.k-check-all)").length)),this.checkBoxAll){var e=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",e)}},refresh:function(e){var t=this.options.forceUnique,n=this.dataSource,i=this.getFilterArray();this._link&&this._link.toggleClass("k-state-active",0!==i.length),this.form&&(e&&t&&e.sender===n&&!n.options.serverPaging&&("itemchange"==e.action||"add"==e.action||"remove"==e.action||n.options.autoSync&&"sync"===e.action)&&!this._foreignKeyValues()&&(this.checkSource.data(s(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(":empty")&&this.createCheckBoxes(),this.checkValues(i),this.trigger(g))},getFilterArray:function(){var t=e.extend(!0,{},{filters:[],logic:"and"},this.dataSource.filter());return o(t,this.field),a(t)},createCheckBoxes:function(){var e,t,n,i=this.options,r={field:this.field,format:i.format,mobile:this._isMobile,type:this.type};this.options.forceUnique?this._foreignKeyValues()?(e=this.checkSource.data(),r.valueField="value",r.field="text"):e=this.checkSource.data():e=this.checkSource.view(),t=c.template(i.itemTemplate(r)),n=c.render(t,e),i.checkAll&&this.createCheckAllItem(),this.container.on(m+S,":checkbox",u(this.updateCheckAllState,this)),this.container.append(n)},checkAll:function(){var e=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",e)},checkValues:function(t){var n=this;e(e.grep(this.container.find(":checkbox").prop("checked",!1),function(i){var r,o,a=!1;if(!e(i).is(".k-check-all"))for(r=n._parse(e(i).val()),o=0;o<t.length;o++)if(a="date"==n.type?t[o]&&r?t[o].getTime()==r.getTime():null===t[o]&&null===r:t[o]==r)return a})).prop("checked",!0),this.updateCheckAllState()},_filter:function(t){var n,i;t.preventDefault(),t.stopPropagation(),i=this,(n={logic:"or"}).filters=e.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(t){return{value:e(t).val(),operator:"eq",field:i.field}}),n.filters.length&&this.trigger("change",{filter:n,field:i.field})||(n=this._merge(n),n.filters.length?this.dataSource.filter(n):this.clear(),this._closeForm())},_stripFilters:function(t){return e.grep(t,function(e){return null!=e.value})},_foreignKeyValues:function(){var e=this.options;return e.values&&!e.checkSource},destroy:function(){var e=this;x.fn.destroy.call(e),e.form&&(c.unbind(e.form),c.destroy(e.form),e.form.unbind(S),e.popup&&(e.popup.destroy(),e.popup=null),e.form=null,e.container&&(e.container.unbind(S),e.container=null),e.checkBoxAll&&e.checkBoxAll.unbind(S)),e.view&&(e.view.purge(),e.view=null),e._link&&e._link.unbind(_),e._refreshHandler&&(e.dataSource.unbind(m,e._refreshHandler),e.dataSource=null),e.checkChangeHandler&&e.checkSource.unbind(m,e.checkChangeHandler),e._progressHandler&&e.checkSource.unbind("progress",e._progressHandler),e._progressHideHandler&&e.checkSource.unbind("change",e._progressHideHandler),this._clearTypingTimeout(),this.searchTextBox=null,e.element=e.checkSource=e.container=e.checkBoxAll=e._link=e._refreshHandler=e.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(e){var n=e.field,i=e.format,r=e.valueField,o=e.mobile,a="";return r===t&&(r=n),"date"==e.type&&(a=":yyyy-MM-ddTHH:mm:sszzz"),"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(o?"k-check":"")+"'  value='#:kendo.format('{0"+a+"}',"+r+")#'/>#:kendo.format('"+(i||"{0}")+"', "+n+")#</label></li>"},checkAll:!0,search:!1,ignoreCase:!0,appendToElement:!1,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter",search:"Search",cancel:"Cancel",selectedItemsFormat:"{0} items selected"},forceUnique:!0,animations:{left:"slide",right:"slide:right"}},events:[h,g,"change",f]});e.extend(D.fn,{_click:C.fn._click,_keydown:C.fn._keydown,_reset:C.fn._reset,_closeForm:C.fn._closeForm,_removeFilter:C.fn._removeFilter,clear:C.fn.clear,_merge:C.fn._merge}),d.plugin(C),d.plugin(D)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.menu.min",["kendo.popup.min"],e)}(function(){return function(e,t){function n(e,t){return(e=e.split(" ")[!t+0]||e).replace("top","up").replace("bottom","down")}function i(e,t,n){e=e.split(" ")[!t+0]||e;var i={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]};return/left|right/.test(e)?(i.origin=["top",e],i.position[1]=T.directions[e].reverse):(i.origin[0]=e,i.position[0]=T.directions[e].reverse),i.origin=i.origin.join(" "),i.position=i.position.join(" "),i}function r(t,n){try{return e.contains(t,n)}catch(e){return!1}}function o(t){(t=e(t)).addClass("k-item").children(N).addClass(K),t.children("a").addClass(q).children(N).addClass(K),t.filter(":not([disabled])").addClass(pe),t.filter(".k-separator").empty().append("&nbsp;"),t.filter("li[disabled]").addClass(ge).removeAttr("disabled").attr("aria-disabled",!0),t.filter("[role]").length||t.attr("role","menuitem"),t.children(U).length||t.contents().filter(function(){return!(this.nodeName.match(L)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll("<span class='"+q+"'/>"),a(t),l(t)}function a(t){(t=e(t)).find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove(),t.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var t=e(this),n=s(t);t.append("<span class='k-icon"+n+" k-menu-expand-arrow'/>")})}function s(e){var t=e.parent().parent(),n=T.support.isRtl(t);return t.hasClass(W+"-horizontal")?" k-i-arrow-60-down":n?" k-i-arrow-60-left":" k-i-arrow-60-right"}function l(t){(t=e(t)).filter(".k-first:not(:first-child)").removeClass(Y),t.filter(".k-last:not(:last-child)").removeClass(j),t.filter(":first-child").addClass(Y),t.filter(":last-child").addClass(j)}function c(e){var t,n;if(e&&e.length)for(t in e)n=e.eq(t),n.find("ul").length?n.attr("aria-haspopup",!0):n.removeAttr("aria-haspopup")}function d(e){if(!e.hasClass(W))return e.parentsUntil("."+W,"li")}function u(t,n){var i=h(n);i&&p(t,i),n.items&&e(t).children("ul").children("li").each(function(e){u(this,n.items[e])})}function p(t,n){e(t).children(".k-link").data({selectHandler:n})}function h(e){var t=e.select,n=T.isFunction;return t&&n(t)?t:null}function f(e){return e?"li[data-groupparent='"+e+"']":"li[data-groupparent]"}function g(e){return e?"ul[data-group='"+e+"']":"ul[data-group]"}function m(t,n){var i=[];return t.find(f()).each(function(r,o){var a,s;for(a=(o=e(o)).data(ce),s=t;a;)(s=n.find(g(a)+":visible")).length&&i.push(s),o=s.find(f()),a=o.data(ce)}),i}function _(t,n){var i=t.data(le);return i?n.find(f(i)):e([])}function v(t,n){var i=t.data(ce);return i?n.children(ve).children(g(i)):e([])}function b(t,n){var i,r,o=[],a=function(e){for(;e.parentNode&&!n.is(e.parentNode);)o.push(e.parentNode),e=e.parentNode},s=t[0]||t;for(a(s),i=o[o.length-1];e(i).is(ve)&&(r=e(i).children("ul"),s=_(r,n)[0]);)o.push(s),a(s),i=o[o.length-1];return o}function k(e){var t=0;return e.wheelDelta&&(t=-e.wheelDelta/120,t=t>0?Math.ceil(t):Math.floor(t)),e.detail&&(t=Math.round(e.detail/3)),t}function w(e,t){for(var n=0,i=e.parentNode;i&&!isNaN(i[t]);)n+=i[t],i=i.parentNode;return n}function y(e){return ie&&e.originalEvent&&e.originalEvent.pointerType in De}function x(e){var t=e.originalEvent;return H&&/touch/i.test(t.type||"")}function C(e){e.contents().filter(function(){return"LI"!=this.nodeName}).remove()}var S,T=window.kendo,D=T.ui,I=T._activeElement,H=T.support.touch&&T.support.mobileOS,E="mousedown",M="click",F=e.extend,A=e.proxy,P=e.each,O=T.template,z=T.keys,R=D.Widget,L=/^(ul|a|div)$/i,V=".kendoMenu",N="img",B="open",W="k-menu",q="k-link k-menu-link",U=".k-link",j="k-last",$="close",G="timer",Y="k-first",K="k-image",Q="select",J="zIndex",X="activate",Z="deactivate",ee="touchstart"+V+" MSPointerDown"+V+" pointerdown"+V,te=T.support.pointers,ne=T.support.msPointers,ie=ne||te,re=te?"pointerenter":ne?"MSPointerEnter":"mouseenter",oe=te?"pointerleave":ne?"MSPointerLeave":"mouseleave",ae="DOMMouseScroll"+V+" mousewheel"+V,se=T.support.resize+V,le="group",ce="groupparent",de=e(document.documentElement),ue="kendoPopup",pe="k-state-default",he="k-state-hover",fe="k-state-focused",ge="k-state-disabled",me=".k-menu",_e=".k-menu-group",ve=".k-animation-container",be=_e+","+ve,ke=":not(.k-list) > .k-item",we=".k-item",ye=".k-item:not(.k-state-disabled)",xe=":not(.k-item.k-separator)",Ce=we+xe+":eq(0)",Se=we+xe+":last",Te=".k-menu-scroll-button",De={2:1,touch:1},Ie={content:O("<div #= contentCssAttributes(item) # tabindex='-1'>#= content(item) #</div>"),group:O("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:O("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(data) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:O("<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),scrollButton:O("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),image:O("<img #= imageCssAttributes(item) # alt='' src='#= item.imageUrl #' />"),arrow:O("<span class='#= arrowClass(item, group) #'></span>"),sprite:O("<span class='k-sprite #= spriteCssClass #'></span>"),empty:O("")},He={wrapperCssClass:function(e,t){var n="k-item",i=t.index;return n+=!1===t.enabled?" k-state-disabled":" k-state-default",e.firstLevel&&0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),t.attr&&t.attr.hasOwnProperty("class")&&(n+=" "+t.attr.class),t.selected&&(n+=" k-state-selected"),n},itemCssAttributes:function(e){var t,n="",i=e.attr||{};for(t in i)i.hasOwnProperty(t)&&"class"!==t&&(n+=t+'="'+i[t]+'" ');return n},imageCssAttributes:function(e){var t,n="",i=e.imageAttr||{};i.class?i.class+=" "+K:i.class=K;for(t in i)i.hasOwnProperty(t)&&(n+=t+'="'+i[t]+'" ');return n},contentCssAttributes:function(e){var t,n="",i=e.contentAttr||{},r="k-content k-group k-menu-group";i.class?i.class+=" "+r:i.class=r;for(t in i)i.hasOwnProperty(t)&&(n+=t+'="'+i[t]+'" ');return n},textClass:function(){return q},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e,t){var n="k-icon";return n+=t.horizontal?" k-i-arrow-60-down":" k-i-arrow-60-right"},text:function(e){return!1===e.encoded?e.text:T.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},groupAttributes:function(e){return!0!==e.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(e){return e.content?e.content:"&nbsp;"}},Ee=R.extend({init:function(e,t){var n=this;R.fn.init.call(n,e,t),e=n.wrapper=n.element,t=n.options,n._initData(t),n._updateClasses(),n._animations(t),n.nextItemZIndex=100,n._tabindex(),n._initOverflow(t),n._attachMenuEventsHandlers(),t.openOnClick&&(n.clicked=!1),e.attr("role","menubar"),e[0].id&&(n._ariaId=T.format("{0}_mn_active",e[0].id)),T.notify(n)},events:[B,$,X,Z,Q],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,scrollable:!1,popupCollision:t},_initData:function(e){var t=this;e.dataSource&&(t.angular("cleanup",function(){return{elements:t.element.children()}}),t.element.empty(),t.append(e.dataSource,t.element),t.angular("compile",function(){return{elements:t.element.children()}}))},_attachMenuEventsHandlers:function(){var t=this,n=t.element,i=t.options,r=t._overflowWrapper();(r||n).on(ee,we,A(t._focusHandler,t)).on(M+V,".k-item.k-state-disabled",!1).on(M+V,we,A(t._click,t)).on(ee+" "+E+V,".k-content",A(t._preventClose,t)).on(re+V,ye,A(t._mouseenter,t)).on(oe+V,ye,A(t._mouseleave,t)).on(E+V,ye,A(t._mousedown,t)).on(re+V+" "+oe+V+" "+E+V+" "+M+V,".k-item:not(.k-state-disabled) > .k-link",A(t._toggleHover,t)),n.on("keydown"+V,A(t._keydown,t)).on("focus"+V,A(t._focus,t)).on("focus"+V,".k-content",A(t._focus,t)).on("blur"+V,A(t._removeHoverItem,t)).on("blur"+V,"[tabindex]",A(t._checkActiveElement,t)),r&&r.on(oe+V,be,A(t._mouseleavePopup,t)).on(re+V,be,A(t._mouseenterPopup,t)),i.openOnClick&&(t._documentClickHandler=A(t._documentClick,t),e(document).click(t._documentClickHandler))},_detachMenuEventsHandlers:function(){var t=this,n=t._overflowWrapper();n&&n.off(V),t.element.off(V),t._documentClickHandler&&e(document).unbind("click",t._documentClickHandler)},_initOverflow:function(t){var n,i,r,o,a=this,s="horizontal"==t.orientation;t.scrollable&&(a._openedPopups={},a._scrollWrapper=a.element.wrap("<div class='k-menu-scroll-wrapper "+t.orientation+"'></div>").parent(),s&&C(a.element),n=e(Ie.scrollButton({direction:s?"left":"up"})),i=e(Ie.scrollButton({direction:s?"right":"down"})),n.add(i).appendTo(a._scrollWrapper),a._initScrolling(a.element,n,i,s),r=a.element.outerWidth(),o=a.element[0].style.width,o="auto"===o?"":o,s&&e(window).on(se,T.throttle(function(){a._setOverflowWrapperWidth(r,o),a._toggleScrollButtons(a.element,n,i,s)},100)),a._setOverflowWrapperWidth(r,o),a._toggleScrollButtons(a.element,n,i,s))},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(e,t){var n,i,r,o,a=this,s=a._scrollWrapper.css("width");a._scrollWrapper.css({width:""}),n=a._scrollWrapper.outerWidth(),a._scrollWrapper.css({width:s}),i=a.element.outerWidth(),r=a.element[0].offsetWidth-a.element[0].clientWidth,i!=n&&n>0&&(o=t?Math.min(e,n):n,a.element.width(o-r),a._scrollWrapper.width(o))},_reinitOverflow:function(e){var t=this;(e.scrollable&&!t.options.scrollable||!e.scrollable&&t.options.scrollable||e.scrollable&&t.options.scrollable&&e.scrollable.distance!=t.options.scrollable.distance||e.orientation!=t.options.orientation)&&(t._detachMenuEventsHandlers(),t._destroyOverflow(),t._initOverflow(e),t._attachMenuEventsHandlers())},_destroyOverflow:function(){var n=this,i=n._overflowWrapper();i&&(i.off(V),i.find(Te).off(V).remove(),i.children(ve).each(function(t,n){var r,o=e(n).children(_e);o.off(ae),(r=_(o,i)).length&&r.append(n)}),i.find(f()).removeAttr("data-groupparent"),i.find(g()).removeAttr("data-group"),n.element.off(ae),e(window).off(se),i.contents().unwrap(),n._scrollWrapper=n._popupsWrapper=n._openedPopups=t)},_initScrolling:function(t,n,i,r){var o=this,a=o.options.scrollable,s=e.isNumeric(a.distance)?a.distance:50,l=s/2,c="-="+s,d="+="+s,u="-="+2*s,p="+="+2*s,h=!1,f=!1,g=function(e){var a=r?{scrollLeft:e}:{scrollTop:e};t.finish().animate(a,"fast","linear",function(){h&&g(e)}),o._toggleScrollButtons(t,n,i,r)},m=function(e){h||f||(g(e.data.direction),h=!0)},_=function(a){var s=r?{scrollLeft:a.data.direction}:{scrollTop:a.data.direction};f=x(a)||y(a),t.stop().animate(s,"fast","linear",function(){f?(o._toggleScrollButtons(t,n,i,r),h=!0):e(a.currentTarget).trigger(re)}),h=!1,a.stopPropagation(),a.preventDefault()};n.on(re+V,{direction:c},m).on(T.eventMap.down+V,{direction:u},_),i.on(re+V,{direction:d},m).on(T.eventMap.down+V,{direction:p},_),n.add(i).on(oe+V,function(){t.stop(),h=!1,o._toggleScrollButtons(t,n,i,r)}),t.on(ae,function(e){var a,s,c,d;e.ctrlKey||e.shiftKey||e.altKey||(a=k(e.originalEvent),s=Math.abs(a)*l,c=(a>0?"+=":"-=")+s,d=r?{scrollLeft:c}:{scrollTop:c},o._closeChildPopups(t),t.finish().animate(d,"fast","linear",function(){o._toggleScrollButtons(t,n,i,r)}),e.preventDefault())})},_toggleScrollButtons:function(e,t,n,i){var r=i?e.scrollLeft():e.scrollTop(),o=i?"scrollWidth":"scrollHeight",a=i?"offsetWidth":"offsetHeight";t.toggle(0!==r),n.toggle(r<e[0][o]-e[0][a]-1)},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=F(!0,t,e.animation),"dataSource"in e&&this._initData(e),this._updateClasses(),this._reinitOverflow(e),R.fn.setOptions.call(this,e)},destroy:function(){var e=this;R.fn.destroy.call(e),e._detachMenuEventsHandlers(),e._destroyOverflow(),T.destroy(e.element)},enable:function(e,t){return this._toggleDisabled(e,!1!==t),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.length?t.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return P(n.items,function(t){n.group.append(this),a(this),u(this,e[t]||e)}),a(t),l(n.group.find(".k-first, .k-last").add(n.items)),c(d(n.group)),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return P(n.items,function(n){t.before(this),a(this),l(this),u(this,e[n]||e)}),l(t),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return P(n.items,function(n){t.after(this),a(this),l(this),u(this,e[n]||e)}),l(t),this},_insert:function(t,n,i){var r,a,s,l,c=this;return n&&n.length||(i=c.element),s=e.isPlainObject(t),l={firstLevel:i.hasClass(W),horizontal:i.hasClass(W+"-horizontal"),expanded:!0,length:i.children().length},n&&!i.length&&(i=e(Ee.renderGroup({group:l})).appendTo(n)),s||e.isArray(t)?r=e(e.map(s?[t]:t,function(t,n){return"string"==typeof t?e(t).get():e(Ee.renderItem({group:l,item:F(t,{index:n})})).get()})):(r="string"==typeof t&&"<"!=t.charAt(0)?c.element.find(t):e(t),a=r.find("> ul").addClass("k-menu-group").attr("role","menu"),(r=r.filter("li")).add(a.find("> li")).each(function(){o(this)})),{items:r,group:i}},remove:function(e){var t,n,i,r,o;return e=this.element.find(e),t=this,n=e.parentsUntil(t.element,ke),i=e.parent("ul:not(.k-menu)"),e.remove(),i&&!i.children(ke).length&&(r=d(i),o=i.parent(ve),o.length?o.remove():i.remove(),c(r)),n.length&&(n=n.eq(0),a(n),l(n)),t},open:function(r){var o,a,s=this,l=s.options,c="horizontal"==l.orientation,d=l.direction,u=T.support.isRtl(s.wrapper),p=s._overflowWrapper();return r=(p||s.element).find(r),/^(top|bottom|default)$/.test(d)&&(d=u?c?(d+" left").replace("default","bottom"):"left":c?(d+" right").replace("default","bottom"):"right"),o=">.k-popup:visible,>.k-animation-container>.k-popup:visible",a=function(){e(this).data(ue)&&s.close(e(this).closest("li.k-item"),!0)},r.siblings().find(o).each(a),p&&r.find(o).each(a),s.options.openOnClick&&(s.clicked=!0),r.each(function(){var r=e(this);clearTimeout(r.data(G)),r.data(G,setTimeout(function(){var o,a,h,g,m,_,v,b,k,w,y=r.find(".k-menu-group:first:hidden");!y[0]&&p&&(a=s._getPopup(r),y=a&&a.element),y.is(":visible")||y[0]&&!1===s._triggerEvent({item:r[0],type:B})&&(!y.find(".k-menu-group")[0]&&y.children(".k-item").length>1?(h=e(window).height(),g=function(){y.css({maxHeight:h-(T._outerHeight(y)-y.height())-T.getShadows(y).bottom,overflow:"auto"})},T.support.browser.msie&&T.support.browser.version<=7?setTimeout(g,0):g()):y.css({maxHeight:"",overflow:""}),r.data(J,r.css(J)),m=s.nextItemZIndex++,r.css(J,m),s.options.scrollable&&r.parent().siblings(Te).css({zIndex:++m}),o=y.data(ue),_=r.parent().hasClass(W),v=_&&c,b=i(d,_,u),k=l.animation.open.effects,w=k!==t?k:"slideIn:"+n(d,_),o?(o=y.data(ue),o.options.origin=b.origin,o.options.position=b.position,o.options.animation.open.effects=w):o=y.kendoPopup({activate:function(){s._triggerEvent({item:this.wrapper.parent(),type:X})},deactivate:function(e){e.sender.element.removeData("targetTransform").css({opacity:""}),s._triggerEvent({item:this.wrapper.parent(),type:Z})},origin:b.origin,position:b.position,collision:l.popupCollision!==t?l.popupCollision:v?"fit":"fit flip",anchor:r,appendTo:p||r,animation:{open:F(!0,{effects:w},l.animation.open),close:l.animation.close},open:A(s._popupOpen,s),close:function(e){var t,n=e.sender.wrapper.parent();p&&((t=e.sender.element.data(le))&&(n=(p||s.element).find(f(t))),e.sender.wrapper.children(Te).hide()),s._triggerEvent({item:n[0],type:$})?e.preventDefault():(n.css(J,n.data(J)),n.removeData(J),s.options.scrollable&&n.parent().siblings(Te).css({zIndex:""}),(H||ie)&&(n.removeClass(he),s._removeHoverItem()))}}).data(ue),y.removeAttr("aria-hidden"),s._configurePopupOverflow(o,r),o._hovered=!0,o.open(),s._initPopupScrolling(o))},s.options.hoverDelay))}),s},_configurePopupOverflow:function(e,t){var n,i=this;i.options.scrollable&&(i._wrapPopupElement(e),t.attr("data-groupparent")||(n=(new Date).getTime(),t.attr("data-groupparent",n),e.element.attr("data-group",n)))},_wrapPopupElement:function(e){e.element.parent().is(ve)||(e.wrapper=T.wrap(e.element,e.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"}))},_initPopupScrolling:function(e,t,n){var i=this;i.options.scrollable&&e.element[0].scrollHeight>e.element[0].offsetHeight&&i._initPopupScrollButtons(e,t,n)},_initPopupScrollButtons:function(t,n,i){var r=this,o=t.wrapper.children(Te),a=r.options.animation,s=(a&&a.open&&a.open.duration||0)+30;setTimeout(function(){var a,s;o.length||(a=e(Ie.scrollButton({direction:n?"left":"up"})),s=e(Ie.scrollButton({direction:n?"right":"down"})),o=a.add(s).appendTo(t.wrapper),r._initScrolling(t.element,a,s,n),i||o.on(re+V,function(){var n=r._overflowWrapper();e(m(t.element,n)).each(function(e,t){var i=n.find(f(t.data(le)));r.close(i)})}).on(oe+V,function(){setTimeout(function(){e.isEmptyObject(r._openedPopups)&&r._closeParentPopups(t.element)},30)})),r._toggleScrollButtons(t.element,o.first(),o.last(),n)},s)},_popupOpen:function(e){this._keyTriggered||e.sender.element.children("."+fe).removeClass(fe),this.options.scrollable&&this._setPopupHeight(e.sender)},_setPopupHeight:function(t,n){var i,r,o,a,s,l,c,d,u=t.element,p=u.add(u.parent(ve));p.height(u.hasClass(W)&&this._initialHeight||""),i=t._location(n),r=e(window).height(),o=i.height,a=n?0:Math.max(i.top,0),s=n?0:w(this._overflowWrapper()[0],"scrollTop"),l=window.innerHeight-r,(c=r-T.getShadows(u).bottom+l)+s>o+a||(d=Math.min(c,c-a+s),p.css({overflow:"hidden",height:d+"px"}))},close:function(t,n){var i,r,o=this,a=o._overflowWrapper(),s=a||o.element;return(t=s.find(t)).length||(t=s.find(">.k-item")),i=function(t){var n=!1;return e.isEmptyObject(o._openedPopups)?n:(e(m(t,a)).each(function(e,t){return!(n=!!o._openedPopups[""+t.data(le)])}),n)},r=function(e){var t=e.data(ce);return!a||!t||!o._openedPopups[""+t]},t.each(function(){var s=e(this);!n&&o._isRootItem(s)&&(o.clicked=!1),clearTimeout(s.data(G)),s.data(G,setTimeout(function(){var e=o._getPopup(s);if(e&&(r(s)||o._forceClose)){if(!o._forceClose&&i(e.element))return;e.close(),e.element.attr("aria-hidden",!0),a&&o._forceClose&&t.last().is(s[0])&&delete o._forceClose}},o.options.hoverDelay))}),o},_getPopup:function(e){var t,n,i=this,r=e.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(ue),o=i._overflowWrapper();return!r&&o&&(t=e.data(ce))&&(n=o.find(g(t)),r=n.data(ue)),r},_toggleDisabled:function(t,n){this.element.find(t).each(function(){e(this).toggleClass(pe,n).toggleClass(ge,!n).attr("aria-disabled",!n)})},_toggleHover:function(t){var n=e(T.eventTarget(t)||t.target).closest(ke),i=t.type==re||-1!==E.indexOf(t.type);n.parents("li."+ge).length||n.toggleClass(he,i||"mousedown"==t.type||"click"==t.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(t){var n=this,i=e(t?t.currentTarget:this._hoverItem()),o=n._findRootParent(i)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(r(o,T._activeElement())||!t||r(o,t.currentTarget))||n.close(o)},0),this._closurePrevented=!1},_removeHoverItem:function(){var e=this._hoverItem();e&&e.hasClass(fe)&&(e.removeClass(fe),this._oldHoverItem=null)},_updateClasses:function(){var e,t=this.element;t.removeClass("k-menu-horizontal k-menu-vertical"),t.addClass("k-widget k-reset k-header k-menu-init "+W).addClass(W+"-"+this.options.orientation),t.find("li > ul").filter(function(){return!T.support.matchesSelector.call(this,".k-menu-init div ul")}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",t.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=t.find("> li,.k-menu-group > li"),t.removeClass("k-menu-init"),e.each(function(){o(this)})},_mouseenter:function(t){var n=this,i=e(t.currentTarget),o=n._itemHasChildren(i),a=i.data(ce)||i.parent().data(le),s=y(t);a&&(n._openedPopups[""+a]=!0),t.delegateTarget!=i.parents(me)[0]&&t.delegateTarget!=i.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]||(n._keyTriggered=!1,n.options.openOnClick.rootMenuItems&&n._isRootItem(i.closest(ke))||n.options.openOnClick.subMenuItems&&!n._isRootItem(i.closest(ke))||(!(!1===n.options.openOnClick||!1===n.options.openOnClick.rootMenuItems&&n._isRootItem(i.closest(ke))||!1===n.options.openOnClick.subMenuItems&&!n._isRootItem(i.closest(ke))||n.clicked)||H||s&&n._isRootItem(i.closest(ke))||!r(t.currentTarget,t.relatedTarget)&&o&&n.open(i),(!0===n.options.openOnClick&&n.clicked||H)&&i.siblings().each(A(function(e,t){n.close(t,!0)},n))))},_mousedown:function(t){var n=this,i=e(t.currentTarget);(n.options.openOnClick.subMenuItems&&!n._isRootItem(i)||H)&&i.siblings().each(A(function(e,t){n.close(t,!0)},n))},_mouseleave:function(n){var i=this,o=e(n.currentTarget),a=o.data(ce),s=o.children(ve).length||o.children(_e).length||a,l=e(window);return a&&delete i._openedPopups[""+a],o.parentsUntil(ve,".k-list-container,.k-calendar-container")[0]?(n.stopImmediatePropagation(),t):!1!==i.options.openOnClick&&(i.options.openOnClick.rootMenuItems||!i._isRootItem(o))&&(i.options.openOnClick.subMenuItems||i._isRootItem(o))||H||y(n)||r(n.currentTarget,n.relatedTarget||n.target)||!s||r(n.currentTarget,T._activeElement())?((T.support.browser.msie&&!n.toElement&&!n.relatedTarget&&!y(n)||n.clientX<0||n.clientY<0||n.clientY>l.height()||n.clientX>l.width())&&i.close(o),t):(i.close(o,!0),t)},_mouseenterPopup:function(t){var n,i=this,r=e(t.currentTarget);r.parent().is(ve)||(r=r.children("ul"),(n=r.data(le))&&(i._openedPopups[""+n]=!0))},_mouseleavePopup:function(t){var n=this,i=e(t.currentTarget);!y(t)&&i.is(ve)&&n._closePopups(i.children("ul"))},_closePopups:function(t){var n,i=this,r=i._overflowWrapper(),o=t.data(le);o&&(delete i._openedPopups[""+o],n=r.find(f(o)),setTimeout(function(){if(i.options.openOnClick)i._closeChildPopups(t);else if(e.isEmptyObject(i._openedPopups)){var r=i._innerPopup(t);i._closeParentPopups(r)}else i.close(n,!0)},0))},_closeChildPopups:function(t){var n=this,i=n._overflowWrapper();e(m(t,i)).each(function(){var e=i.find(f(this.data(le)));n.close(e,!0)})},_innerPopup:function(e){var t=m(e,this._overflowWrapper());return t[t.length-1]||e},_closeParentPopups:function(e){var t=this,n=t._overflowWrapper(),i=e.data(le),r=n.find(f(i));for(i=r.parent().data(le),t.close(r,!0);i&&!t._openedPopups[i]&&!r.parent().is(me);)r=n.find(f(i)),t.close(r,!0),i=r.parent().data(le)},_click:function(n){for(var i,r,o,a,s,l,c=this,d=c.options,u=e(T.eventTarget(n)),p=u[0],h=u[0]?u[0].nodeName.toUpperCase():"",f="INPUT"==h||"SELECT"==h||"BUTTON"==h||"LABEL"==h,m=u.closest(U),_=u.closest(ke),v=_[0],b=m.attr("href"),k=u.attr("href"),w=e("<a href='#' />").attr("href"),x=!!b&&b!==w,C=x&&!!b.match(/^#/),S=!!k&&k!==w,D=c._overflowWrapper();p&&p.parentNode!=v;)p=p.parentNode;if(!e(p).is("div:not(.k-animation-container,.k-list-container)")){if(_.hasClass(ge))return n.preventDefault(),t;if(n.handled||!c._triggerSelect(u,v)||f||n.preventDefault(),n.handled=!0,r=_.children(be),D&&(s=_.data(ce))&&(r=D.find(g(s))),o=r.is(":visible"),a=d.openOnClick&&o&&c._isRootItem(_),d.closeOnClick&&(!x||C)&&(!r.length||a))return _.removeClass(he).css("height"),c._oldHoverItem=c._findRootParent(_),l=c._parentsUntil(m,c.element,ke),c._forceClose=!!D,c.close(l),c.clicked=!1,-1!="MSPointerUp".indexOf(n.type)&&n.preventDefault(),t;x&&n.enterKey&&m[0].click(),(c._isRootItem(_)&&!1!==d.openOnClick||d.openOnClick.subMenuItems||T.support.touch||y(n)&&c._isRootItem(_.closest(ke)))&&(x||f||S||n.preventDefault(),c.clicked=!0,i=r.is(":visible")?$:B,(d.closeOnClick||i!=$)&&c[i](_))}},_parentsUntil:function(n,i,r){var o,a,s=this._overflowWrapper();return s?(o=b(n,s),a=[],e(o).each(function(){var n=e(this);return!n.is(i)&&(n.is(r)&&a.push(this),t)}),e(a)):n.parentsUntil(i,r)},_triggerSelect:function(e,t){var n,i,r,o;return e=e.is(".k-link")?e:e.closest(".k-link"),(n=e.data("selectHandler"))&&(i=this._getEventData(e),n.call(this,i)),r=i&&i.isDefaultPrevented(),o=this._triggerEvent({item:t,type:Q}),r||o},_getEventData:function(e){return{sender:this,target:e,_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return this._defaultPrevented}}},_documentClick:function(e){var t=this;r((t._overflowWrapper()||t.element)[0],e.target)||(t.clicked=!1)},_focus:function(n){var i=this,r=n.target,o=i._hoverItem(),a=I();return r==i.wrapper[0]||e(r).is(":kendoFocusable")?(a===n.currentTarget&&(o.length?i._moveHover([],o):i._oldHoverItem||i._moveHover([],i.wrapper.children().first())),t):(n.stopPropagation(),e(r).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(fe),i.wrapper.focus(),t)},_keydown:function(e){var n,i,r,o=this,a=e.keyCode,s=o._oldHoverItem,l=T.support.isRtl(o.wrapper);if(e.target==e.currentTarget||a==z.ESC){if(s||(s=o._oldHoverItem=o._hoverItem()),i=o._itemBelongsToVertival(s),r=o._itemHasChildren(s),o._keyTriggered=!0,a==z.RIGHT)n=o[l?"_itemLeft":"_itemRight"](s,i,r);else if(a==z.LEFT)n=o[l?"_itemRight":"_itemLeft"](s,i,r);else if(a==z.DOWN)n=o._itemDown(s,i,r);else if(a==z.UP)n=o._itemUp(s,i,r);else if(a==z.HOME)o._moveHover(s,s.parent().children().first()),e.preventDefault();else if(a==z.END)o._moveHover(s,s.parent().children().last()),e.preventDefault();else if(a==z.ESC)n=o._itemEsc(s,i);else if(a==z.ENTER||a==z.SPACEBAR)(n=s.children(".k-link")).length>0&&(o._click({target:n[0],preventDefault:function(){},enterKey:!0}),r&&!s.hasClass(ge)?(o.open(s),o._moveHover(s,o._childPopupElement(s).children().first())):o._moveHover(s,o._findRootParent(s)));else if(a==z.TAB)return n=o._findRootParent(s),o._moveHover(s,n),o._checkActiveElement(),t;n&&n[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length?e.parent().hasClass("k-menu-group")||t:t},_itemHasChildren:function(e){return!!(e&&e.length&&e[0].nodeType)&&(e.children(".k-menu-group, div.k-animation-container").length>0||!!e.data(ce)&&!!this._overflowWrapper().children(g(e.data(ce))))},_moveHover:function(t,n){var i=this,r=i._ariaId;t.length&&n.length&&t.removeClass(fe),n.length&&(n[0].id&&(r=n[0].id),n.addClass(fe),i._oldHoverItem=n,r&&(i.element.removeAttr("aria-activedescendant"),e("#"+r).removeAttr("id"),n.attr("id",r),i.element.attr("aria-activedescendant",r)),i._scrollToItem(n))},_findRootParent:function(e){return this._isRootItem(e)?e:this._parentsUntil(e,me,"li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(W)},_itemRight:function(e,t,n){var i,r,o,a,s=this;return t?n&&!e.hasClass(ge)?(s.open(e),i=s._childPopupElement(e).children().first()):"horizontal"==s.options.orientation&&(r=s._findRootParent(e),(o=s._overflowWrapper())&&(a=v(r,o),s._closeChildPopups(a)),s.close(r),i=r.nextAll(Ce)):((i=e.nextAll(Ce)).length||(i=e.prevAll(Se)),s.close(e)),i&&!i.length?i=s.wrapper.children(".k-item").first():i||(i=[]),s._moveHover(e,i),i},_itemLeft:function(e,t){var n,i,r=this;return t?(n=e.parent().closest(".k-item"),i=r._overflowWrapper(),!n.length&&i&&(n=_(e.parent(),i)),r.close(n),r._isRootItem(n)&&"horizontal"==r.options.orientation&&(n=n.prevAll(Ce))):((n=e.prevAll(Ce)).length||(n=e.nextAll(Se)),r.close(e)),n.length||(n=r.wrapper.children(".k-item").last()),r._moveHover(e,n),n},_itemDown:function(e,t,n){var i,r=this;if(t)i=e.nextAll(Ce);else{if(!n||e.hasClass(ge))return;r.open(e),i=r._childPopupElement(e).children().first()}return!i.length&&e.length?i=e.parent().children().first():e.length||(i=r.wrapper.children(".k-item").first()),r._moveHover(e,i),i},_itemUp:function(e,t){var n,i=this;if(t)return n=e.prevAll(Ce),!n.length&&e.length?n=e.parent().children().last():e.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n},_scrollToItem:function(e){var t,n,i,r,o,a,s,l,c,d,u,p,h=this;h.options.scrollable&&e&&e.length&&(t=e.parent(),n=!!t.hasClass(W)&&"horizontal"==h.options.orientation,i=n?"scrollLeft":"scrollTop",r=n?T._outerWidth:T._outerHeight,o=t[i](),a=r(e),s=e[0][n?"offsetLeft":"offsetTop"],l=r(t),c=t.siblings(Te),d=c.length?r(c.first()):0,o+l<s+a+d?u=s+a-l+d:o>s-d&&(u=s-d),isNaN(u)||(p={},p[i]=u,t.finish().animate(p,"fast","linear",function(){h._toggleScrollButtons(t,c.first(),c.last(),n)})))},_itemEsc:function(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._moveHover(e,n),n):e},_childPopupElement:function(e){var t=e.find(".k-menu-group"),n=this._overflowWrapper();return!t.length&&n&&(t=v(e,n)),t},_triggerEvent:function(e){return this.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(t){var n=this,i=e(T.eventTarget(t)).closest(ke);i.hasClass(ge)||setTimeout(function(){n._moveHover([],i),i.children(".k-content")[0]&&i.parent().closest(".k-item").removeClass(fe)},200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});F(Ee,{renderItem:function(e){e=F({menu:{},group:{}},e);var t=Ie.empty,n=e.item;return Ie.item(F(e,{image:n.imageUrl?Ie.image:t,sprite:n.spriteCssClass?Ie.sprite:t,itemWrapper:Ie.itemWrapper,renderContent:Ee.renderContent,arrow:n.items||n.content?Ie.arrow:t,subGroup:Ee.renderGroup},He))},renderGroup:function(e){return Ie.group(F({renderItems:function(e){for(var t="",n=0,i=e.items,r=i?i.length:0,o=F({length:r},e.group);n<r;n++)t+=Ee.renderItem(F(e,{group:o,item:F({index:n},i[n])}));return t}},e,He))},renderContent:function(e){return Ie.content(F(e,He))}}),S=Ee.extend({init:function(t,n){var i=this;Ee.fn.init.call(i,t,n),i._marker=T.guid().substring(0,8),i.target=e(i.options.target),i._popup(),i._wire()},_initOverflow:function(e){var t=this;e.scrollable&&!t._overflowWrapper()&&(t._openedPopups={},t._popupsWrapper=(t.element.parent().is(ve)?t.element.parent():t.element).wrap("<div class='k-popups-wrapper "+e.orientation+"'></div>").parent(),"horizontal"==t.options.orientation&&C(t.element),e.appendTo&&e.appendTo.append(t._popupsWrapper),t._initialHeight=t.element[0].style.height,t._initialWidth=t.element[0].style.width)},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:[B,$,X,Z,Q],setOptions:function(t){var n=this;Ee.fn.setOptions.call(n,t),n.target.off(n.showOn+V+n._marker,n._showProxy),n.userEvents&&n.userEvents.destroy(),n.target=e(n.options.target),t.orientation&&n.popup.wrapper[0]&&n.popup.element.unwrap(),n._wire(),Ee.fn.setOptions.call(this,t)},destroy:function(){var e=this;e.target.off(e.options.showOn+V+e._marker),de.off(T.support.mousedown+V+e._marker,e._closeProxy),e.userEvents&&e.userEvents.destroy(),Ee.fn.destroy.call(e)},open:function(n,i){var o,a,s=this;return n=e(n)[0],r(s.element[0],e(n)[0])||s._itemHasChildren(e(n))?Ee.fn.open.call(s,n):!1===s._triggerEvent({item:s.element,type:B})&&(s.popup.visible()&&s.options.filter&&(s.popup.close(!0),s.popup.element.kendoStop(!0)),i!==t?((o=s._overflowWrapper())&&(a=o.offset(),n-=a.left,i-=a.top),s.popup.wrapper.hide(),s._configurePopupScrolling(n,i),s.popup.open(n,i)):(s.popup.options.anchor=n||s.popup.anchor||s.target,s.popup.element.kendoStop(!0),s._configurePopupScrolling(),s.popup.open()),de.off(s.popup.downEvent,s.popup._mousedownProxy),de.on(T.support.mousedown+V+s._marker,s._closeProxy)),s},_configurePopupScrolling:function(e,n){var i=this,r=i.popup,o="horizontal"==i.options.orientation;i.options.scrollable&&(i._wrapPopupElement(r),r.element.parent().css({position:"",height:""}),r.element.css({visibility:"hidden",display:"",position:""}),o?i._setPopupWidth(r,isNaN(e)?t:{isFixed:!0,x:e,y:n}):i._setPopupHeight(r,isNaN(e)?t:{isFixed:!0,x:e,y:n}),r.element.css({visibility:"",display:"none",position:"absolute"}),i._initPopupScrollButtons(r,o,!0),r.element.siblings(Te).hide())},_setPopupWidth:function(t,n){var i,r,o,a,s,l,c,d=t.element,u=d.add(d.parent(ve));u.width(this._initialWidth||""),i=t._location(n),r=e(window).width(),o=i.width,a=Math.max(i.left,0),s=n?0:w(this._overflowWrapper()[0],"scrollLeft"),(c=r-(l=T.getShadows(d)).left-l.right)+s>o+a||u.css({overflow:"hidden",width:c-a+s+"px"})},close:function(){var t=this;r(t.element[0],e(arguments[0])[0])||t._itemHasChildren(arguments[0])?Ee.fn.close.call(t,arguments[0]):t.popup.visible()&&!1===t._triggerEvent({item:t.element,type:$})&&(t.popup.close(),de.off(T.support.mousedown+V+t._marker,t._closeProxy),t.unbind(Q,t._closeTimeoutProxy))},_showHandler:function(e){var t,n=e,i=this,o=i.options;e.event&&(n=e.event,n.pageX=e.x.location,n.pageY=e.y.location),r(i.element[0],e.relatedTarget||e.target)||(i._eventOrigin=n,n.preventDefault(),n.stopImmediatePropagation(),i.element.find("."+fe).removeClass(fe),(o.filter&&T.support.matchesSelector.call(n.currentTarget,o.filter)||!o.filter)&&(o.alignToAnchor?(i.popup.options.anchor=n.currentTarget,i.open(n.currentTarget)):(i.popup.options.anchor=n.currentTarget,i._targetChild?(t=i.target.offset(),i.open(n.pageX-t.left,n.pageY-t.top)):i.open(n.pageX,n.pageY))))},_closeHandler:function(t){var n,i=this,o=e(t.relatedTarget||t.target),a=o.closest(i.target.selector)[0]==i.target[0],s=o.closest(we),l=i._itemHasChildren(s),c=i._overflowWrapper(),d=r(i.element[0],o[0])||c&&r(c[0],o[0]);i._eventOrigin=t,n=3!==t.which,i.popup.visible()&&(n&&a||!a)&&(i.options.closeOnClick&&!l&&d||!d)&&(d?(this.unbind(Q,this._closeTimeoutProxy),i.bind(Q,i._closeTimeoutProxy)):i.close())},_wire:function(){var e=this,t=e.options,n=e.target;e._showProxy=A(e._showHandler,e),e._closeProxy=A(e._closeHandler,e),e._closeTimeoutProxy=A(e.close,e),n[0]&&(T.support.mobileOS&&"contextmenu"==t.showOn?(e.userEvents=new T.UserEvents(n,{filter:t.filter,allowSelection:!1}),n.on(t.showOn+V+e._marker,!1),e.userEvents.bind("hold",e._showProxy)):t.filter?n.on(t.showOn+V+e._marker,t.filter,e._showProxy):n.on(t.showOn+V+e._marker,e._showProxy))},_triggerEvent:function(n){var i=this,r=e(i.popup.options.anchor)[0],o=i._eventOrigin;return i._eventOrigin=t,i.trigger(n.type,F({type:n.type,item:n.item||this.element[0],target:r},o?{event:o}:{}))},_popup:function(){var t=this,n=t._overflowWrapper();t._triggerProxy=A(t._triggerEvent,t),t.popup=t.element.addClass("k-context-menu").kendoPopup({anchor:t.target||"body",copyAnchorStyles:t.options.copyAnchorStyles,collision:t.options.popupCollision||"fit",animation:t.options.animation,activate:t._triggerProxy,deactivate:t._triggerProxy,appendTo:n||t.options.appendTo,close:n?function(t){e(m(t.sender.element,n)).each(function(e,t){var n=t.data(ue);n&&n.close(!0)})}:e.noop}).data(ue),t._targetChild=r(t.target[0],t.popup.element[0])}}),D.plugin(Ee),D.plugin(S)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.columnmenu.min",["kendo.popup.min","kendo.filtermenu.min","kendo.menu.min"],e)}(function(){return function(e,t){function n(t){return e.trim(t).replace(/&nbsp;/gi,"")}function i(e,t){var n,i,r,o={};for(n=0,i=e.length;n<i;n++)r=e[n],o[r[t]]=r;return o}function r(e){var t,n=[];for(t=0;t<e.length;t++)e[t].columns?n=n.concat(r(e[t].columns)):n.push(e[t]);return n}function o(e,t){return"["+s.attr(e)+"='"+(t||"").replace(/'/g,'"')+"']"}function a(e,t,n){e>0?t.insertAfter(n.children().eq(e-1)):n.prepend(t)}var s=window.kendo,l=s.ui,c=e.proxy,d=e.extend,u=e.grep,p=e.map,h=e.inArray,f="k-state-selected",g="asc",m="desc",_="change",v="init",b="open",k="select",w="kendoPopup",y="kendoMenu",x=".kendoColumnMenu",C=l.Widget,S=C.extend({init:function(t,n){var i,r=this;C.fn.init.call(r,t,n),t=r.element,n=r.options,r.owner=n.owner,r.dataSource=n.dataSource,r.field=t.attr(s.attr("field")),r.title=t.attr(s.attr("title")),(i=t.find(".k-header-column-menu"))[0]||(i=t.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#" title="'+n.messages.settings+'" aria-label="'+n.messages.settings+'"><span class="k-icon k-i-more-vertical"></span></a>').find(".k-header-column-menu")),r.link=i.attr("tabindex",-1).on("click"+x,c(r._click,r)),r.wrapper=e('<div class="k-column-menu"/>'),r._refreshHandler=c(r.refresh,r),r.dataSource.bind(_,r._refreshHandler)},_init:function(){var e=this;e.pane=e.options.pane,e.pane&&(e._isMobile=!0),e._isMobile?e._createMobileMenu():e._createMenu(),e.owner._muteAngularRebind(function(){e._angularItems("compile")}),e._sort(),e._columns(),e._filter(),e._lockColumns(),e.trigger(v,{field:e.field,container:e.wrapper})},events:[v,b,"sort","filtering"],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function(){var e=this,t=e.options;e.wrapper.html(s.template(T)({uid:s.guid(),ns:s.ns,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns})),e.popup=e.wrapper[w]({anchor:e.link,open:c(e._open,e),activate:c(e._activate,e),close:function(){e.options.closeCallback&&e.options.closeCallback(e.element)}}).data(w),e.menu=e.wrapper.children()[y]({orientation:"vertical",closeOnClick:!1}).data(y)},_createMobileMenu:function(){var e=this,t=e.options,n=s.template(D)({ns:s.ns,field:e.field,title:e.title||e.field,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns});e.view=e.pane.append(n),e.wrapper=e.view.element.find(".k-column-menu"),e.menu=new I(e.wrapper.children(),{pane:e.pane}),e.view.element.on("click",".k-done",function(t){e.close(),t.preventDefault()}),e.options.lockedColumns&&e.view.bind("show",function(){e._updateLockedColumns()})},_angularItems:function(t){var n=this;n.angular(t,function(){return{elements:n.wrapper.find(".k-columns-item input["+s.attr("field")+"]").map(function(){return e(this).closest("li")}),data:p(n._ownerColumns(),function(e){return{column:e._originalObject}})}})},destroy:function(){var e=this;e._angularItems("cleanup"),C.fn.destroy.call(e),e.filterMenu&&e.filterMenu.destroy(),e._refreshHandler&&e.dataSource.unbind(_,e._refreshHandler),e.options.columns&&e.owner&&(e._updateColumnsMenuHandler&&(e.owner.unbind("columnShow",e._updateColumnsMenuHandler),e.owner.unbind("columnHide",e._updateColumnsMenuHandler)),e._updateColumnsLockedStateHandler&&(e.owner.unbind("columnLock",e._updateColumnsLockedStateHandler),e.owner.unbind("columnUnlock",e._updateColumnsLockedStateHandler))),e.menu&&(e.menu.element.off(x),e.menu.destroy()),e.wrapper.off(x),e.popup&&e.popup.destroy(),e.view&&e.view.purge(),e.link.off(x),e.owner=null,e.wrapper=null,e.element=null},close:function(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+x))},_click:function(e){var t,n=this;e.preventDefault(),e.stopPropagation(),(t=this.options).filter&&this.element.is(!t.filter)||(this.popup||this.pane?n._reorderColumnList():this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_reorderColumnList:function(){var t,n,i=this,r=i._ownerColumns()||[],s=i._isMobile&&i.view?e(i.view.element).find(".k-columns-item").children("ul"):e(i.wrapper).find(".k-menu-group").first();for(t=0;t<r.length;t++)(n=s.find(o("field",r[t].originalField)).closest("li"))[0]&&n.index()!==t&&a(t,n,s)},_open:function(){var t=this;e(".k-column-menu").not(t.wrapper).each(function(){e(this).data(w).close()}),t.popup.element.on("keydown"+x,function(e){e.keyCode==s.keys.ESC&&t.close()}),t.options.lockedColumns&&t._updateLockedColumns()},_activate:function(){this.menu.element.focus(),this.trigger(b,{field:this.field,container:this.wrapper})},_ownerColumns:function(){var e=r(this.owner.columns),t=u(e,function(e){var t=!0,i=n(e.title||"");return!1!==e.menu&&(e.field||i.length)||(t=!1),t});return p(t,function(t){return{originalField:t.field,field:t.field||t.title,title:t.title||t.field,hidden:t.hidden,index:h(t,e),locked:!!t.locked,_originalObject:t}})},_sort:function(){var t=this;t.options.sortable&&(t.refresh(),t.menu.bind(k,function(n){var i,r=e(n.item);r.hasClass("k-sort-asc")?i=g:r.hasClass("k-sort-desc")&&(i=m),i&&(r.parent().find(".k-sort-"+(i==g?m:g)).removeClass(f),t._sortDataSource(r,i),t.close())}))},_sortDataSource:function(e,n){var i,r,o=this,a=o.options.sortable,s=null===a.compare?t:a.compare,l=o.dataSource,c=l.sort()||[],d=e.hasClass(f)&&a&&!1!==a.allowUnsort;if(n=d?t:n,!o.trigger("sort",{sort:{field:o.field,dir:n,compare:s}})){if(d?e.removeClass(f):e.addClass(f),"multiple"===a.mode){for(i=0,r=c.length;i<r;i++)if(c[i].field===o.field){c.splice(i,1);break}c.push({field:o.field,dir:n,compare:s})}else c=[{field:o.field,dir:n,compare:s}];l.sort(c)}},_columns:function(){var t=this;t.options.columns&&(t._updateColumnsMenu(),t._updateColumnsMenuHandler=c(t._updateColumnsMenu,t),t.owner.bind(["columnHide","columnShow"],t._updateColumnsMenuHandler),t._updateColumnsLockedStateHandler=c(t._updateColumnsLockedState,t),t.owner.bind(["columnUnlock","columnLock"],t._updateColumnsLockedStateHandler),t.menu.bind(k,function(n){var i,o,a,l=e(n.item),c=r(t.owner.columns);t._isMobile&&n.preventDefault(),l.parent().closest("li.k-columns-item")[0]&&((i=l.find(":checkbox")).attr("disabled")||(a=i.attr(s.attr("field")),o=u(c,function(e){return e.field==a||!e.field&&e.title==a})[0],!0===o.hidden?t.owner.showColumn(o):t.owner.hideColumn(o)))}))},_updateColumnsMenu:function(){var e,t,n,i,r,o,a=s.attr("field"),l=s.attr("locked"),c=u(this._ownerColumns(),function(e){return!e.hidden}),d=u(c,function(e){return e.originalField}),f=u(d,function(e){return!0===e.locked}).length,g=u(d,function(e){return!0!==e.locked}).length,m=u(this.owner.columns,function(e){return!1===e.menu}).length;for(c=p(c,function(e){return e.field}),this.wrapper.find("[role='menuitemcheckbox']").attr("aria-checked",!1),e=0,t=(o=this.wrapper.find(".k-columns-item input["+a+"]").prop("disabled",!1).prop("checked",!1)).length;e<t;e++)n=o.eq(e),r="true"===n.attr(l),i=!1,h(n.attr(a),c)>-1&&(i=!0,n.prop("checked",i)),n.closest("[role='menuitemcheckbox']").attr("aria-checked",i),i&&(1==f&&r&&n.prop("disabled",!0),0!==m||1!=g||r||n.prop("disabled",!0))},_updateColumnsLockedState:function(){var e,t,n,r,o=s.attr("field"),a=s.attr("locked"),l=i(this._ownerColumns(),"field"),c=this.wrapper.find(".k-columns-item input[type=checkbox]");for(e=0,t=c.length;e<t;e++)n=c.eq(e),(r=l[n.attr(o)])&&n.attr(a,r.locked);this._updateColumnsMenu()},_filter:function(){var t=this,n="kendoFilterMenu",i=t.options;!1!==i.filterable&&(i.filterable.multi&&(n="kendoFilterMultiCheck",i.filterable.dataSource&&(i.filterable.checkSource=i.filterable.dataSource,delete i.filterable.dataSource)),t.filterMenu=t.wrapper.find(".k-filterable")[n](d(!0,{},{appendToElement:!0,dataSource:i.dataSource,values:i.values,field:t.field,title:t.title,change:function(e){t.trigger("filtering",{filter:e.filter,field:e.field})&&e.preventDefault()}},i.filterable)).data(n),t._isMobile&&t.menu.bind(k,function(n){e(n.item).hasClass("k-filter-item")&&t.pane.navigate(t.filterMenu.view,t.options.animations.left)}))},_lockColumns:function(){var t=this;t.menu.bind(k,function(n){var i=e(n.item);i.hasClass("k-lock")?(t.owner.lockColumn(t.field),t.close()):i.hasClass("k-unlock")&&(t.owner.unlockColumn(t.field),t.close())})},_updateLockedColumns:function(){var e,t,n,i,r=this.field,o=this.owner.columns,a=u(o,function(e){return e.field==r||e.title==r})[0];a&&(e=!0===a.locked,t=u(o,function(t){return!t.hidden&&(t.locked&&e||!t.locked&&!e)}).length,n=this.wrapper.find(".k-lock").removeClass("k-state-disabled"),i=this.wrapper.find(".k-unlock").removeClass("k-state-disabled"),(e||1==t)&&n.addClass("k-state-disabled"),e&&1!=t||i.addClass("k-state-disabled"),this._updateColumnsLockedState())},refresh:function(){var e,t,n,i=this,r=i.options.dataSource.sort()||[],o=i.field;for(i.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(f),t=0,n=r.length;t<n;t++)e=r[t],o==e.field&&i.wrapper.find(".k-sort-"+e.dir).addClass(f);i.link[i._filterExist(i.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(e){var t,n,i,r=!1;if(e){for(n=0,i=(e=e.filters).length;n<i;n++)t=e[n],t.field==this.field?r=!0:t.filters&&(r=r||this._filterExist(t));return r}}}),T='<ul id="#=uid#">#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator" role="presentation"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li role="menuitemcheckbox" aria-checked="false"><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator" role="presentation"></li>#}##}##if(filterable){#<li class="k-item k-filter-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator" role="presentation"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>',D='<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-icon k-i-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>',I=C.extend({init:function(e,t){C.fn.init.call(this,e,t),this.element.on("click"+x,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:[k],_click:function(t){e(t.target).is("[type=checkbox]")||t.preventDefault(),this.trigger(k,{item:t.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){C.fn.destroy.call(this),this.element.off(x)}});l.plugin(S)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.groupable.min",["kendo.core.min","kendo.draganddrop.min"],e)}(function(){return function(e,t){function n(e){return e.position().top+3}var i=window.kendo,r=i.ui.Widget,o=i._outerWidth,a=e.proxy,s=!1,l=".kendoGroupable",c=i.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-i-sort-${(data.dir || "asc") == "asc" ? "asc-sm" : "desc-sm"}" title="(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})"></span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-bare"><span class="k-icon k-i-close"></span></a></div>',{useWithBlock:!1}),d=function(t){var n=t.attr(i.attr("title"));return n&&(n=i.htmlEncode(n)),e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(n||t.attr(i.attr("field"))).prepend('<span class="k-icon k-drag-status k-i-cancel" />')},u=e('<div class="k-grouping-dropclue"/>'),p=r.extend({init:function(c,p){var h,f,g=this,m=i.guid(),_=a(g._intializePositions,g),v=g._dropCuePositions=[];r.fn.init.call(g,c,p),s=i.support.isRtl(c),f=s?"right":"left",g.draggable=h=g.options.draggable||new i.ui.Draggable(g.element,{filter:g.options.draggableElements,hint:d,group:m}),g.groupContainer=e(g.options.groupContainer,g.element).kendoDropTarget({group:h.options.group,dragenter:function(e){g._canDrag(e.draggable.currentTarget)&&(e.draggable.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus"),u.css("top",n(g.groupContainer)).css(f,0).appendTo(g.groupContainer))},dragleave:function(e){e.draggable.hint.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel"),u.remove()},drop:function(t){var n,r=t.draggable.currentTarget,o=r.attr(i.attr("field")),a=r.attr(i.attr("title")),l=g.indicator(o),c=g._dropCuePositions,d=c[c.length-1];(r.hasClass("k-group-indicator")||g._canDrag(r))&&(d?(n=g._dropCuePosition(i.getOffset(u).left+parseInt(d.element.css("marginLeft"),10)*(s?-1:1)+parseInt(d.element.css("marginRight"),10)))&&g._canDrop(e(l),n.element,n.left)&&(n.before?n.element.before(l||g.buildIndicator(o,a)):n.element.after(l||g.buildIndicator(o,a)),g._change()):(g.groupContainer.append(g.buildIndicator(o,a)),g._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:d,group:h.options.group,dragcancel:a(g._dragCancel,g),dragstart:function(e){var t=e.currentTarget,i=parseInt(t.css("marginLeft"),10),r=t.position(),a=s?r.left-i:r.left+o(t);_(),u.css({top:n(g.groupContainer),left:a}).appendTo(g.groupContainer),this.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")},dragend:function(){g._dragEnd(this)},drag:a(g._drag,g)}).on("click"+l,".k-button",function(t){t.preventDefault(),g._removeIndicator(e(this).parent())}).on("click"+l,".k-link",function(t){var n=e(this).parent(),r=g.buildIndicator(n.attr(i.attr("field")),n.attr(i.attr("title")),"asc"==n.attr(i.attr("dir"))?"desc":"asc");n.before(r).remove(),g._change(),t.preventDefault()}),h.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){g._dragEnd(this)},dragcancel:a(g._dragCancel,g),dragstart:function(e){var n,i;return g.options.allowDrag||g._canDrag(e.currentTarget)?(_(),v.length?(n=v[v.length-1].element,i=parseInt(n.css("marginRight"),10),n.position().left+o(n)+i):0,t):(e.preventDefault(),t)},drag:a(g._drag,g)}),g.dataSource=g.options.dataSource,g.dataSource&&g._refreshHandler?g.dataSource.unbind("change",g._refreshHandler):g._refreshHandler=a(g.refresh,g),g.dataSource&&(g.dataSource.bind("change",g._refreshHandler),g.refresh())},refresh:function(){var t=this,n=t.dataSource;t.groupContainer&&t.groupContainer.empty().append(e.map(n.group()||[],function(n){var r=n.field,o=i.attr("field"),a=t.element.find(t.options.filter).filter(function(){return e(this).attr(o)===r});return t.buildIndicator(n.field,a.attr(i.attr("title")),n.dir)}).join("")),t._invalidateGroupContainer()},destroy:function(){var e=this;r.fn.destroy.call(e),e.groupContainer.off(l),e.groupContainer.data("kendoDropTarget")&&e.groupContainer.data("kendoDropTarget").destroy(),e.groupContainer.data("kendoDraggable")&&e.groupContainer.data("kendoDraggable").destroy(),e.options.draggable||e.draggable.destroy(),e.dataSource&&e._refreshHandler&&(e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=null),e.groupContainer=e.element=e.draggable=null},events:["change"],options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(t){var n=e(".k-group-indicator",this.groupContainer);return e.grep(n,function(n){return e(n).attr(i.attr("field"))===t})[0]},buildIndicator:function(e,t,n){return c({field:e.replace(/"/g,"'"),dir:n,title:t,ns:i.ns})},descriptors:function(){var t,n,r,o,a,s=this,l=e(".k-group-indicator",s.groupContainer);return t=s.element.find(s.options.filter).map(function(){var t=e(this),r=t.attr(i.attr("aggregates")),s=t.attr(i.attr("field"));if(r&&""!==r)for(n=r.split(","),r=[],o=0,a=n.length;o<a;o++)r.push({field:s,aggregate:n[o]});return r}).toArray(),e.map(l,function(n){return n=e(n),r=n.attr(i.attr("field")),{field:r,dir:n.attr(i.attr("dir")),aggregates:t||[]}})},_removeIndicator:function(e){var t=this;e.remove(),t._invalidateGroupContainer(),t._change()},_change:function(){var e,n=this;if(n.dataSource){if(e=n.descriptors(),n.trigger("change",{groups:e}))return n.refresh(),t;n.dataSource.group(e)}},_dropCuePosition:function(t){var n,i,r,a,l,c=this._dropCuePositions;if(u.is(":visible")&&0!==c.length)return t=Math.ceil(t),n=c[c.length-1],i=n.left,r=n.right,a=parseInt(n.element.css("marginLeft"),10),l=parseInt(n.element.css("marginRight"),10),t>=r&&!s||t<i&&s?t={left:n.element.position().left+(s?-a:o(n.element)+l),element:n.element,before:!1}:(t=e.grep(c,function(e){return e.left<=t&&t<=e.right||s&&t>e.right})[0])&&(t={left:s?t.element.position().left+o(t.element)+l:t.element.position().left-a,element:t.element,before:!0}),t},_drag:function(e){var t=this._dropCuePosition(e.x.location);t&&u.css({left:t.left,right:"auto"})},_canDrag:function(e){var t=e.attr(i.attr("field"));return"false"!=e.attr(i.attr("groupable"))&&t&&(e.hasClass("k-group-indicator")||!this.indicator(t))},_canDrop:function(e,t,n){var i=e.next();return e[0]!==t[0]&&(!i[0]||t[0]!==i[0]||!s&&n>i.position().left||s&&n<i.position().left)},_dragEnd:function(t){var n=this,r=t.currentTarget.attr(i.attr("field")),o=n.indicator(r);t!==n.options.draggable&&!t.dropped&&o&&n._removeIndicator(e(o)),n._dragCancel()},_dragCancel:function(){u.remove(),this._dropCuePositions=[]},_intializePositions:function(){var t,n=this,r=e(".k-group-indicator",n.groupContainer);n._dropCuePositions=e.map(r,function(n){return n=e(n),t=i.getOffset(n).left,{left:parseInt(t,10),right:parseInt(t+o(n),10),element:n}})},_invalidateGroupContainer:function(){var e=this.groupContainer;e&&e.is(":empty")&&e.html(this.options.messages.empty)}});i.ui.plugin(p)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.autocomplete.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min"],e)}(function(){return function(e,t){function n(e,t,n){return n?t.substring(0,e).split(n).length-1:0}function i(e,t,i){return t.split(i)[n(e,t,i)]}function r(e,t,i,r,o){var a=t.split(r);return a.splice(n(e,t,r),1,i),r&&""!==a[a.length-1]&&a.push(""),a.join(o)}var o=window.kendo,a=o.support,s=o.caret,l=o._activeElement,c=a.placeholder,d=o.ui,u=d.List,p=o.keys,h=o.data.DataSource,f="aria-disabled",g="aria-readonly",m="change",_="k-state-default",v="disabled",b="readonly",k="k-state-focused",w="k-state-disabled",y=".kendoAutoComplete",x=e.proxy,C=u.extend({init:function(t,n){var i,r=this;r.ns=y,n=e.isArray(n)?{dataSource:n}:n,u.fn.init.call(r,t,n),t=r.element,(n=r.options).placeholder=n.placeholder||t.attr("placeholder"),c&&t.attr("placeholder",n.placeholder),r._wrapper(),r._loader(),r._clearButton(),r._dataSource(),r._ignoreCase(),t[0].type="text",i=r.wrapper,r._popup(),t.addClass("k-input").on("keydown"+y,x(r._keydown,r)).on("keypress"+y,x(r._keypress,r)).on("input"+y,x(r._search,r)).on("paste"+y,x(r._search,r)).on("focus"+y,function(){r._prev=r._accessor(),r._oldText=r._prev,r._placeholder(!1),i.addClass(k)}).on("focusout"+y,function(){r._change(),r._placeholder(),r.close(),i.removeClass(k)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),r._clear.on("click"+y,x(r._clearValue,r)),r._enable(),r._old=r._accessor(),t[0].id&&t.attr("aria-owns",r.ul[0].id),r._aria(),r._placeholder(),r._initList(),e(r.element).parents("fieldset").is(":disabled")&&r.enable(!1),r.listView.bind("click",function(e){e.preventDefault()}),r._resetFocusItemHandler=e.proxy(r._resetFocusItem,r),o.notify(r),r._toggleCloseVisibility()},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:!1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null,clearButton:!0,autoWidth:!1},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=x(e._showBusy,e),e._errorHandler=x(e._hideBusy,e)),e.dataSource=h.create(e.options.dataSource).bind("progress",e._progressHandler).bind("error",e._errorHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close",m,"select","filtering","dataBinding","dataBound"],setOptions:function(e){var t=this._listOptions(e);u.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},_listOptions:function(t){var n=u.fn._listOptions.call(this,e.extend(t,{skipUpdateOnBind:!0}));return n.dataValueField=n.dataTextField,n.selectedItemChange=null,n},_editable:function(e){var t=this,n=t.element,i=t.wrapper.off(y),r=e.readonly,o=e.disable;r||o?(i.addClass(o?w:_).removeClass(o?_:w),n.attr(v,o).attr(b,r).attr(f,o).attr(g,r)):(i.addClass(_).removeClass(w).on("mouseenter.kendoAutoComplete mouseleave.kendoAutoComplete",t._toggleHover),n.removeAttr(v).removeAttr(b).attr(f,!1).attr(g,!1))},close:function(){var e=this,t=e.listView.focus();t&&t.removeClass("k-state-selected"),e.popup.close()},destroy:function(){var e=this;e.element.off(y),e._clear.off(y),e.wrapper.off(y),u.fn.destroy.call(e)},refresh:function(){this.listView.refresh()},select:function(e){this._select(e)},search:function(t){var n,r=this,o=r.options,a=o.ignoreCase,l=r._separator();t=t||r._accessor(),clearTimeout(r._typingTimeout),l&&(t=i(s(r.element)[0],t,l)),n=t.length,(!o.enforceMinLength&&!n||n>=o.minLength)&&(r._open=!0,r._mute(function(){this.listView.value([])}),r._filterSource({value:a?t.toLowerCase():t,operator:o.filter,field:o.dataTextField,ignoreCase:a}),r.one("close",e.proxy(r._unifySeparators,r))),r._toggleCloseVisibility()},suggest:function(e){var i,r=this,o=r._last,a=r._accessor(),c=r.element[0],d=s(c)[0],h=r._separator(),f=a.split(h),g=n(d,a,h),m=d;return o==p.BACKSPACE||o==p.DELETE?(r._last=t,t):("string"!=typeof(e=e||"")&&(e[0]&&(e=r.dataSource.view()[u.inArray(e[0],r.ul[0])]),e=e?r._text(e):""),d<=0&&(d=a.toLowerCase().indexOf(e.toLowerCase())+1),i=a.substring(0,d).lastIndexOf(h),i=i>-1?d-(i+h.length):d,a=f[g].substring(0,i),e&&(e=""+e,(i=e.toLowerCase().indexOf(a.toLowerCase()))>-1&&(e=e.substring(i+a.length),m=d+e.length,a+=e),h&&""!==f[f.length-1]&&f.push("")),f[g]=a,r._accessor(f.join(h||"")),c===l()&&s(c,d,m),t)},value:function(e){return e===t?this._accessor():(this.listView.value(e),this._accessor(e),this._old=this._accessor(),this._oldText=this._accessor(),this._toggleCloseVisibility(),t)},_click:function(e){var n=e.item,i=this,r=i.element,o=i.listView.dataItemByIndex(i.listView.getElementIndex(n));return e.preventDefault(),i._active=!0,i.trigger("select",{dataItem:o,item:n})?(i.close(),t):(i._oldText=r.val(),i._select(n).done(function(){i._blur(),s(r,r.val().length)}),t)},_clearText:e.noop,_resetFocusItem:function(){var e=this.options.highlightFirst?0:-1;this.options.virtual&&this.listView.scrollTo(0),this.listView.focus(e)},_listBound:function(){var e,n=this,i=n.popup,r=n.options,o=n.dataSource.flatView(),a=o.length,s=n.dataSource._group.length,c=n.element[0]===l();n._renderFooter(),n._renderNoData(),n._toggleNoData(!a),n._toggleHeader(!!s&&!!a),n._resizePopup(),i.position(),a&&r.suggest&&c&&n.suggest(o[0]),n._open&&(n._open=!1,e=n._allowOpening()?"open":"close",n._typingTimeout&&!c&&(e="close"),a&&(n._resetFocusItem(),r.virtual&&n.popup.unbind("activate",n._resetFocusItemHandler).one("activate",n._resetFocusItemHandler)),i[e](),n._typingTimeout=t),n._touchScroller&&n._touchScroller.reset(),n._hideBusy(),n._makeUnselectable(),n.trigger("dataBound")},_mute:function(e){this._muted=!0,e.call(this),this._muted=!1},_listChange:function(){(this._active||this.element[0]===l())&&!this._muted&&this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(e){var t=this._separator(),n="";e&&(n=this._text(e)),null===n&&(n=""),t&&(n=r(s(this.element)[0],this._accessor(),n,t,this._defaultSeparator())),this._prev=n,this._accessor(n),this._placeholder()},_unifySeparators:function(){return this._accessor(this.value().split(this._separator()).join(this._defaultSeparator())),this},_preselect:function(e,t){this._inputValue(t),this._accessor(e),this._old=this.oldText=this._accessor(),this.listView.setValue(e),this._placeholder()},_change:function(){var e=this,t=e._unifySeparators().value(),n=t!==u.unifyType(e._old,typeof t),i=n&&!e._typing,r=e._oldText!==t;e._old=t,e._oldText=t,(i||r)&&e.element.trigger(m),n&&e.trigger(m),e.typing=!1,e._toggleCloseVisibility()},_accessor:function(e){var n=this,i=n.element[0];return e===t?(e=i.value,i.className.indexOf("k-readonly")>-1&&e===n.options.placeholder?"":e):(i.value=null===e?"":e,n._placeholder(),t)},_keydown:function(e){var t,n,i=this,r=e.keyCode,o=i.listView,a=i.popup.visible(),s=o.focus();if(i._last=r,r===p.DOWN)a?this._move(s?"focusNext":"focusFirst"):i.value()&&i._filterSource({value:i.ignoreCase?i.value().toLowerCase():i.value(),operator:i.options.filter,field:i.options.dataTextField,ignoreCase:i.ignoreCase}).done(function(){i._resetFocusItem(),i.popup.open()}),e.preventDefault();else if(r===p.UP)a&&this._move(s?"focusPrev":"focusLast"),e.preventDefault();else if(r===p.HOME)this._move("focusFirst");else if(r===p.END)this._move("focusLast");else if(r===p.ENTER||r===p.TAB){if(r===p.ENTER&&a&&e.preventDefault(),a&&s){if(t=o.dataItemByIndex(o.getElementIndex(s)),i.trigger("select",{dataItem:t,item:s}))return;this._select(s)}this._blur()}else r===p.ESC?(a?e.preventDefault():i._clearValue(),i.close()):!i.popup.visible()||r!==p.PAGEDOWN&&r!==p.PAGEUP?(i.popup._hovered=!0,i._search()):(e.preventDefault(),n=r===p.PAGEDOWN?1:-1,o.scrollWith(n*o.screenHeight()))},_keypress:function(){this._oldText=this.element.val(),this._typing=!0},_move:function(e){this.listView[e](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._loading.hide(),e.element.attr("aria-busy",!1),e._busy=null,e._showClear()},_showBusy:function(){var e=this;e._busy||(e._busy=setTimeout(function(){e.element.attr("aria-busy",!0),e._loading.show(),e._hideClear()},100))},_placeholder:function(e){if(!c){var n,i=this,r=i.element,o=i.options.placeholder;if(o){if(n=r.val(),e===t&&(e=!n),e||(o=n!==o?n:""),n===i._old&&!e)return;r.toggleClass("k-readonly",e).val(o),o||r[0]!==document.activeElement||s(r[0],0,0)}}},_separator:function(){var e=this.options.separator;return e instanceof Array?RegExp(e.join("|"),"gi"):e},_defaultSeparator:function(){var e=this.options.separator;return e instanceof Array?e[0]:e},_inputValue:function(){return this.element.val()},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())},e.options.delay)},_select:function(e){var t=this;return t._active=!0,t.listView.select(e).done(function(){t._active=!1})},_loader:function(){this._loading=e('<span class="k-icon k-i-loading" style="display:none"></span>').insertAfter(this.element)},_clearButton:function(){u.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.element),this.wrapper.addClass("k-autocomplete-clearable"))},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_toggleCloseVisibility:function(){this.value()?this._showClear():this._hideClear()},_wrapper:function(){var e,t=this,n=t.element,i=n[0];(e=n.parent()).is("span.k-widget")||(e=n.wrap("<span />").parent()),e.attr("tabindex",-1),e.attr("role","presentation"),e[0].style.cssText=i.style.cssText,n.css({width:"",height:i.style.height}),t._focused=t.element,t.wrapper=e.addClass("k-widget k-autocomplete k-header").addClass(i.className)}});d.plugin(C)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.filtercell.min",["kendo.autocomplete.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.combobox.min","kendo.dropdownlist.min"],e)}(function(){return function(e,t){function n(t){var n="string"==typeof t?t:t.operator;return e.inArray(n,_)>-1}function i(t,n){var r,o,a=[];if(e.isPlainObject(t))if(t.hasOwnProperty("filters"))a=t.filters;else if(t.field==n)return t;for(e.isArray(t)&&(a=t),r=0;r<a.length;r++)if(o=i(a[r],n))return o}function r(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return r(e,n),e.filters?e.filters.length:e.field!=n}))}function o(e,t){var n=a.getter(t,!0);return function(t){for(var i,r,o=e(t),a=[],s=0,l={};s<o.length;)i=o[s++],r=n(i),l.hasOwnProperty(r)||(a.push(i),l[r]=!0);return a}}var a=window.kendo,s=a.ui,l=a.data.DataSource,c=s.Widget,d="change",u="boolean",p="enums",h="string",f="Is equal to",g="Is not equal to",m=e.proxy,_=["isnull","isnotnull","isempty","isnotempty","isnullorempty","isnotnullorempty"],v=c.extend({init:function(i,r){var o,s,l,f,g,_,v,b,k,w,y,x,C;if(i=e(i).addClass("k-filtercell"),o=this.wrapper=e("<span/>").appendTo(i),s=this,g=r,b=s.operators=r.operators||{},k=s.input=e("<input/>").attr(a.attr("bind"),"value: value").appendTo(o),(w=r?r.suggestDataSource:null)&&(r=e.extend({},r,{suggestDataSource:{}})),c.fn.init.call(s,i[0],r),w&&(s.options.suggestDataSource=w),r=s.options,l=s.dataSource=r.dataSource,s.model=l.reader.model,v=r.type=h,y=a.getter("reader.model.fields",!0)(l)||{},(x=y[r.field])&&x.type&&(v=r.type=x.type),r.values&&(r.type=v=p),b=b[v]||r.operators[v],!g.operator)for(_ in b){r.operator=_;break}s._parse=function(e){return null!=e?e+"":e},s.model&&s.model.fields&&(C=s.model.fields[r.field])&&C.parse&&(s._parse=m(C.parse,C)),s.defaultOperator=r.operator,s.viewModel=f=a.observable({operator:r.operator,value:null,operatorVisible:function(){var e=this.get("value");return null!==e&&e!==t&&"undefined"!=e||n(this.get("operator"))&&!s._clearInProgress}}),f.bind(d,m(s.updateDsFilter,s)),v==h&&s.initSuggestDataSource(r),null!==r.inputWidth&&(k.addClass("k-sized-input"),k.width(r.inputWidth)),k.attr("aria-label",s._getColumnTitle()),s._setInputType(r,v),v!=u&&!1!==r.showOperators?s._createOperatorDropDown(b):(e('<div unselectable="on" />').css("display","none").text("eq").appendTo(o),o.addClass("k-operator-hidden")),s._createClearIcon(),a.bind(this.wrapper,f),v==h&&(r.template||s.setAutoCompleteSource()),v==p&&s.setComboBoxSource(s.options.values),s._refreshUI(),s._refreshHandler=m(s._refreshUI,s),s.dataSource.bind(d,s._refreshHandler)},_setInputType:function(t,n){var i,r,o,s,l,c=this,d=c.input;"function"==typeof t.template?(t.template.call(c.viewModel,{element:c.input,dataSource:c.suggestDataSource}),c._angularItems("compile")):n==h?d.attr(a.attr("role"),"autocomplete").attr(a.attr("text-field"),t.dataTextField||t.field).attr(a.attr("filter"),t.suggestionOperator).attr(a.attr("delay"),t.delay).attr(a.attr("min-length"),t.minLength).attr(a.attr("value-primitive"),!0):"date"==n?d.attr(a.attr("role"),"datepicker"):n==u?(d.remove(),i=e("<input type='radio'/>"),r=c.wrapper,o=a.guid(),s=e("<label/>").text(t.messages.isTrue).append(i),i.attr(a.attr("bind"),"checked:value").attr("name",o).val("true"),l=s.clone().text(t.messages.isFalse),i.clone().val("false").appendTo(l),r.append([s,l])):"number"==n?d.attr(a.attr("role"),"numerictextbox").attr("title",c._getColumnTitle()):n==p&&d.attr(a.attr("role"),"combobox").attr(a.attr("text-field"),"text").attr(a.attr("suggest"),!0).attr(a.attr("filter"),"contains").attr(a.attr("value-field"),"value").attr(a.attr("value-primitive"),!0)},_getColumnTitle:function(){var e=this.options.column;return e?e.title||e.field:""},_createOperatorDropDown:function(t){var n,i,r=[],o=this.viewModel;for(n in t)r.push({text:t[n],value:n});i=e('<input class="k-dropdown-operator" '+a.attr("bind")+'="value: operator"/>').appendTo(this.wrapper),this.operatorDropDown=i.kendoDropDownList({dataSource:r,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:!0}).data("kendoDropDownList"),o.bind("change",function(){var e=t[o.operator];i.attr("aria-label",e)}),this.operatorDropDown.wrapper.find(".k-i-arrow-60-down").removeClass("k-i-arrow-60-down").addClass("k-i-filter")},initSuggestDataSource:function(e){var n=e.suggestDataSource;n instanceof l||(!e.customDataSource&&n&&(n.group=t),n=this.suggestDataSource=l.create(n)),e.customDataSource||(n._pageSize=t,n.reader.data=o(n.reader.data,this.options.field)),this.suggestDataSource=n},setAutoCompleteSource:function(){var e=this.input.data("kendoAutoComplete");e&&e.setDataSource(this.suggestDataSource)},setComboBoxSource:function(e){var t=l.create({data:e}),n=this.input.data("kendoComboBox");n&&n.setDataSource(t)},_refreshUI:function(){var t=this,n=i(t.dataSource.filter(),this.options.field)||{},r=t.viewModel;t.manuallyUpdatingVM=!0,n=e.extend(!0,{},n),t.options.type==u&&r.value!==n.value&&t.wrapper.find(":radio").prop("checked",!1),n.operator&&r.set("operator",n.operator),r.set("value",n.value),t.manuallyUpdatingVM=!1},updateDsFilter:function(i){var r,o,a,s,l=this,c=l.viewModel;l.manuallyUpdatingVM||"operator"==i.field&&c.value===t&&!n(c)||"operator"==i.field&&l._clearInProgress||(r=e.extend({},l.viewModel.toJSON(),{field:l.options.field}),o={logic:"and",filters:[]},a=!1,(r.value!==t&&null!==r.value||n(r)&&!this._clearInProgress)&&(o.filters.push(r),a=l.trigger(d,{filter:o,field:l.options.field})),(l._clearInProgress||null===r.value)&&(a=l.trigger(d,{filter:null,field:l.options.field})),a||(s=l._merge(o),l.dataSource.filter(s.filters.length?s:{})))},_merge:function(t){var i,o,a,s=this,l=t.logic||"and",c=t.filters,d=s.dataSource.filter()||{filters:[],logic:"and"};for(r(d,s.options.field),o=0,a=c.length;o<a;o++)i=c[o],i.value=s._parse(i.value);return(c=e.grep(c,function(e){return""!==e.value&&null!==e.value||n(e)})).length&&(d.filters.length?(t.filters=c,"and"!==d.logic&&(d.filters=[{logic:d.logic,filters:d.filters}],d.logic="and"),d.filters.push(c.length>1?t:c[0])):(d.filters=c,d.logic=l)),d},_createClearIcon:function(){var t=this;e("<button type='button' class='k-button k-button-icon' title = "+t.options.messages.clear+"/>").attr("aria-label",t.options.messages.clear).attr(a.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-filter-clear'/>").click(m(t.clearFilter,t)).appendTo(t.wrapper)},clearFilter:function(){this._clearInProgress=!0,n(this.viewModel.operator)&&this.viewModel.set("operator",this.defaultOperator),this.viewModel.set("value",null),this._clearInProgress=!1},_angularItems:function(e){var t=this.wrapper.closest("th").get(),n=this.options.column;this.angular(e,function(){return{elements:t,data:[{column:n}]}})},destroy:function(){var e=this;e.filterModel=null,e.operatorDropDown=null,e._angularItems("cleanup"),e._refreshHandler&&(e.dataSource.bind(d,e._refreshHandler),e._refreshHandler=null),a.unbind(e.element),c.fn.destroy.call(e),a.destroy(e.element)},events:[d],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:t,customDataSource:!1,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:!0,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:f,neq:g,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:f,neq:g,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:f,neq:g,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:f,neq:g,isnull:"Is null",isnotnull:"Is not null"}}}});s.plugin(v)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.pager.min",["kendo.data.min"],e)}(function(){return function(e,t){function n(e,t,n,i,r){return e({idx:t,text:n,ns:c.ns,numeric:i,title:r||""})}function i(e,t,n){return y({className:e.substring(1),text:t,wrapClassName:n||""})}function r(e,t,n,i){e.find(t).parent().attr(c.attr("page"),n).attr("tabindex",-1).toggleClass("k-state-disabled",i)}function o(e,t){r(e,h,1,t<=1)}function a(e,t){r(e,g,Math.max(1,t-1),t<=1)}function s(e,t,n){r(e,m,Math.min(n,t+1),t>=n)}function l(e,t,n){r(e,f,n,t>=n)}var c=window.kendo,d=c.ui,u=d.Widget,p=e.proxy,h=".k-i-arrow-end-left",f=".k-i-arrow-end-right",g=".k-i-arrow-60-left",m=".k-i-arrow-60-right",_="change",v=".kendoPager",b="click",k=e(document.documentElement),w=Number.MAX_VALUE,y=c.template('<a href="\\#" aria-label="#=text#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>'),x=u.extend({init:function(t,n){var r,d,k,w,y=this;u.fn.init.call(y,t,n),n=y.options,y.dataSource=c.data.DataSource.create(n.dataSource),y.linkTemplate=c.template(y.options.linkTemplate),y.selectTemplate=c.template(y.options.selectTemplate),y.currentPageTemplate=c.template(y.options.currentPageTemplate),r=y.page(),d=y.totalPages(),y._refreshHandler=p(y.refresh,y),y.dataSource.bind(_,y._refreshHandler),y.downEvent=c.applyEventMap("down",c.guid()),n.previousNext&&(y.element.find(h).length||(y.element.append(i(h,n.messages.first,"k-pager-first")),o(y.element,r)),y.element.find(g).length||(y.element.append(i(g,n.messages.previous)),a(y.element,r))),n.numeric&&(y.list=y.element.find(".k-pager-numbers"),y.list.length||(y.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(y.element))),n.input&&(y.element.find(".k-pager-input").length||y.element.append('<span class="k-pager-input k-label">'+n.messages.page+'<input class="k-textbox">'+c.format(n.messages.of,d)+"</span>"),y.element.on("keydown"+v,".k-pager-input input",p(y._keydown,y))),n.previousNext&&(y.element.find(m).length||(y.element.append(i(m,n.messages.next)),s(y.element,r,d)),y.element.find(f).length||(y.element.append(i(f,n.messages.last,"k-pager-last")),l(y.element,r,d))),n.pageSizes&&(y.element.find(".k-pager-sizes").length||(k=n.pageSizes.length?n.pageSizes:["all",5,10,20],w=e.map(k,function(e){return e.toLowerCase&&"all"===e.toLowerCase()?"<option value='all'>"+n.messages.allPages+"</option>":"<option>"+e+"</option>"}),e('<span class="k-pager-sizes k-label"><select/>'+n.messages.itemsPerPage+"</span>").appendTo(y.element).find("select").html(w.join("")).end().appendTo(y.element)),y.element.find(".k-pager-sizes select").val(y.pageSize()),c.ui.DropDownList&&y.element.find(".k-pager-sizes select").show().kendoDropDownList(),y.element.on(_+v,".k-pager-sizes select",p(y._change,y))),n.refresh&&(y.element.find(".k-pager-refresh").length||y.element.append('<a href="#" class="k-pager-refresh k-link" title="'+n.messages.refresh+'" aria-label="'+n.messages.refresh+'"><span class="k-icon k-i-reload"></span></a>'),y.element.on(b+v,".k-pager-refresh",p(y._refreshClick,y))),n.info&&(y.element.find(".k-pager-info").length||y.element.append('<span class="k-pager-info k-label" />')),y.element.on(b+v,"a",p(y._click,y)).addClass("k-pager-wrap k-widget k-floatwrap"),y.element.on(b+v,".k-current-page",p(y._toggleActive,y)),n.autoBind&&y.refresh(),c.notify(y)},destroy:function(){var e=this;u.fn.destroy.call(e),e.element.off(v),e.dataSource.unbind(_,e._refreshHandler),e._refreshHandler=null,c.destroy(e.element),e.element=e.list=null},events:[_],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(e){var t=this;t.dataSource.unbind(_,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(_,t._refreshHandler),t.options.autoBind&&e.fetch()},refresh:function(t){var i,r,d,u,p,h,f=this,g=1,m=f.page(),_="",v=f.options,b=f.pageSize(),y=f.dataSource.total(),x=f.totalPages(),C=f.linkTemplate,S=v.buttonCount;if(k.unbind(f.downEvent,e.proxy(f._hideList,f)),!t||"itemchange"!=t.action){if(v.numeric){for(m>S&&(d=m%S,g=0===d?m-S+1:m-d+1),r=Math.min(g+S-1,x),g>1&&(_+=n(C,g-1,"...",!1,v.messages.morePages)),i=g;i<=r;i++)_+=n(i==m?f.selectTemplate:C,i,i,!0);r<x&&(_+=n(C,i,"...",!1,v.messages.morePages)),""===_&&(_=f.selectTemplate({text:0})),_=this.currentPageTemplate({text:m})+_,f.list.removeClass("k-state-expanded").html(_)}v.info&&(_=y>0?c.format(v.messages.display,f.dataSource.options.endless?1:Math.min((m-1)*b+1,y),Math.min(m*b,y),y):v.messages.empty,f.element.find(".k-pager-info").html(_)),v.input&&f.element.find(".k-pager-input").html(f.options.messages.page+'<input class="k-textbox" aria-label="'+m+'">'+c.format(v.messages.of,x)).find("input").val(m).attr("disabled",y<1).toggleClass("k-state-disabled",y<1),v.previousNext&&(o(f.element,m),a(f.element,m),s(f.element,m,x),l(f.element,m,x)),v.pageSizes&&(u=f.element.find(".k-pager-sizes option[value='all']").length>0,p=u&&(b===this.dataSource.total()||b==w),h=b,p&&(b="all",h=v.messages.allPages),f.element.find(".k-pager-sizes select").val(b).attr("aria-label",b).filter("["+c.attr("role")+"=dropdownlist]").kendoDropDownList("value",b).kendoDropDownList("text",h))}},_keydown:function(e){if(e.keyCode===c.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),n=parseInt(t.val(),10);(isNaN(n)||n<1||n>this.totalPages())&&(n=this.page()),t.val(n),this.page(n)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var n=e.currentTarget.value,i=parseInt(n,10),r=this.dataSource;isNaN(i)?"all"==(n+"").toLowerCase()&&(r._pageSize=t,r._take=t,r.fetch()):r.pageSize(i)},_toggleActive:function(){var t=this;t.list.hasClass("k-state-expanded")?k.unbind(t.downEvent,e.proxy(t._hideList,t)):k.bind(t.downEvent,e.proxy(t._hideList,t)),t.list.toggleClass("k-state-expanded")},_hideList:function(t){var n=this,i=c.eventTarget(t);e.contains(n.list[0],i)||(k.unbind(n.downEvent,e.proxy(n._hideList,n)),n.list.removeClass("k-state-expanded"))},_click:function(t){var n=e(t.currentTarget);t.preventDefault(),n.is(".k-state-disabled")||this.page(n.attr(c.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){return e===t?this.dataSource.total()>0?this.dataSource.page():0:(this.trigger("pageChange",{index:e})||(this.dataSource.page(e),this.trigger(_,{index:e})),t)}});d.plugin(x)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.reorderable.min",["kendo.core.min","kendo.draganddrop.min"],e)}(function(){return function(e,t){function n(t,n){t=e(t),n?t.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel"):t.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")}var i=window.kendo,r=i._outerWidth,o=i._outerHeight,a=i.getOffset,s=i.ui.Widget,l="change",c=s.extend({init:function(t,c){var d,u=this,p=i.guid()+"-reorderable";s.fn.init.call(u,t,c),t=u.element.addClass("k-reorderable"),c=u.options,u.draggable=d=c.draggable||new i.ui.Draggable(t,{group:p,autoScroll:!0,filter:c.filter,hint:c.hint}),u.reorderDropCue=e('<div class="k-reorder-cue"></div></div>'),t.find(d.options.filter).kendoDropTarget({group:d.options.group,dragenter:function(e){var t,i,s,l;u._draggable&&(t=this.element,s=!u._dropTargetAllowed(t)||u._isLastDraggable(),n(e.draggable.hint,s),s||(i=a(t),l=i.left,c.inSameContainer&&!c.inSameContainer({source:t,target:u._draggable,sourceIndex:u._index(t),targetIndex:u._index(u._draggable)})?u._dropTarget=t:u._index(t)>u._index(u._draggable)&&(l+=r(t)),u.reorderDropCue.css({height:o(t),top:i.top,left:l}).appendTo(document.body)))},dragleave:function(e){n(e.draggable.hint,!0),u.reorderDropCue.remove(),u._dropTarget=null},drop:function(){var e,t;u._dropTarget=null,u._draggable&&(e=this.element,t=u._draggable,u._dropTargetAllowed(e)&&!u._isLastDraggable()&&u.trigger(l,{element:u._draggable,target:e,oldIndex:u._index(t),newIndex:u._index(e),position:a(u.reorderDropCue).left>a(e).left?"after":"before"}))}}),d.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){u.reorderDropCue.remove(),u._draggable=null,u._elements=null},dragend:function(){u.reorderDropCue.remove(),u._draggable=null,u._elements=null},dragstart:function(e){u._draggable=e.currentTarget,u._elements=u.element.find(u.draggable.options.filter)},drag:function(e){var t,n;u._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-i-cancel")&&(t=a(u._dropTarget).left,n=r(u._dropTarget),u.reorderDropCue.css(e.pageX>t+n/2?{left:t+n}:{left:t}))}})},options:{name:"Reorderable",filter:"*"},events:[l],_isLastDraggable:function(){var e,t=this.options.inSameContainer,n=this._draggable[0],i=this._elements.get(),r=!1;if(!t)return!1;for(;!r&&i.length>0;)e=i.pop(),r=n!==e&&t({source:n,target:e,sourceIndex:this._index(n),targetIndex:this._index(e)});return!r},_dropTargetAllowed:function(e){var t=this.options.inSameContainer,n=this.options.dragOverContainers,i=this._draggable;return i[0]!==e[0]&&(!t||!n||!!t({source:i,target:e,sourceIndex:this._index(i),targetIndex:this._index(e)})||n(this._index(i),this._index(e)))},_index:function(e){return this._elements.index(e)},destroy:function(){var t=this;s.fn.destroy.call(t),t.element.find(t.draggable.options.filter).each(function(){var t=e(this);t.data("kendoDropTarget")&&t.data("kendoDropTarget").destroy()}),t.draggable&&(t.draggable.destroy(),t.draggable.element=t.draggable=null),t.elements=t.reorderDropCue=t._elements=t._draggable=null}});i.ui.plugin(c)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.resizable.min",["kendo.core.min","kendo.draganddrop.min"],e)}(function(){return function(e,t){var n=window.kendo,i=n.ui,r=i.Widget,o=e.proxy,a=n.isFunction,s=e.extend,l="horizontal",c="vertical",d="start",u="resize",p="resizeend",h=r.extend({init:function(e,t){var n=this;r.fn.init.call(n,e,t),n.orientation=n.options.orientation.toLowerCase()!=c?l:c,n._positionMouse=n.orientation==l?"x":"y",n._position=n.orientation==l?"left":"top",n._sizingDom=n.orientation==l?"outerWidth":"outerHeight",n.draggable=new i.Draggable(t.draggableElement||e,{distance:1,filter:t.handle,drag:o(n._resize,n),dragcancel:o(n._cancel,n),dragstart:o(n._start,n),dragend:o(n._stop,n)}),n.userEvents=n.draggable.userEvents},events:[u,p,d],options:{name:"Resizable",orientation:l},resize:function(){},_max:function(e){var n=this,i=n.hint?n.hint[n._sizingDom]():0,r=n.options.max;return a(r)?r(e):r!==t?n._initialElementPosition+r-i:r},_min:function(e){var n=this,i=n.options.min;return a(i)?i(e):i!==t?n._initialElementPosition+i:i},_start:function(t){var n=this,i=n.options.hint,r=e(t.currentTarget);n._initialElementPosition=r.position()[n._position],n._initialMousePosition=t[n._positionMouse].startLocation,i&&(n.hint=a(i)?e(i(r)):i,n.hint.css({position:"absolute"}).css(n._position,n._initialElementPosition).appendTo(n.element)),n.trigger(d,t),n._maxPosition=n._max(t),n._minPosition=n._min(t),e(document.body).css("cursor",r.css("cursor"))},_resize:function(e){var n,i=this,r=i._maxPosition,o=i._minPosition,a=i._initialElementPosition+(e[i._positionMouse].location-i._initialMousePosition);n=o!==t?Math.max(o,a):a,i.position=n=r!==t?Math.min(r,n):n,i.hint&&i.hint.toggleClass(i.options.invalidClass||"",n==r||n==o).css(i._position,n),i.resizing=!0,i.trigger(u,s(e,{position:n}))},_stop:function(t){var n=this;n.hint&&n.hint.remove(),n.resizing=!1,n.trigger(p,s(t,{position:n.position})),e(document.body).css("cursor","")},_cancel:function(e){var n=this;n.hint&&(n.position=t,n.hint.css(n._position,n._initialElementPosition),n._stop(e))},destroy:function(){var e=this;r.fn.destroy.call(e),e.draggable&&e.draggable.destroy()},press:function(e){if(e){var t=e.position(),n=this;n.userEvents.press(t.left,t.top,e[0]),n.targetPosition=t,n.target=e}},move:function(e){var n=this,i=n._position,r=n.targetPosition,o=n.position;o===t&&(o=r[i]),r[i]=o+e,n.userEvents.move(r.left,r.top)},end:function(){this.userEvents.end(),this.target=this.position=t}});n.ui.plugin(h)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.fx.min",["kendo.core.min"],e)}(function(){return function(e,t){function n(e){return parseInt(e,10)}function i(e,t){return n(e.css(t))}function r(e){var t,n=[];for(t in e)n.push(t);return n}function o(e){for(var t in e)-1!=W.indexOf(t)&&-1==q.indexOf(t)&&delete e[t];return e}function a(e,t){var n,i,r,o,a=[],s={};for(i in t)n=i.toLowerCase(),o=M&&-1!=W.indexOf(n),!H.hasHW3D&&o&&-1==q.indexOf(n)?delete t[i]:(r=t[i],o?a.push(i+"("+r+")"):s[i]=r);return a.length&&(s[ae]=a.join(" ")),s}function s(e,t){var i,r,o;return M?(i=e.css(ae),i==Y?"scale"==t?1:0:(r=i.match(RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),o=0,r?o=n(r[1]):(r=i.match(z)||[0,0,0,0,0],t=t.toLowerCase(),L.test(t)?o=parseFloat(r[3]/r[2]):"translatey"==t?o=parseFloat(r[4]/r[2]):"scale"==t?o=parseFloat(r[2]):"rotate"==t&&(o=parseFloat(Math.atan2(r[2],r[1])))),o)):parseFloat(e.css(t))}function l(e){return e.charAt(0).toUpperCase()+e.substring(1)}function c(e,t){var n=f.extend(t),i=n.prototype.directions;S[l(e)]=n,S.Element.prototype[e]=function(e,t,i,r){return new n(this.element,e,t,i,r)},T(i,function(t,i){S.Element.prototype[e+l(i)]=function(e,t,r){return new n(this.element,i,e,t,r)}})}function d(e,n,i,r){c(e,{directions:m,startValue:function(e){return this._startValue=e,this},endValue:function(e){return this._endValue=e,this},shouldHide:function(){return this._shouldHide},prepare:function(e,o){var a,s,l=this,c="out"===this._direction,d=l.element.data(n);a=!(isNaN(d)||d==i)?d:t!==this._startValue?this._startValue:c?i:r,s=t!==this._endValue?this._endValue:c?r:i,this._reverse?(e[n]=s,o[n]=a):(e[n]=a,o[n]=s),l._shouldHide=o[n]===r}})}function u(e,t){var n=e[C.directions[t].vertical?J:Q]()/2+"px";return v[t].replace("$size",n)}var p,h,f,g,m,_,v,b,k,w,y,x,C=window.kendo,S=C.effects,T=e.each,D=e.extend,I=e.proxy,H=C.support,E=H.browser,M=H.transforms,F=H.transitions,A={scale:0,scalex:0,scaley:0,scale3d:0},P={translate:0,translatex:0,translatey:0,translate3d:0},O=t!==document.documentElement.style.zoom&&!M,z=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,R=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,L=/translatex?$/i,V=/(zoom|fade|expand)(\w+)/,N=/(zoom|fade|expand)/,B=/[xy]$/i,W=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],q=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],U={rotate:"deg",scale:"",skew:"px",translate:"px"},j=M.css,$=Math.round,G="px",Y="none",K="auto",Q="width",J="height",X="hidden",Z="origin",ee="abortId",te="overflow",ne="translate",ie="position",re="completeCallback",oe=j+"transition",ae=j+"transform",se=j+"backface-visibility",le=j+"perspective",ce="1500px",de="perspective(1500px)",ue={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};C.directions=ue,D(e.fn,{kendoStop:function(e,t){return F?S.stopQueue(this,e||!1,t||!1):this.stop(e,t)}}),M&&!F&&(T(q,function(n,i){e.fn[i]=function(n){if(t===n)return s(this,i);var r=e(this)[0],o=i+"("+n+U[i.replace(B,"")]+")";return-1==r.style.cssText.indexOf(ae)?e(this).css(ae,o):r.style.cssText=r.style.cssText.replace(RegExp(i+"\\(.*?\\)","i"),o),this},e.fx.step[i]=function(t){e(t.elem)[i](t.now)}}),p=e.fx.prototype.cur,e.fx.prototype.cur=function(){return-1!=q.indexOf(this.prop)?parseFloat(e(this.elem)[this.prop]()):p.apply(this,arguments)}),C.toggleClass=function(e,t,n,i){return t&&(t=t.split(" "),F&&(n=D({exclusive:"all",duration:400,ease:"ease-out"},n),e.css(oe,n.exclusive+" "+n.duration+"ms "+n.ease),setTimeout(function(){e.css(oe,"").css(J)},n.duration)),T(t,function(t,n){e.toggleClass(n,i)})),e},C.parseEffects=function(e,t){var n={};return"string"==typeof e?T(e.split(" "),function(e,i){var r=!N.test(i),o=i.replace(V,function(e,t,n){return t+":"+n.toLowerCase()}).split(":"),a=o[1],s={};o.length>1&&(s.direction=t&&r?ue[a].reverse:a),n[o[0]]=s}):T(e,function(e){var i=this.direction;i&&t&&!N.test(e)&&(this.direction=ue[i].reverse),n[e]=this}),n},F&&D(S,{transition:function(t,n,i){var o,s,l,c,d=0,u=t.data("keys")||[];i=D({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i),l=!1,c=function(){l||(l=!0,s&&(clearTimeout(s),s=null),t.removeData(ee).dequeue().css(oe,"").css(oe),i.complete.call(t))},i.duration=e.fx?e.fx.speeds[i.duration]||i.duration:i.duration,o=a(t,n),e.merge(u,r(o)),t.data("keys",e.unique(u)).height(),t.css(oe,i.exclusive+" "+i.duration+"ms "+i.ease).css(oe),t.css(o).css(ae),F.event&&(t.one(F.event,c),0!==i.duration&&(d=500)),s=setTimeout(c,i.duration+d),t.data(ee,s),t.data(re,c)},stopQueue:function(e,t,n){var i,r=e.data("keys"),o=!n&&r,a=e.data(re);return o&&(i=C.getComputedStyles(e[0],r)),a&&a(),o&&e.css(i),e.removeData("keys").stop(t)}}),h=C.Class.extend({init:function(e,t){var n=this;n.element=e,n.effects=[],n.options=t,n.restore=[]},run:function(t){var n,i,r,s,l,c,d,u=this,p=t.length,h=u.element,f=u.options,g=e.Deferred(),m={},_={};for(u.effects=t,g.done(e.proxy(u,"complete")),h.data("animating",!0),i=0;i<p;i++)for((n=t[i]).setReverse(f.reverse),n.setOptions(f),u.addRestoreProperties(n.restore),n.prepare(m,_),l=n.children(),r=0,c=l.length;r<c;r++)l[r].duration(f.duration).run();for(d in f.effects)D(_,f.effects[d].properties);for(h.is(":visible")||D(m,{display:h.data("olddisplay")||"block"}),M&&!f.reset&&(s=h.data("targetTransform"))&&(m=D(s,m)),m=a(h,m),M&&!F&&(m=o(m)),h.css(m).css(ae),i=0;i<p;i++)t[i].setup();return f.init&&f.init(),h.data("targetTransform",_),S.animate(h,_,D({},f,{complete:g.resolve})),g.promise()},stop:function(){e(this.element).kendoStop(!0,!0)},addRestoreProperties:function(e){for(var t,n=this.element,i=0,r=e.length;i<r;i++)t=e[i],this.restore.push(t),n.data(t)||n.data(t,n.css(t))},restoreCallback:function(){var e,t,n,i=this.element;for(e=0,t=this.restore.length;e<t;e++)n=this.restore[e],i.css(n,i.data(n))},complete:function(){var t=this,n=0,i=t.element,r=t.options,o=t.effects,a=o.length;for(i.removeData("animating").dequeue(),r.hide&&i.data("olddisplay",i.css("display")).hide(),this.restoreCallback(),O&&!M&&setTimeout(e.proxy(this,"restoreCallback"),0);n<a;n++)o[n].teardown();r.completeCallback&&r.completeCallback(i)}}),S.promise=function(e,t){var n,i,r,o=[],a=new h(e,t),s=C.parseEffects(t.effects);t.effects=s;for(r in s)(n=S[l(r)])&&(i=new n(e,s[r].direction),o.push(i));o[0]?a.run(o):(e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),e.dequeue(),a.complete())},D(S,{animate:function(n,r,a){var s=!1!==a.transition;delete a.transition,F&&"transition"in S&&s?S.transition(n,r,a):M?n.animate(o(r),{queue:!1,show:!1,hide:!1,duration:a.duration,complete:a.complete}):n.each(function(){var n=e(this),o={};T(W,function(e,a){var s,l,c,d,u,p,h,f=r?r[a]+" ":null;f&&(l=r,a in A&&r[a]!==t?(s=f.match(R),M&&D(l,{scale:+s[0]})):a in P&&r[a]!==t&&(c=n.css(ie),d="absolute"==c||"fixed"==c,n.data(ne)||(d?n.data(ne,{top:i(n,"top")||0,left:i(n,"left")||0,bottom:i(n,"bottom"),right:i(n,"right")}):n.data(ne,{top:i(n,"marginTop")||0,left:i(n,"marginLeft")||0})),u=n.data(ne),(s=f.match(R))&&(p=a==ne+"y"?0:+s[1],h=a==ne+"y"?+s[1]:+s[2],d?(isNaN(u.right)?isNaN(p)||D(l,{left:u.left+p}):isNaN(p)||D(l,{right:u.right-p}),isNaN(u.bottom)?isNaN(h)||D(l,{top:u.top+h}):isNaN(h)||D(l,{bottom:u.bottom-h})):(isNaN(p)||D(l,{marginLeft:u.left+p}),isNaN(h)||D(l,{marginTop:u.top+h})))),!M&&"scale"!=a&&a in l&&delete l[a],l&&D(o,l))}),E.msie&&delete o.scale,n.animate(o,{queue:!1,show:!1,hide:!1,duration:a.duration,complete:a.complete})})}}),S.animatedPromise=S.promise,f=C.Class.extend({init:function(e,t){var n=this;n.element=e,n._direction=t,n.options={},n._additionalEffects=[],n.restore||(n.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(e){return this._additionalEffects.push(e),this},direction:function(e){return this._direction=e,this},duration:function(e){return this._duration=e,this},compositeRun:function(){var e=this,t=new h(e.element,{reverse:e._reverse,duration:e._duration}),n=e._additionalEffects.concat([e]);return t.run(n)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n,i=this,r=i.element,s=0,l=i.restore,c=l.length,d=e.Deferred(),u={},p={},h=i.children(),f=h.length;for(d.done(e.proxy(i,"_complete")),r.data("animating",!0),s=0;s<c;s++)t=l[s],r.data(t)||r.data(t,r.css(t));for(s=0;s<f;s++)h[s].duration(i._duration).run();return i.prepare(u,p),r.is(":visible")||D(u,{display:r.data("olddisplay")||"block"}),M&&(n=r.data("targetTransform"))&&(u=D(n,u)),u=a(r,u),M&&!F&&(u=o(u)),r.css(u).css(ae),i.setup(),r.data("targetTransform",p),S.animate(r,p,{duration:i._duration,complete:d.resolve}),d.promise()},stop:function(){var t=0,n=this.children(),i=n.length;for(t=0;t<i;t++)n[t].stop();return e(this.element).kendoStop(!0,!0),this},restoreCallback:function(){var e,t,n,i=this.element;for(e=0,t=this.restore.length;e<t;e++)n=this.restore[e],i.css(n,i.data(n))},_complete:function(){var t=this,n=t.element;n.removeData("animating").dequeue(),t.restoreCallback(),t.shouldHide()&&n.data("olddisplay",n.css("display")).hide(),O&&!M&&setTimeout(e.proxy(t,"restoreCallback"),0),t.teardown()},setOptions:function(e){D(!0,this.options,e)},children:function(){return[]},shouldHide:e.noop,setup:e.noop,prepare:e.noop,teardown:e.noop,directions:[],setReverse:function(e){return this._reverse=e,this}}),m=["in","out"],c("slideIn",{directions:g=["left","right","up","down"],divisor:function(e){return this.options.divisor=e,this},prepare:function(e,t){var n,i=this,r=i.element,o=C._outerWidth,a=C._outerHeight,s=ue[i._direction],l=-s.modifier*(s.vertical?a(r):o(r))/(i.options&&i.options.divisor||1)+G;i._reverse&&(n=e,e=t,t=n),M?(e[s.transition]=l,t[s.transition]="0px"):(e[s.property]=l,t[s.property]="0px")}}),c("tile",{directions:g,init:function(e,t,n){f.prototype.init.call(this,e,t),this.options={previous:n}},previousDivisor:function(e){return this.options.previousDivisor=e,this},children:function(){var e=this,t=e._reverse,n=e.options.previous,i=e.options.previousDivisor||1,r=e._direction,o=[C.fx(e.element).slideIn(r).setReverse(t)];return n&&o.push(C.fx(n).slideIn(ue[r].reverse).divisor(i).setReverse(!t)),o}}),d("fade","opacity",1,0),d("zoom","scale",1,.01),c("slideMargin",{prepare:function(e,t){var n,i=this,r=i.element,o=i.options,a=r.data(Z),s=o.offset,l=i._reverse;l||null!==a||r.data(Z,parseFloat(r.css("margin-"+o.axis))),n=r.data(Z)||0,t["margin-"+o.axis]=l?n:n+s}}),c("slideTo",{prepare:function(e,t){var n=this,i=n.element,r=n.options.offset.split(","),o=n._reverse;M?(t.translatex=o?0:r[0],t.translatey=o?0:r[1]):(t.left=o?0:r[0],t.top=o?0:r[1]),i.css("left")}}),c("expand",{directions:["horizontal","vertical"],restore:[te],prepare:function(e,n){var i=this,r=i.element,o=i.options,a=i._reverse,s="vertical"===i._direction?J:Q,l=r[0].style[s],c=r.data(s),d=parseFloat(c||l),u=$(r.css(s,K)[s]());e.overflow=X,d=o&&o.reset?u||d:d||u,n[s]=(a?0:d)+G,e[s]=(a?d:0)+G,c===t&&r.data(s,l)},shouldHide:function(){return this._reverse},teardown:function(){var e=this,t=e.element,n="vertical"===e._direction?J:Q,i=t.data(n);i!=K&&""!==i||setTimeout(function(){t.css(n,K).css(n)},0)}}),_={position:"absolute",marginLeft:0,marginTop:0,scale:1},c("transfer",{init:function(e,t){this.element=e,this.options={target:t},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var n=this,i=n.element,r=S.box(i),o=S.box(n.options.target),a=s(i,"scale"),l=S.fillScale(o,r),c=S.transformOrigin(o,r);D(e,_),t.scale=1,i.css(ae,"scale(1)").css(ae),i.css(ae,"scale("+a+")"),e.top=r.top,e.left=r.left,e.transformOrigin=c.x+G+" "+c.y+G,n._reverse?e.scale=l:t.scale=l}}),v={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},b={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}},c("turningPage",{directions:g,init:function(e,t,n){f.prototype.init.call(this,e,t),this._container=n},prepare:function(e,t){var n=this,i=n._reverse,r=i?ue[n._direction].reverse:n._direction,o=b[r];e.zIndex=1,n._clipInHalf&&(e.clip=u(n._container,C.directions[r].reverse)),e[se]=X,t[ae]=de+(i?o.start:o.end),e[ae]=de+(i?o.end:o.start)},setup:function(){this._container.append(this.element)},face:function(e){return this._face=e,this},shouldHide:function(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n},clipInHalf:function(e){return this._clipInHalf=e,this},temporary:function(){return this.element.addClass("temp-page"),this}}),c("staticPage",{directions:g,init:function(e,t,n){f.prototype.init.call(this,e,t),this._container=n},restore:["clip"],prepare:function(e,t){var n=this,i=n._reverse?ue[n._direction].reverse:n._direction;e.clip=u(n._container,i),e.opacity=.999,t.opacity=1},shouldHide:function(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n},face:function(e){return this._face=e,this}}),c("pageturn",{directions:["horizontal","vertical"],init:function(e,t,n,i){f.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=i},children:function(){var e,t=this,n=t.options,i="horizontal"===t._direction?"left":"top",r=C.directions[i].reverse,o=t._reverse,a=n.face.clone(!0).removeAttr("id"),s=n.back.clone(!0).removeAttr("id"),l=t.element;return o&&(e=i,i=r,r=e),[C.fx(n.face).staticPage(i,l).face(!0).setReverse(o),C.fx(n.back).staticPage(r,l).setReverse(o),C.fx(a).turningPage(i,l).face(!0).clipInHalf(!0).temporary().setReverse(o),C.fx(s).turningPage(r,l).clipInHalf(!0).temporary().setReverse(o)]},prepare:function(e,t){e[le]=ce,e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),c("flip",{directions:["horizontal","vertical"],init:function(e,t,n,i){f.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=i},children:function(){var e,t=this,n=t.options,i="horizontal"===t._direction?"left":"top",r=C.directions[i].reverse,o=t._reverse,a=t.element;return o&&(e=i,i=r,r=e),[C.fx(n.face).turningPage(i,a).face(!0).setReverse(o),C.fx(n.back).turningPage(r,a).setReverse(o)]},prepare:function(e){e[le]=ce,e.transformStyle="preserve-3d"}}),k=!H.mobileOS.android,w=".km-touch-scrollbar, .km-actionsheet-wrapper",c("replace",{_before:e.noop,_after:e.noop,init:function(t,n,i){f.prototype.init.call(this,t),this._previous=e(n),this._transitionClass=i},duration:function(){throw Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(e){return this._before=e,this},afterTransition:function(e){return this._after=e,this},_both:function(){return e().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;return e&&(t+=" k-fx-"+e),this._reverse&&(t+=" k-fx-reverse"),t},complete:function(t){if(!(!this.deferred||t&&e(t.target).is(w))){var n=this.container;n.removeClass("k-fx-end").removeClass(this._containerClass()).off(F.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),k&&n.css(te,""),this.isAbsolute||this._both().css(ie,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t=this,n=t.element,i=t._previous,r=n.parents().filter(i.parents()).first(),o=t._both(),a=e.Deferred(),s=n.css(ie);return r.length||(r=n.parent()),this.container=r,this.deferred=a,this.isAbsolute="absolute"==s,this.isAbsolute||o.css(ie,"absolute"),k&&(r.css(te),r.css(te,"hidden")),F?(n.addClass("k-fx-hidden"),r.addClass(this._containerClass()),this.completeProxy=e.proxy(this,"complete"),r.on(F.event,this.completeProxy),C.animationFrame(function(){n.removeClass("k-fx-hidden").addClass("k-fx-next"),i.css("display","").addClass("k-fx-current"),t._before(i,n),C.animationFrame(function(){r.removeClass("k-fx-start").addClass("k-fx-end"),t._after(i,n)})})):this.complete(),a.promise()},stop:function(){this.complete()}}),x=(y=C.Class.extend({init:function(){var e=this;e._tickProxy=I(e._tick,e),e._started=!1},tick:e.noop,done:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,C.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var e=this;e._started&&(e.tick(),e.done()?(e._started=!1,e.onEnd()):C.animationFrame(e._tickProxy))}})).extend({init:function(e){var t=this;D(t,e),y.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,n=t.movable;t.initial=n[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=new Date,t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}}),D(x,{easeOutExpo:function(e,t,n,i){return e==i?t+n:n*(1-Math.pow(2,-10*e/i))+t},easeOutBack:function(e,t,n,i,r){return r=1.70158,n*((e=e/i-1)*e*((r+1)*e+r)+1)+t}}),S.Animation=y,S.Transition=x,S.createEffect=c,S.box=function(t){var n=(t=e(t)).offset();return n.width=C._outerWidth(t),n.height=C._outerHeight(t),n},S.transformOrigin=function(e,t){var n=(e.left-t.left)*t.width/(t.width-e.width),i=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(n)?0:n,y:isNaN(i)?0:i}},S.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},S.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height)}}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.mobile.scroller.min",["kendo.fx.min","kendo.draganddrop.min"],e)}(function(){return function(e,t){var n=window.kendo,i=n.mobile,r=n.effects,o=i.ui,a=e.proxy,s=e.extend,l=o.Widget,c=n.Class,d=n.ui.Movable,u=n.ui.Pane,p=n.ui.PaneDimensions,h=r.Transition,f=r.Animation,g=Math.abs,m="km-scroller-release",_="km-scroller-refresh",v="change",b="scroll",k=f.extend({init:function(e){var t=this;f.fn.init.call(t),s(t,e),t.userEvents.bind("gestureend",a(t.start,t)),t.tapCapture.bind("press",a(t.cancel,t))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),w=f.extend({init:function(e){var t=this;f.fn.init.call(t),s(t,e,{transition:new h({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",a(t.start,t)),t.userEvents.bind("gestureend",a(t.start,t)),t.userEvents.bind("tap",a(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(e){var t=this;t.cancel(),t._moveTo(e)},onEnd:function(){var e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end()},done:function(){return g(this.velocity)<1},start:function(e){var t,n=this;n.dimension.enabled&&(n.paneAxis.outOfBounds()?n._snapBack():(t=2===e.touch.id?0:e.touch[n.axis].velocity,n.velocity=Math.max(Math.min(t*n.velocityMultiplier,55),-55),n.tapCapture.captureNext(),f.fn.start.call(n)))},tick:function(){var e=this,t=e.dimension,n=e.paneAxis.outOfBounds()?.5:e.friction,i=e.velocity*=n,r=e.movable[e.axis]+i;!e.elastic&&t.outOfBounds(r)&&(r=Math.max(Math.min(r,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,r)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var e=this,t=e.dimension,n=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(n)},_moveTo:function(e){this.transition.moveTo({location:e,duration:500,ease:h.easeOutExpo})}}),y=f.extend({init:function(e){var t=this;n.effects.Animation.fn.init.call(this),s(t,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return g(this.offset.y)<5&&g(this.offset.x)<5},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(e,t){this.offset={},this.origin=e,this.destination=t},setCallback:function(e){e&&n.isFunction(e)?this.callback=e:e=t},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),x=c.extend({init:function(t){var n=this,i="x"===t.axis,r=e('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');s(n,t,{element:r,elementSize:0,movable:new d(r),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:i?"width":"height"}),n.scrollMovable.bind(v,a(n.refresh,n)),n.container.append(r),t.alwaysVisible&&n.show()},refresh:function(){var e=this,t=e.axis,n=e.dimension,i=n.size,r=e.scrollMovable,o=i/n.total,a=Math.round(-r[t]*o),s=Math.round(i*o);o>=1?this.element.css("display","none"):this.element.css("display",""),a+s>i?s=i-a:a<0&&(s+=a,a=0),e.elementSize!=s&&(e.element.css(e.size,s+"px"),e.elementSize=s),e.movable.moveAxis(t,a)},show:function(){this.element.css({opacity:.7,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),C=l.extend({init:function(i,r){var o,c,h,f,m,_,w,x,C,S=this;return l.fn.init.call(S,i,r),i=S.element,(S._native=S.options.useNative&&n.support.hasNativeScrolling)?(i.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),s(S,{scrollElement:i,fixedContainer:i.children().first()}),t):(i.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>'),o=i.children().eq(1),c=new n.TapCapture(i),h=new d(o),f=new p({element:o,container:i,forcedEnabled:S.options.zoom}),m=this.options.avoidScrolling,_=new n.UserEvents(i,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:S.options.zoom,start:function(t){f.refresh();var n=g(t.x.velocity),i=g(t.y.velocity),r=2*n>=i,o=2*i>=n;!e.contains(S.fixedContainer[0],t.event.target)&&!m(t)&&S.enabled&&(f.x.enabled&&r||f.y.enabled&&o)?_.capture():_.cancel()}}),w=new u({movable:h,dimensions:f,userEvents:_,elastic:S.options.elastic}),x=new k({movable:h,dimensions:f,userEvents:_,tapCapture:c}),C=new y({moveTo:function(e){S.scrollTo(e.x,e.y)}}),h.bind(v,function(){S.scrollTop=-h.y,S.scrollLeft=-h.x,S.trigger(b,{scrollTop:S.scrollTop,scrollLeft:S.scrollLeft})}),S.options.mousewheelScrolling&&i.on("DOMMouseScroll mousewheel",a(this,"_wheelScroll")),s(S,{movable:h,dimensions:f,zoomSnapBack:x,animatedScroller:C,userEvents:_,pane:w,tapCapture:c,pulled:!1,enabled:!0,scrollElement:o,scrollTop:0,scrollLeft:0,fixedContainer:i.children().first()}),S._initAxis("x"),S._initAxis("y"),S._wheelEnd=function(){S._wheel=!1,S.userEvents.end(0,S._wheelY)},f.refresh(),S.options.pullToRefresh&&S._initPullToRefresh(),t)},_wheelScroll:function(e){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=n.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:["pull",b,"resize"],_resize:function(){this._native||this.contentResized()},setOptions:function(e){var t=this;l.fn.setOptions.call(t,e),e.pullToRefresh&&t._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,t){this._native?(this.scrollElement.scrollLeft(g(e)),this.scrollElement.scrollTop(g(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},animatedScrollTo:function(e,t,n){var i,r;this._native?this.scrollTo(e,t):(i={x:this.movable.x,y:this.movable.y},r={x:e,y:t},this.animatedScroller.setCoordinates(i,r),this.animatedScroller.setCallback(n),this.animatedScroller.start())},pullHandled:function(){var e=this;e.refreshHint.removeClass(_),e.hintContainer.html(e.pullTemplate({})),e.yinertia.onEnd(),e.xinertia.onEnd(),e.userEvents.cancel()},destroy:function(){l.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=n.template(e.options.messages.pullTemplate),e.releaseTemplate=n.template(e.options.messages.releaseTemplate),e.refreshTemplate=n.template(e.options.messages.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",a(e._paneChange,e)),e.userEvents.bind("end",a(e._dragEnd,e))},_dragEnd:function(){var e=this;e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(m).addClass(_),e.hintContainer.html(e.refreshTemplate({})),e.yinertia.freeze(e.options.pullOffset/2),e.trigger("pull"))},_paneChange:function(){var e=this;e.movable.y/.5>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(_).addClass(m),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(m),e.hintContainer.html(e.pullTemplate({})))},_initAxis:function(e){var t=this,n=t.movable,i=t.dimensions[e],r=t.tapCapture,o=t.pane[e],a=new x({axis:e,movable:n,dimension:i,container:t.element,alwaysVisible:t.options.visibleScrollHints});i.bind(v,function(){a.refresh()}),o.bind(v,function(){a.show()}),t[e+"inertia"]=new w({axis:e,paneAxis:o,movable:n,tapCapture:r,userEvents:t.userEvents,dimension:i,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end:function(){a.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});o.plugin(C)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.view.min",["kendo.core.min","kendo.binder.min","kendo.fx.min"],e)}(function(){return function(e,t){function n(e){if(!e)return{};var t=e.match(g)||[];return{type:t[1],direction:t[3],reverse:"reverse"===t[5]}}var i=window.kendo,r=i.Observable,o="init",a="show",s="hide",l="transitionStart",c="transitionEnd",d=/unrecognized expression/,u=r.extend({init:function(e,t){var n=this;t=t||{},r.fn.init.call(n),n.content=e,n.id=i.guid(),n.tagName=t.tagName||"div",n.model=t.model,n._wrap=!1!==t.wrap,this._evalTemplate=t.evalTemplate||!1,n._fragments={},n.bind([o,a,s,l,c],t)},render:function(t){var n=this,r=!n.element;return r&&(n.element=n._createElement()),t&&e(t).append(n.element),r&&(i.bind(n.element,n.model),n.trigger(o)),t&&(n._eachFragment("attach"),n.trigger(a)),n.element},clone:function(){return new p(this)},triggerBeforeShow:function(){return!0},triggerBeforeHide:function(){return!0},showStart:function(){this.element.css("display","")},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(e){this.trigger(l,{type:e})},afterTransition:function(e){this.trigger(c,{type:e})},hide:function(){this._eachFragment("detach"),this.element.detach(),this.trigger(s)},destroy:function(){var e=this.element;e&&(i.unbind(e),i.destroy(e),e.remove())},fragments:function(t){e.extend(this._fragments,t)},_eachFragment:function(e){for(var t in this._fragments)this._fragments[t][e](this,t)},_createElement:function(){var t,n,r,o=this,a="<"+o.tagName+" />";try{"SCRIPT"===(n=e(document.getElementById(o.content)||o.content))[0].tagName&&(n=n.html())}catch(e){d.test(e.message)&&(n=o.content)}return"string"==typeof n?(n=n.replace(/^\s+|\s+$/g,""),o._evalTemplate&&(n=i.template(n)(o.model||{})),t=e(a).append(n),o._wrap||(t=t.contents())):(t=n,o._evalTemplate&&(r=e(i.template(e("<div />").append(t.clone(!0)).html())(o.model||{})),e.contains(document,t[0])&&t.replaceWith(r),t=r),o._wrap&&(t=t.wrapAll(a).parent())),t}}),p=i.Class.extend({init:function(t){e.extend(this,{element:t.element.clone(!0),transition:t.transition,id:t.id}),t.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:e.noop,afterTransition:e.noop}),h=u.extend({init:function(e,t){u.fn.init.call(this,e,t),this.containers={}},container:function(e){var t=this.containers[e];return t||(t=this._createContainer(e),this.containers[e]=t),t},showIn:function(e,t,n){this.container(e).show(t,n)},_createContainer:function(e){var t,n=this.render(),i=n.find(e);if(!i.length&&n.is(e)){if(!n.is(e))throw Error("can't find a container with the specified "+e+" selector");i=n}return(t=new m(i)).bind("accepted",function(e){e.view.render(i)}),t}}),f=u.extend({attach:function(e,t){e.element.find(t).replaceWith(this.render())},detach:function(){}}),g=/^(\w+)(:(\w+))?( (\w+))?$/,m=r.extend({init:function(e){r.fn.init.call(this),this.container=e,this.history=[],this.view=null,this.running=!1},after:function(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after")},end:function(){this.view.showEnd(),this.previous.hideEnd(),this.after()},show:function(e,t,r){if(!e.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide())return this.trigger("after"),!1;r=r||e.id;var o=this,a=e===o.view?e.clone():o.view,s=o.history,l=(s[s.length-2]||{}).id===r,c=t||(l?s[s.length-1].transition:e.transition),d=n(c);return o.running&&o.effect.stop(),"none"===c&&(c=null),o.trigger("accepted",{view:e}),o.view=e,o.previous=a,o.running=!0,l?s.pop():s.push({id:r,transition:c}),a?(c&&i.effects.enabled?(e.element.addClass("k-fx-hidden"),e.showStart(),l&&!t&&(d.reverse=!d.reverse),o.effect=i.fx(e.element).replace(a.element,d.type).beforeTransition(function(){e.beforeTransition("show"),a.beforeTransition("hide")}).afterTransition(function(){e.afterTransition("show"),a.afterTransition("hide")}).direction(d.direction).setReverse(d.reverse),o.effect.run().then(function(){o.end()})):(e.showStart(),o.end()),!0):(e.showStart(),e.showEnd(),o.after(),!0)}});i.ViewContainer=m,i.Fragment=f,i.Layout=h,i.View=u,i.ViewClone=p}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.mobile.view.min",["kendo.core.min","kendo.fx.min","kendo.mobile.scroller.min","kendo.view.min"],e)}(function(){return function(e,t){function n(e){var t,n,i=e.find(w("popover")),r=s.roles;for(t=0,n=i.length;t<n;t++)o.initWidget(i[t],{},r)}function i(e){o.triggeredByInput(e)||e.preventDefault()}function r(t){t.each(function(){o.initWidget(e(this),{},s.roles)})}var o=window.kendo,a=o.mobile,s=a.ui,l=o.attr,c=s.Widget,d=o.ViewClone,u="init",p="beforeShow",h="show",f="afterShow",g="beforeHide",m="transitionEnd",_="transitionStart",v="hide",b="destroy",k=o.attrValue,w=o.roleSelector,y=o.directiveSelector,x=o.compileMobileDirective,C=c.extend({init:function(t,n){c.fn.init.call(this,t,n),this.params={},e.extend(this,n),this.transition=this.transition||this.defaultTransition,this._id(),this.options.$angular?this._overlay():(this._layout(),this._overlay(),this._scroller(),this._model())},events:[u,p,h,f,g,v,b,_,m],options:{name:"View",title:"",layout:null,getLayout:e.noop,reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,modelScope:window,scroller:{},initWidgets:!0},enable:function(e){void 0===e&&(e=!0),e?this.overlay.hide():this.overlay.show()},destroy:function(){this.layout&&this.layout.detach(this),this.trigger(b),c.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),this.options.$angular&&this.element.scope().$destroy(),o.destroy(this.element)},purge:function(){this.destroy(),this.element.remove()},triggerBeforeShow:function(){return!this.trigger(p,{view:this})},triggerBeforeHide:function(){return!this.trigger(g,{view:this})},showStart:function(){var e=this.element;e.css("display",""),this.inited?this._invokeNgController():(this.inited=!0,this.trigger(u,{view:this})),this.layout&&this.layout.attach(this),this._padIfNativeScrolling(),this.trigger(h,{view:this}),o.resize(e)},showEnd:function(){this.trigger(f,{view:this}),this._padIfNativeScrolling()},hideEnd:function(){var e=this;e.element.hide(),e.trigger(v,{view:e}),e.layout&&e.layout.trigger(v,{view:e,layout:e.layout})},beforeTransition:function(e){this.trigger(_,{type:e})},afterTransition:function(e){this.trigger(m,{type:e})},_padIfNativeScrolling:function(){if(a.appLevelNativeScrolling()){var e=o.support.mobileOS&&o.support.mobileOS.android,t=a.application.skin()||"",n=a.application.os.android||t.indexOf("android")>-1,i="flat"===t||t.indexOf("material")>-1,r=!e&&!n||i?"header":"footer",s=!e&&!n||i?"footer":"header";this.content.css({paddingTop:this[r].height(),paddingBottom:this[s].height()})}},contentElement:function(){var e=this;return e.options.stretch?e.content:e.scrollerContent},clone:function(){return new d(this)},_scroller:function(){var t=this;a.appLevelNativeScrolling()||(t.options.stretch?t.content.addClass("km-stretched-view"):(t.content.kendoMobileScroller(e.extend(t.options.scroller,{zoom:t.options.zoom,useNative:t.options.useNativeScrolling})),t.scroller=t.content.data("kendoMobileScroller"),t.scrollerContent=t.scroller.scrollElement),o.support.kineticScrollNeeded&&(e(t.element).on("touchmove",".km-header",i),t.options.useNativeScrolling||t.options.stretch||e(t.element).on("touchmove",".km-content",i)))},_model:function(){var e=this,t=e.element,i=e.options.model;"string"==typeof i&&(i=o.getter(i)(e.options.modelScope)),e.model=i,n(t),e.element.css("display",""),e.options.initWidgets&&(i?o.bind(t,i,s,o.ui,o.dataviz.ui):a.init(t.children())),e.element.css("display","none")},_id:function(){var e=this.element,t=e.attr("id")||"";this.id=k(e,"url")||"#"+t,"#"==this.id&&(this.id=o.guid(),e.attr("id",this.id))},_layout:function(){var e=w("content"),t=this.element;t.addClass("km-view"),this.header=t.children(w("header")).addClass("km-header"),this.footer=t.children(w("footer")).addClass("km-footer"),t.children(e)[0]||t.wrapInner("<div "+l("role")+'="content"></div>'),this.content=t.children(w("content")).addClass("km-content"),this.element.prepend(this.header).append(this.footer),this.layout=this.options.getLayout(this.layout),this.layout&&this.layout.setup(this)},_overlay:function(){this.overlay=e('<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />').appendTo(this.element)},_invokeNgController:function(){var t,n,i;this.options.$angular&&(t=this.element.controller(),n=this.options.$angular[0],t&&(i=e.proxy(this,"_callController",t,n),/^\$(digest|apply)$/.test(n.$$phase)?i():n.$apply(i)))},_callController:function(e,t){this.element.injector().invoke(e.constructor,e,{$scope:t})}}),S=c.extend({init:function(e,t){c.fn.init.call(this,e,t),e=this.element,this.header=e.children(this._locate("header")).addClass("km-header"),this.footer=e.children(this._locate("footer")).addClass("km-footer"),this.elements=this.header.add(this.footer),n(e),this.options.$angular||o.mobile.init(this.element.children()),this.element.detach(),this.trigger(u,{layout:this})},_locate:function(e){return this.options.$angular?y(e):w(e)},options:{name:"Layout",id:null,platform:null},events:[u,h,v],setup:function(e){e.header[0]||(e.header=this.header),e.footer[0]||(e.footer=this.footer)},detach:function(e){var t=this;e.header===t.header&&t.header[0]&&e.element.prepend(t.header.detach()[0].cloneNode(!0)),e.footer===t.footer&&t.footer.length&&e.element.append(t.footer.detach()[0].cloneNode(!0))},attach:function(e){var t=this,n=t.currentView;n&&t.detach(n),e.header===t.header&&(t.header.detach(),e.element.children(w("header")).remove(),e.element.prepend(t.header)),e.footer===t.footer&&(t.footer.detach(),e.element.children(w("footer")).remove(),e.element.append(t.footer)),t.trigger(h,{layout:t,view:e}),t.currentView=e}}),T=o.Observable,D=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,I="loadStart",H="loadComplete",E="showStart",M="sameViewRequested",F="viewShow",A="viewTypeDetermined",P="after",O=T.extend({init:function(t){var n,i,a,s,l=this;if(T.fn.init.call(l),e.extend(l,t),l.sandbox=e("<div />"),a=l.container,n=l._hideViews(a),l.rootView=n.first(),!l.rootView[0]&&t.rootNeeded)throw i=a[0]==o.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',Error(i);l.layouts={},l.viewContainer=new o.ViewContainer(l.container),l.viewContainer.bind("accepted",function(e){e.view.params=l.params}),l.viewContainer.bind("complete",function(e){l.trigger(F,{view:e.view})}),l.viewContainer.bind(P,function(){l.trigger(P)}),this.getLayoutProxy=e.proxy(this,"_getLayout"),l._setupLayouts(a),s=a.children(l._locate("modalview drawer")),l.$angular?(l.$angular[0].viewOptions={defaultTransition:l.transition,loader:l.loader,container:l.container,getLayout:l.getLayoutProxy},s.each(function(n,i){x(e(i),t.$angular[0])})):r(s),this.bind(this.events,t)},events:[E,P,F,I,H,M,A],destroy:function(){o.destroy(this.container);for(var e in this.layouts)this.layouts[e].destroy()},view:function(){return this.viewContainer.view},showView:function(e,t,n){if(""===(e=e.replace(RegExp("^"+this.remoteViewURLPrefix),""))&&this.remoteViewURLPrefix&&(e="/"),e.replace(/^#/,"")===this.url)return this.trigger(M),!1;this.trigger(E);var i=this,r=function(n){return i.viewContainer.show(n,t,e)},a=i._findViewElement(e),s=o.widgetInstance(a);return i.url=e.replace(/^#/,""),i.params=n,s&&s.reload&&(s.purge(),a=[]),this.trigger(A,{remote:0===a.length,url:e}),a[0]?(s||(s=i._createView(a)),r(s)):(this.serverNavigation?location.href=e:i._loadView(e,r),!0)},append:function(e,t){var n,i,o,a=this.sandbox,s=(t||"").split("?")[0],c=this.container;return D.test(e)&&(e=RegExp.$1),a[0].innerHTML=e,c.append(a.children("script, style")),n=this._hideViews(a),(o=n.first()).length||(n=o=a.wrapInner("<div data-role=view />").children()),s&&o.hide().attr(l("url"),s),this._setupLayouts(a),i=a.children(this._locate("modalview drawer")),c.append(a.children(this._locate("layout modalview drawer")).add(n)),r(i),this._createView(o)},_locate:function(e){return this.$angular?y(e):w(e)},_findViewElement:function(e){var t,n=e.split("?")[0];return n?((t=this.container.children("["+l("url")+"='"+n+"']"))[0]||-1!==n.indexOf("/")||(t=this.container.children("#"===n.charAt(0)?n:"#"+n)),t):this.rootView},_createView:function(e){return this.$angular?x(e,this.$angular[0]):o.initWidget(e,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:k(e,"reload")},s.roles)},_getLayout:function(e){return""===e?null:e?this.layouts[e]:this.layouts[this.layout]},_loadView:function(t,n){this._xhr&&this._xhr.abort(),this.trigger(I),this._xhr=e.get(o.absoluteURL(t,this.remoteViewURLPrefix),"html").always(e.proxy(this,"_xhrComplete",n,t))},_xhrComplete:function(e,t,n){var i=!0;if("object"==typeof n&&0===n.status){if(!(n.responseText&&n.responseText.length>0))return;i=!0,n=n.responseText}this.trigger(H),i&&e(this.append(n,t))},_hideViews:function(e){return e.children(this._locate("view splitview")).hide()},_setupLayouts:function(t){var n,i=this;t.children(i._locate("layout")).each(function(){var t=(n=i.$angular?x(e(this),i.$angular[0]):o.initWidget(e(this),{},s.roles)).options.platform;t&&t!==a.application.os.name?n.destroy():i.layouts[n.options.id]=n})}});o.mobile.ViewEngine=O,s.plugin(C),s.plugin(S)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.mobile.loader.min",["kendo.core.min"],e)}(function(){return function(e,t){var n=window.kendo,i=n.mobile.ui,r=i.Widget,o=e.map(n.eventMap,function(e){return e}).join(" ").split(" "),a=r.extend({init:function(t,n){var i=this,o=e('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');r.fn.init.call(i,o,n),i.container=t,i.captureEvents=!1,i._attachCapture(),o.append(i.options.loading).hide().appendTo(t)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var e=this;clearTimeout(e._loading),!1!==e.options.loading&&(e.captureEvents=!0,e._loading=setTimeout(function(){e.element.show()},e.options.timeout))},hide:function(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide()},changeMessage:function(e){this.options.loading=e,this.element.find(">h1").html(e)},transition:function(){this.captureEvents=!0,this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1,this.container.css("pointer-events","")},_attachCapture:function(){function e(e){n.captureEvents&&e.preventDefault()}var t,n=this;for(n.captureEvents=!1,t=0;t<o.length;t++)n.container[0].addEventListener(o[t],e,!0)}});i.plugin(a)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.mobile.pane.min",["kendo.mobile.view.min","kendo.mobile.loader.min"],e)}(function(){return function(e,t){var n=window.kendo,i=n.mobile,r=n.roleSelector,o=i.ui,a=o.Widget,s=i.ViewEngine,l=o.View,c=i.ui.Loader,d="external",u="href",p="navigate",h="viewShow",f="sameViewRequested",g=n.support.mobileOS,m=g.ios&&!g.appMode&&g.flatVersion>=700,_=/popover|actionsheet|modalview|drawer/,v=n.attrValue,b=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t),t=i.options,(e=i.element).addClass("km-pane"),i.options.collapsible&&e.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(e,t,n){var r=i.transition;return i.transition=null,m&&n&&(r="none"),i.viewEngine.showView(e,r,t)},this._historyNavigate=function(e){if("#:back"===e){if(1===i.history.length)return;i.history.pop(),e=i.history[i.history.length-1]}else i.history.push(e);i.historyCallback(e,n.parseQueryStringParams(e))},this._historyReplace=function(e){var t=n.parseQueryStringParams(e);i.history[i.history.length-1]=e,i.historyCallback(e,t)},i.loader=new c(e,{loading:i.options.loading}),i.viewEngine=new s({container:e,transition:t.transition,modelScope:t.modelScope,rootNeeded:!t.initial,serverNavigation:t.serverNavigation,remoteViewURLPrefix:t.root||"",layout:t.layout,$angular:t.$angular,loader:i.loader,showStart:function(){i.loader.transition(),i.closeActiveDialogs()},after:function(){i.loader.transitionDone()},viewShow:function(e){i.trigger(h,e)},loadStart:function(){i.loader.show()},loadComplete:function(){i.loader.hide()},sameViewRequested:function(){i.trigger(f)},viewTypeDetermined:function(e){e.remote&&i.options.serverNavigation||i.trigger(p,{url:e.url})}}),this._setPortraitWidth(),n.onResize(function(){i._setPortraitWidth()}),i._setupAppLinks()},closeActiveDialogs:function(){this.element.find(r("actionsheet popover modalview")).filter(":visible").each(function(){n.widgetInstance(e(this),o).close()})},navigateToInitial:function(){var e=this.options.initial;return e&&this.navigate(e),e},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[p,h,f],append:function(e){return this.viewEngine.append(e)},destroy:function(){a.fn.destroy.call(this),this.viewEngine.destroy(),this.userEvents.destroy()},navigate:function(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyNavigate(e)},replace:function(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyReplace(e)},bindToRouter:function(e){var t=this,i=this.history,r=this.viewEngine;e.bind("init",function(t){var o,a=t.url,s=e.pushState?a:"/";r.rootView.attr(n.attr("url"),s),o=i.length,"/"===a&&o&&(e.navigate(i[o-1],!0),t.preventDefault())}),e.bind("routeMissing",function(e){t.historyCallback(e.url,e.params,e.backButtonPressed)||e.preventDefault()}),e.bind("same",function(){t.trigger(f)}),t._historyNavigate=function(t){e.navigate(t)},t._historyReplace=function(t){e.replace(t)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(e){this.loader.changeMessage(e)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var e,t=this.options.portraitWidth;t&&(e=n.mobile.application.element.is(".km-vertical")?t:"auto",this.element.css("width",e))},_setupAppLinks:function(){var t=this,i="[data-"+n.ns+"navigate-on-press]",o=e.map(["button","backbutton","detailbutton","listview-link"],function(e){return r(e)+":not("+i+")"}).join(",");this.element.handler(this).on("down",r("tab")+","+i,"_mouseup").on("click",r("tab")+","+o+","+i,"_appLinkClick"),this.userEvents=new n.UserEvents(this.element,{fastTap:!0,filter:o,tap:function(e){e.event.currentTarget=e.touch.currentTarget,t._mouseup(e.event)}}),this.element.css("-ms-touch-action","")},_appLinkClick:function(t){var n=e(t.currentTarget).attr("href");n&&"#"!==n[0]&&this.options.serverNavigation||v(e(t.currentTarget),"rel")==d||t.preventDefault()},_mouseup:function(t){if(!(t.which>1||t.isDefaultPrevented())){var r=this,a=e(t.currentTarget),s=v(a,"transition"),l=v(a,"rel")||"",c=v(a,"target"),p=a.attr(u),h=m&&0===a[0].offsetHeight,f=p&&"#"!==p[0]&&this.options.serverNavigation;h||f||l===d||void 0===p||"#!"===p||(a.attr(u,"#!"),setTimeout(function(){a.attr(u,p)}),l.match(_)?(n.widgetInstance(e(p),o).openFor(a),"actionsheet"!==l&&"drawer"!==l||t.stopPropagation()):("_top"===c?r=i.application.pane:c&&(r=e("#"+c).data("kendoMobilePane")),r.navigate(p,s)),t.preventDefault())}}});b.wrap=function(e){e.is(r("view"))||(e=e.wrap("<div data-"+n.ns+'role="view" data-stretch="true"></div>').parent());var t=e.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),i=new b(t);return i.navigate(""),i},o.plugin(b)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.mobile.popover.min",["kendo.popup.min","kendo.mobile.pane.min"],e)}(function(){return function(e,t){var n=window.kendo,i=n.mobile.ui,r="hide",o="open",a="close",s=i.Widget,l={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},c={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},d={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},u={up:"down",down:"up",left:"right",right:"left"},p=s.extend({init:function(t,i){var o,a,u=this,p=t.closest(".km-modalview-wrapper"),h=t.closest(".km-root").children(".km-pane").first(),f=p[0]?p:h;i.viewport?h=i.viewport:h[0]||(h=window),i.container?f=i.container:f[0]||(f=document.body),o={viewport:h,copyAnchorStyles:!1,autosize:!0,open:function(){u.overlay.show()},activate:e.proxy(u._activate,u),deactivate:function(){u.overlay.hide(),u._apiCall||u.trigger(r),u._apiCall=!1}},s.fn.init.call(u,t,i),t=u.element,i=u.options,t.wrap('<div class="km-popup-wrapper" />').addClass("km-popup").show(),a=u.options.direction.match(/left|right/)?"horizontal":"vertical",u.dimensions=d[a],u.wrapper=t.parent().css({width:i.width,height:i.height}).addClass("km-popup-wrapper km-"+i.direction).hide(),u.arrow=e('<div class="km-popup-arrow" />').prependTo(u.wrapper).hide(),u.overlay=e('<div class="km-popup-overlay" />').appendTo(f).hide(),o.appendTo=u.overlay,i.className&&u.overlay.addClass(i.className),u.popup=new n.ui.Popup(u.wrapper,e.extend(!0,o,c,l[i.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[r],show:function(t){this.popup.options.anchor=e(t),this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){s.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var t=this,n=t.options.direction,i=t.dimensions,r=i.offset,o=t.popup,a=o.options.anchor,s=e(a).offset(),l=e(o.element).offset(),c=o.flipped?u[n]:n,d=2*t.arrow[i.size](),p=t.element[i.size]()-t.arrow[i.size](),h=e(a)[i.size](),f=s[r]-l[r]+h/2;f<d&&(f=d),f>p&&(f=p),t.wrapper.removeClass("km-up km-down km-left km-right").addClass("km-"+c),t.arrow.css(r,f).show()}}),h=s.extend({init:function(t,r){var o,l=this;l.initialOpen=!1,s.fn.init.call(l,t,r),o=e.extend({className:"km-popover-root",hide:function(){l.trigger(a)}},this.options.popup),l.popup=new p(l.element,o),l.popup.overlay.on("move",function(e){e.target==l.popup.overlay[0]&&e.preventDefault()}),l.pane=new i.Pane(l.element,e.extend(this.options.pane,{$angular:this.options.$angular})),n.notify(l,i)},options:{name:"PopOver",popup:{},pane:{}},events:[o,a],open:function(e){this.popup.show(e),this.initialOpen?this.pane.view()._invokeNgController():(this.pane.navigateToInitial()||this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},openFor:function(e){this.open(e),this.trigger(o,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){s.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),n.destroy(this.element)}});i.plugin(p),i.plugin(h)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.mobile.shim.min",["kendo.popup.min"],e)}(function(){return function(e,t){var n=window.kendo,i=n.mobile.ui,r=n.ui.Popup,o="hide",a=i.Widget,s=a.extend({init:function(t,i){var s=this,l=n.mobile.application,c=n.support.mobileOS,d=l?l.os.name:c?c.name:"ios",u="ios"===d||"wp"===d||!!l&&l.os.skin,p="blackberry"===d,h=i.align||(u?"bottom center":p?"center right":"center center"),f=i.position||(u?"bottom center":p?"center right":"center center"),g=i.effect||(u?"slideIn:up":p?"slideIn:left":"fade:in"),m=e('<div class="km-shim"/>').handler(s).hide();a.fn.init.call(s,t,i),s.shim=m,t=s.element,(i=s.options).className&&s.shim.addClass(i.className),i.modal||s.shim.on("down","_hide"),(l?l.element:e(document.body)).append(m),s.popup=new r(s.element,{anchor:m,modal:!0,appendTo:m,origin:h,position:f,animation:{open:{effects:g,duration:i.duration},close:{duration:i.duration}},close:function(e){var t=!1;s._apiCall||(t=s.trigger(o)),t&&e.preventDefault(),s._apiCall=!1},deactivate:function(){m.hide()},open:function(){m.show()}}),n.notify(s)},events:[o],options:{name:"Shim",modal:!1,align:t,position:t,effect:t,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){a.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()},_hide:function(t){t&&e.contains(this.shim.children().children(".k-popup")[0],t.target)||this.popup.close()}});i.plugin(s)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.mobile.actionsheet.min",["kendo.mobile.popover.min","kendo.mobile.shim.min"],e)}(function(){return function(e,t){var n=window.kendo,i=n.support,r=n.mobile.ui,o=r.Shim,a=r.Popup,s=r.Widget,l="open",c="close",d="command",u="li>a",p=n.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),h=s.extend({init:function(t,l){var c,d,h,f=this,g=i.mobileOS;s.fn.init.call(f,t,l),h=(l=f.options).type,t=f.element,c=(d="auto"===h?g&&g.tablet:"tablet"===h)?a:o,l.cancelTemplate&&(p=n.template(l.cancelTemplate)),t.addClass("km-actionsheet").append(p({cancel:f.options.cancel})).wrap('<div class="km-actionsheet-wrapper" />').on("up",u,"_click").on("click",u,n.preventDefault),f.view().bind("destroy",function(){f.destroy()}),f.wrapper=t.parent().addClass(h?" km-actionsheet-"+h:""),f.shim=new c(f.wrapper,e.extend({modal:g.ios&&g.majorVersion<7,className:"km-actionsheet-root"},f.options.popup)),f._closeProxy=e.proxy(f,"_close"),f._shimHideProxy=e.proxy(f,"_shimHide"),f.shim.bind("hide",f._shimHideProxy),d&&n.onResize(f._closeProxy),n.notify(f,r)},events:[l,c,d],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(t,n){var i=this;i.target=e(t),i.context=n,i.shim.show(t)},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(e){var t=this,n=e.data("actionsheetContext");t.open(e,n),t.trigger(l,{target:e,context:n})},destroy:function(){s.fn.destroy.call(this),n.unbindResize(this._closeProxy),this.shim.destroy()},_click:function(t){var i,r,o,a;t.isDefaultPrevented()||(i=e(t.currentTarget),(r=i.data("action"))&&(o={target:this.target,context:this.context},a=this.options.$angular,a?this.element.injector().get("$parse")(r)(a[0])(o):n.getter(r)(window)(o)),this.trigger(d,{target:this.target,context:this.context,currentTarget:i}),t.preventDefault(),this._close())},_shimHide:function(e){this.trigger(c)?e.preventDefault():this.context=this.target=null},_close:function(e){this.trigger(c)?e.preventDefault():this.close()}});r.plugin(h)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("util/text-metrics.min",["kendo.core.min"],e)}(function(){!function(e){function t(e){return(e+"").replace(a,s)}function n(e){var t,n=[];for(t in e)n.push(t+e[t]);return n.sort().join("")}function i(e){var t,n=2166136261;for(t=0;t<e.length;++t)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=e.charCodeAt(t);return n>>>0}function r(e,t,n){return d.current.measure(e,t,n)}var o,a,s,l,c,d;window.kendo.util=window.kendo.util||{},o=kendo.Class.extend({init:function(e){this._size=e,this._length=0,this._map={}},put:function(e,t){var n=this._map,i={key:e,value:t};n[e]=i,this._head?(this._tail.newer=i,i.older=this._tail,this._tail=i):this._head=this._tail=i,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(e){var t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}}),a=/\r?\n|\r|\t/g,s=" ",l={baselineMarkerSize:1},"undefined"!=typeof document&&(c=document.createElement("div"),c.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"),(d=kendo.Class.extend({init:function(t){this._cache=new o(1e3),this.options=e.extend({},l,t)},measure:function(e,r,o){var a,s,l,d,u,p,h,f,g;if(void 0===o&&(o={}),!e)return{width:0,height:0,baseline:0};if(a=n(r),s=i(e+a),l=this._cache.get(s))return l;d={width:0,height:0,baseline:0},u=o.box||c,p=this._baselineMarker().cloneNode(!1);for(h in r)void 0!==(f=r[h])&&(u.style[h]=f);return g=!1!==o.normalizeText?t(e):e+"",u.textContent=g,u.appendChild(p),document.body.appendChild(u),g.length&&(d.width=u.offsetWidth-this.options.baselineMarkerSize,d.height=u.offsetHeight,d.baseline=p.offsetTop+this.options.baselineMarkerSize),d.width>0&&d.height>0&&this._cache.put(s,d),u.parentNode.removeChild(u),d},_baselineMarker:function(){var e=document.createElement("div");return e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",e}})).current=new d,kendo.deepExtend(kendo.util,{LRUCache:o,TextMetrics:d,measureText:r,objectKey:n,hashKey:i,normalizeText:t})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()}),function(e,t){t("kendo.grid.min",["kendo.data.min","kendo.columnsorter.min","kendo.editable.min","kendo.window.min","kendo.filtermenu.min","kendo.columnmenu.min","kendo.groupable.min","kendo.pager.min","kendo.selectable.min","kendo.sortable.min","kendo.reorderable.min","kendo.resizable.min","kendo.mobile.actionsheet.min","kendo.mobile.pane.min","kendo.ooxml.min","kendo.excel.min","kendo.progressbar.min","kendo.pdf.min"],e)}(function(){return function(e,t){function n(e,t){return"["+ge.attr(e)+"="+t+"]"}function i(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function r(e){var t,n=" ";if(e){if(typeof e===Et)return e;for(t in e)""!==e[t]&&(n+=t+'="'+e[t]+'"')}return n}function o(t,n){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",n)}function a(t,n,i,r,o){var a,s=n;for(n=e(),o=o||1,a=0;a<o;a++)n=n.add(t.eq(s+a));"number"==typeof i?n[r?"insertBefore":"insertAfter"](t.eq(i)):n.appendTo(i)}function s(t,n,i){return e(t).add(n).find(i)}function l(e,t,n){var i,r,o,a;for(i=0,r=(n=He(n)?n:[n]).length;i<r;i++)o=n[i],Se(o)&&o.click&&(a=o.name||o.text,t.on(Tt+$e,"a.k-grid-"+(a||"").replace(/\s/g,""),{commandName:a},Fe(o.click,e)))}function c(e,t,n){return De(e,function(e){var i,r;return e=typeof e===Et?{field:e}:e,f(e)&&!n||(e.attributes=j(e.attributes),e.footerAttributes=j(e.footerAttributes),e.headerAttributes=j(e.headerAttributes),i=!0),e.columns&&(e.columns=c(e.columns,t,i)),r=ge.guid(),e.headerAttributes=Te({id:r},e.headerAttributes),Te({encoded:t,hidden:i},e)})}function d(e,t){var n=[];return u(e,t,n),n[n.length-1]}function u(e,t,n){var i,r;for(n=n||[],i=0;i<t.length;i++){if(e===t[i])return!0;if(t[i].columns){if(r=n.length,n.push(t[i]),u(e,t[i].columns,n))return!0;n.splice(r,n.length-r)}}return!1}function p(e,t){var n=t?$:j;e.hidden=!t,e.attributes=n(e.attributes),e.footerAttributes=n(e.footerAttributes),e.headerAttributes=n(e.headerAttributes)}function h(){return"none"!==this.style.display}function f(e){return g([e]).length>0}function g(e){return Ie(e,function(e){var t=!e.hidden;return t&&e.columns&&(t=g(e.columns).length>0),t})}function m(t){return e(t).map(function(){return this.toArray()})}function _(e,t,n){var i=k(O(t)),r=k(z(t)),o=e.rowSpan;e.rowSpan=n?i>r?o-(i-r)||1:o+(r-i):i>r?o+(i-r):o-(r-i)||1}function v(t,n,i,r,o,a,s){var l,c,d=k(t),u=k([n]);d>u&&(l=Array(s+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>'),c=a.children(":not(.k-filter-row)"),e(Array(d-u+1).join("<tr>"+l+"</tr>")).insertAfter(c.last())),F(a,d-u),w(i,r,o,a)}function b(t,n,i){var r,o,a,s,l,c,d;for(i=i||0,o=n,n=N(n),a={},s=t.find(">tr:not(.k-filter-row)"),l=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},c=0,d=n.length;c<d;c++)r=y(n[c],o),a[r.row]||(a[r.row]=s.eq(r.row).find(".k-header").filter(l)),a[r.row].eq(r.cell).attr(ge.attr("index"),i+c);return n.length}function k(e){var t,n,i=0;for(t=0;t<e.length;t++)e[t].columns&&(n=k(e[t].columns))>i&&(i=n);return 1+i}function w(t,n,i,r){var o,a,s=S(t[0],n),l=i.find(">tr:not(.k-filter-row):eq("+s.row+")>th.k-header"),c=e(),d=s.cell;for(o=0;o<t.length;o++)c=c.add(l.eq(d+o));for(r.find(">tr:not(.k-filter-row)").eq(s.row).append(c),a=[],o=0;o<t.length;o++)t[o].columns&&(a=a.concat(t[o].columns));a.length&&w(a,n,i,r)}function y(e,t,n,i){var r,o;for(n=n||0,(i=i||{})[n]=i[n]||0,o=0;o<t.length;o++){if(t[o]==e){r={cell:i[n],row:n};break}if(t[o].columns&&(r=y(e,t[o].columns,n+1,i)))break;i[n]++}return r}function x(e,t,n,i){var r,o,a=!!n.locked;do{r=e[t],t+=i?1:-1,o=!!r.locked}while(r&&t>-1&&t<e.length&&r!=n&&!r.columns&&o===a);return r}function C(e,t,n,i,r){var o,a,s,l,c;return t.columns?(t=t.columns)[i?0:t.length-1]:(o=d(t,e),a=o?o.columns:e,s=Ee(t,a),0===s&&i?s++:s!=a.length-1||i?(s>0||0===s&&!i)&&(s+=i?-1:1):s--,l=Ee(n,a),t=x(a,s,n,l>s),c=Ee(t,r),(!t.columns||c&&c!==a.length-1)&&t&&t!=n&&t.columns?C(e,t,n,i,r):null)}function S(e,t,n,i){var r,o;for(n=n||0,(i=i||{})[n]=i[n]||0,o=0;o<t.length;o++){if(t[o]==e){r={cell:i[n],row:n};break}if(t[o].columns&&(r=S(e,t[o].columns,n+1,i)))break;t[o].hidden||i[n]++}return r}function T(e){return I(O(e)).concat(I(z(e)))}function D(e,t,n,i){var r=e[n],o=e[i],a=d(r,t);return t=a?a.columns:t,Ee(o,t)}function I(e){var t,n=[],i=[];for(t=0;t<e.length;t++)n.push(e[t]),e[t].columns&&(i=i.concat(e[t].columns));return i.length&&(n=n.concat(I(i))),n}function H(e){var t,n,i=0;for(n=0;n<e.length;n++)t=e[n],t.columns?i+=H(t.columns):t.hidden&&i++;return i}function E(e){var t,n,i,r=0;for(n=0,i=e.length;n<i;n++)(t=e[n].style.width)&&-1==t.indexOf("%")&&(r+=parseInt(t,10));return r}function M(e,t){var n,i,r=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(i=0;i<r.length;i++)(n=r[i].rowSpan)>1&&(r[i].rowSpan=n-t||1)}function F(e,t){var n,i=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(n=0;n<i.length;n++)i[n].rowSpan+=t}function A(t){var n,i=t.find("tr:not(.k-filter-row)"),r=i.filter(function(){return!e(this).children().length}).remove().length,o=i.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(n=0;n<o.length;n++)o[n].rowSpan>1&&(o[n].rowSpan-=r);return i.length-r}function P(e,t,n,i,r){var o,a,s,l=[];for(o=0,s=e.length;o<s;o++)(a=n[i]||[]).push(t.eq(r+o)),n[i]=a,e[o].columns&&(l=l.concat(e[o].columns));l.length&&P(l,t,n,i+1,r+e.length)}function O(e){return Ie(e,function(e){return e.locked})}function z(e){return Ie(e,function(e){return!e.locked})}function R(e){return Ie(e,function(e){return!e.locked&&f(e)})}function L(e){return Ie(e,function(e){return e.locked&&f(e)})}function V(e){var t,n=[];for(t=0;t<e.length;t++)e[t].hidden||(e[t].columns?n=n.concat(V(e[t].columns)):n.push(e[t]));return n}function N(e){var t,n=[];for(t=0;t<e.length;t++)e[t].columns?n=n.concat(N(e[t].columns)):n.push(e[t]);return n}function B(n){var i,r=n.find(">tr:not(.k-filter-row)"),o=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},a=e();return r.length>1&&(a=r.find("th").filter(o).filter(function(){return this.rowSpan>1})),a=a.add(r.last().find("th").filter(o)),i=ge.attr("index"),a.sort(function(n,r){var o,a;return n=e(n),r=e(r),o=n.attr(i),a=r.attr(i),o===t&&(o=e(n).index()),a===t&&(a=e(r).index()),o=parseInt(o,10),a=parseInt(a,10),o>a?1:o<a?-1:0}),a}function W(t){var n,i,r,o,a,s,l=t.closest("table"),c=e().add(t),d=t.closest("tr"),u=l.find("tr:not(.k-filter-row)"),p=u.index(d);if(p>0){for(n=u.eq(p-1).find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!e(this).attr("rowspan")}),i=0,r=d.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t),o=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1}),a=0;a<o.length;a++)i+=o[a].colSpan||1;for(r+=Math.max(i-1,0),i=0,a=0;a<n.length;a++)if(s=n.eq(a),i+=s.attr("data-colspan")?s[0].getAttribute("data-colspan"):1,r>=a&&r<i){c=W(s).add(c);break}}return c}function q(t){var n,i,r,o,a,s,l,c=t.closest("thead"),d=e().add(t),u=t.closest("tr"),p=c.find("tr:not(.k-filter-row)"),h=p.index(u)+t[0].rowSpan,f=ge.attr("colspan");if(h<=p.length-1){for(n=u.next(),i=(i=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)")).filter(function(){return!this.rowSpan||1===this.rowSpan}),o=0,r=0;r<i.length;r++)o+=parseInt(i.eq(r).attr(f),10)||1;for(a=n.find("th:not(.k-group-cell,.k-hierarchy-cell)"),s=parseInt(t.attr(f),10)||1,r=0;r<s;)n=a.eq(r+o),d=d.add(q(n)),(l=parseInt(n.attr(f),10))>1&&(s-=l-1),r++}return d}function U(t,n,i,r){var o,a=t;return r&&t.empty(),be?t[0].innerHTML=i:(o=document.createElement("div"),o.innerHTML="<table><tbody>"+i+"</tbody></table>",t=o.firstChild.firstChild,n[0].replaceChild(t,a[0]),t=e(t)),t}function j(e){var t=(e=e||{}).style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"))===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1")):t="display:none",Te({},e,{style:t})}function $(e){var t=(e=e||{}).style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function G(t,n,i,r){var o,a=t.find(">colgroup"),s=De(n,function(e){return o=e.width,o&&0!==parseInt(o,10)?ge.format('<col style="width:{0}"/>',typeof o===Et?o:o+"px"):"<col />"});(i||a.find(".k-hierarchy-col").length)&&s.splice(0,0,'<col class="k-hierarchy-col" />'),a.length&&a.remove(),(a=e(Array(r+1).join('<col class="k-group-col">')+s.join(""))).is("colgroup")||(a=e("<colgroup/>").append(a)),t.prepend(a),Bt.msie&&8==Bt.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function Y(e,t){var n,i,r=0,o=e.find("th:not(.k-group-cell)");for(n=0,i=t.length;n<i;n++)t[n].locked&&(o.eq(n).insertBefore(o.eq(r)),o=e.find("th:not(.k-group-cell)"),r++)}function K(e){var t,n,i,r={};for(n=0,i=e.length;n<i;n++)t=e[n],r[t.value]=t.text;return r}function Q(e,t,n,i){var r=n&&n.length&&Se(n[0])&&"value"in n[0]?K(n)[e]:e;return r=null!=r?r:"",t?ge.format(t,r):!1===i?r:ge.htmlEncode(r)}function J(e,t,n){for(var i=0,r=e[i];r;){if((!!n||"none"!==r.style.display)&&!Lt.test(r.className)&&--t<0){r.style.display=n?"":"none";break}r=e[++i]}}function X(t,n){for(var i,r,o=0,a=t.length;o<a;o+=1)r=t.eq(o),r.is(".k-grouping-row,.k-detail-row")?(i=r.children(":not(.k-group-cell):first,.k-detail-cell").last()).attr("colspan",parseInt(i.attr("colspan"),10)-1):(r.hasClass("k-grid-edit-row")&&(i=r.children(".k-edit-container")[0])&&((i=e(i)).attr("colspan",parseInt(i.attr("colspan"),10)-1),i.find("col").eq(n).remove(),r=i.find("tr:first")),J(r[0].cells,n,!1))}function Z(e){var t,n,i=[];for(n=0;n<e.length&&"field"in(t=e[n])&&"value"in t&&"items"in t;n++)i.push(t),t.hasSubgroups&&(i=i.concat(Z(t.items)));return i}function ee(e){var t,n,i=[];for(n=0;n<e.length&&"field"in(t=e[n])&&"value"in t&&"items"in t;n++)t.hasSubgroups&&(i=i.concat(ee(t.items))),i.push(t.aggregates);return i}function te(t,n){for(var i,r,o=0,a=t.length;o<a;o+=1)r=t.eq(o),r.is(".k-grouping-row,.k-detail-row")?(i=r.children(":not(.k-group-cell):first,.k-detail-cell").last()).attr("colspan",parseInt(i.attr("colspan"),10)+1):(r.hasClass("k-grid-edit-row")&&(i=r.children(".k-edit-container")[0])&&((i=e(i)).attr("colspan",parseInt(i.attr("colspan"),10)+1),G(i.find(">form>table"),g(void 0),!1,0),r=i.find("tr:first")),J(r[0].cells,n,!0))}function ne(e,t,n){n=n||1;var i,r,o;for(r=0,o=e.length;r<o;r++)(i=e.eq(r).children().last()).attr("colspan",parseInt(i.attr("colspan"),10)+n),(i=t.eq(r).children().last()).attr("colspan",parseInt(i.attr("colspan"),10)-n)}function ie(e){var t,n,i=0,r=e.find(">colgroup>col");for(t=0,n=r.length;t<n;t+=1)i+=parseInt(r[t].style.width,10);return i}function re(e,t){var n,i,r,o;e=e[0],t=t[0],e.rows.length!==t.rows.length&&(n=e.offsetHeight,i=t.offsetHeight,n>i?(r=t.rows[t.rows.length-1],Vt.test(r.className)&&(r=t.rows[t.rows.length-2]),o=n-i):(r=e.rows[e.rows.length-1],Vt.test(r.className)&&(r=e.rows[e.rows.length-2]),o=i-n),r.style.height=r.offsetHeight+o+"px")}function oe(e,t){var n,i=e.offsetHeight,r=t.offsetHeight;i>r?n=i+"px":i<r&&(n=r+"px"),n&&(e.style.height=t.style.height=n)}function ae(e,t){var n,i,r;if(typeof e===Et&&e===t)return e;if(Se(e)&&e.name===t)return e;if(He(e))for(n=0,i=e.length;n<i;n++)if(typeof(r=e[n])===Et&&r===t||r.name===t)return r;return null}function se(t,n){if(!0===n){var i=(t=e(t)).parent().scrollLeft();ge.focusElement(t),t.parent().scrollLeft(i)}else e(t).one("focusin",function(e){e.preventDefault()}).focus()}function le(e,t){return!(!e.field||e.selectable||t.editable&&!t.editable(e.field)||e.editable&&!e.editable(t))}function ce(t){return e(t).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown")}function de(n){var i=e(n.currentTarget),r=i.is("th"),o=this.table.add(this.lockedTable),a=this.thead.parent().add(e(">table",this.lockedHeader)),s=ce(n.target),l=e(n.target),c=i.closest("table")[0];return s&&i.find(ge.roleSelector("filtercell")).length?(this._setCurrent(i),t):(c!==o[0]&&c!==o[1]&&c!==a[0]&&c!==a[1]||l.is("a.k-i-expand, a.k-i-collapse")||(this.options.navigatable&&this._setCurrent(i),!r&&s||setTimeout(function(){qt&&e(ge._activeElement()).hasClass("k-widget")||ce(ge._activeElement())&&e.contains(c,ge._activeElement())||se(c,!0)}),r&&n.preventDefault()),t)}function ue(e,t){if(!t)return 0;var n=0;return ge.support.browser.webkit&&(n=e.width()),n}function pe(e){return e&&(e.hasClass("k-edit-cell")||e.parent().hasClass("k-grid-edit-row"))}function he(e,t,n){return'<tr role="row" class="k-grouping-row">'+i(t)+'<td colspan="'+e+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1" '+Pt+'="'+Ft+'"></a>'+n+"</p></td></tr>"}function fe(e){return'<tr role="row" class="k-grouping-row"><td colspan="'+e+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}var ge=window.kendo,me=ge.ui,_e=ge.data.DataSource,ve=ge.data.ObservableObject,be=ge.support.tbodyInnerHtml,ke=ge._activeElement,we=me.Widget,ye=ge._outerWidth,xe=ge._outerHeight,Ce=ge.keys,Se=e.isPlainObject,Te=e.extend,De=e.map,Ie=e.grep,He=e.isArray,Ee=e.inArray,Me=Array.prototype.push,Fe=e.proxy,Ae=ge.isFunction,Pe=e.isEmptyObject,Oe=e.contains,ze=Math,Re="progress",Le="error",Ve=":not(.k-group-cell):not(.k-hierarchy-cell):visible",Ne="tr:not(.k-footer-template):visible",Be=":not(.k-group-cell):not(.k-hierarchy-cell):visible",We="tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible",qe=We+":first",Ue=Ne+":first>"+Be+":first",je="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",$e=".kendoGrid",Ge="edit",Ye="beforeEdit",Ke="save",Qe="remove",Je="detailInit",Xe="filterMenuInit",Ze="columnMenuInit",et="filterMenuOpen",tt="columnMenuOpen",nt="cellClose",it="change",rt="columnHide",ot="columnShow",at="saveChanges",st="dataBound",lt="detailExpand",ct="detailCollapse",dt="itemchange",ut="page",pt="paging",ht="scroll",ft="sync",gt="k-state-focused",mt=":kendoFocusable",_t="k-state-selected",vt="k-checkbox",bt="input[data-role='checkbox']."+vt,kt="k-grid-norecords",wt="columnResize",yt="columnReorder",xt="columnLock",Ct="columnUnlock",St="navigate",Tt="click",Dt="height",It="tabIndex",Ht="function",Et="string",Mt="container-for",Ft="Collapse",At="Expand",Pt="aria-label",Ot=/(\}|\#)/gi,zt=/#/gi,Rt="[\\x20\\t\\r\\n\\f]",Lt=RegExp("(^|"+Rt+")(k-group-cell|k-hierarchy-cell)("+Rt+"|$)"),Vt=RegExp("(^|"+Rt+")(k-filter-row)("+Rt+"|$)"),Nt=!1,Bt=ge.support.browser,Wt=Bt.msie&&7==Bt.version,qt=Bt.msie&&8==Bt.version,Ut=Bt.msie&&11===Bt.version,jt=we.extend({init:function(e,t){var n=this;we.fn.init.call(n,e,t),n._refreshHandler=Fe(n.refresh,n),n.setDataSource(t.dataSource),n.wrap()},setDataSource:function(e){var t=this;t.dataSource&&t.dataSource.unbind(it,t._refreshHandler),t.dataSource=e,t.dataSource.bind(it,t._refreshHandler),t.dataSource.options.useRanges=!0},options:{name:"VirtualScrollable",itemHeight:e.noop,prefetch:!0,maxScrollHeight:25e4},events:[pt,ut,ht],destroy:function(){var e=this;we.fn.destroy.call(e),e.dataSource.unbind(it,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off($e),e.drag&&(e.drag.destroy(),e.drag=null),e.wrapper=e.element=e.verticalScrollbar=null,e._refreshHandler=null},wrap:function(){var t,n=this,i=ge.support.scrollbar()+1,r=n.element;r.css({width:"auto",overflow:"hidden"}).css(Nt?"padding-left":"padding-right",i),n.content=r.children().first(),t=n.wrapper=n.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+$e+" mousewheel"+$e,Fe(n._wheelScroll,n)),n._wrapper(),ge.support.kineticScrollNeeded&&(n.drag=new ge.UserEvents(n.wrapper,{global:!0,allowSelection:!0,start:function(e){e.sender.capture()},move:function(e){n.verticalScrollbar.scrollTop(n.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),n.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:i}).appendTo(r).bind("scroll"+$e,Fe(n._scroll,n))},_wrapper:function(){var e=this;Ut&&(e.wrapper.css({"overflow-y":ht}),e.element.css(Nt?"padding-left":"padding-right",0))},_wheelScroll:function(e){if(!e.ctrlKey){var t=this.verticalScrollbar,n=t.scrollTop(),i=ge.wheelDeltaY(e);!i||i>0&&0===n||i<0&&n+t[0].clientHeight==t[0].scrollHeight||(e.preventDefault(),this.verticalScrollbar.scrollTop(n+-i))}},_scroll:function(e){var n=this,i=!n.options.prefetch,r=e.currentTarget.scrollTop,o=n.dataSource,a=n.itemHeight,s=o.skip()||0,l=n._rangeStart||s,c=n.element.innerHeight(),d=!!(n._scrollbarTop&&n._scrollbarTop>r),u=ze.max(ze.floor(r/a),0),p=d?ze.ceil(c/a):ze.floor(c/a),h=ze.max(u+p,0);return n._preventScroll?(n._preventScroll=!1,t):(n._scrollTop=r-l*a,n._scrollbarTop=r,n._scrolling=i,n._fetch(u,h,d)||(n.wrapper[0].scrollTop=n._scrollTop),n.trigger(ht),i&&(n._scrollingTimeout&&clearTimeout(n._scrollingTimeout),n._scrollingTimeout=setTimeout(function(){n._scrolling=!1,n._page(n._rangeStart,n.dataSource.take())},100)),t)},scrollToTop:function(){this._scrollTo(0)},scrollToBottom:function(){var e=this.verticalScrollbar;this._scrollTo(e[0].scrollHeight-e.height())},_scrollWrapperToTop:function(){this.wrapper.scrollTop(0)},_scrollWrapperToBottom:function(){this.wrapper.scrollTop(this.wrapper[0].scrollHeight)},_scrollWrapperOnColumnResize:function(){var e=this,t=this.wrapper,n=t.scrollTop();t[0].scrollWidth>t[0].clientWidth?e._wrapperScrolled&&!e._isScrolledToBottom()||(t.scrollTop(n+ge.support.scrollbar()),e._scrollTop=t.scrollTop(),e._wrapperScrolled=!0):e._wrapperScrolled&&(e._isWrapperScrolledToBottom()||(t.scrollTop(n-ge.support.scrollbar()),e._scrollTop=t.scrollTop()),e._wrapperScrolled=!1)},_scrollTo:function(e){var t=this,n=t.verticalScrollbar;n.scrollTop()!==e&&(t._preventScroll=!0),t.wrapper.scrollTop(e),t._scrollTop=t.wrapper.scrollTop(),n.scrollTop(e),t._scrollbarTop=n.scrollTop()},_isScrolledToTop:function(){return 0===this.verticalScrollbar.scrollTop()},_isScrolledToBottom:function(){var e=this.verticalScrollbar,t=e.scrollTop();return t>0&&t>=parseInt(e[0].scrollHeight-e.height(),10)},_isWrapperScrolledToBottom:function(){var e=this.wrapper;return e.scrollTop()>=parseInt(e[0].scrollHeight-e.height(),10)},itemIndex:function(e){return(this._rangeStart||this.dataSource.skip()||0)+e},_isElementVisible:function(e){return this._isElementVisibleInWrapper(e)},_isElementVisibleInWrapper:function(t){var n,i,r=this.wrapper;return!!((t=e(t))[0]&&Oe(r[0],t[0])&&(n=t.offset().top-r.offset().top,i=t.outerHeight()/2,(n>=0||ze.abs(n)<=i)&&ze.floor(n+i)<=r.height()))},position:function(e){var t,n=this._rangeStart||this.dataSource.skip()||0,i=this.dataSource.pageSize();return t=e>n?e-n+1:n-e-1,t>i?i:t},scrollIntoView:function(e){var t=this.wrapper[0],n=t.clientHeight,i=this._isScrolledToBottom()?t.scrollTop:this._scrollTop||t.scrollTop,r=e[0].offsetTop,o=e[0].offsetHeight;i>r?this.verticalScrollbar[0].scrollTop-=n/2:r+o>=i+n&&(this.verticalScrollbar[0].scrollTop+=n/2)},_fetch:function(t,n,i){var r=this,o=r.dataSource,a=r.itemHeight,s=o.take(),l=r._rangeStart||o.skip()||0,c=ze.floor(t/s)*s,d=!1,u=r.verticalScrollbar,p=Bt.webkit?1:0;return t<l?(d=!0,l=ze.max(0,n-s),r._scrollTop=u.scrollTop()-l*a,r._page(l,s)):n>=l+s&&!i?(d=!0,l=ze.min(t,o.total()-s),r._scrollTop=u.scrollTop()>=u[0].scrollHeight-u.height()-p?r.wrapper[0].scrollHeight-r.wrapper.height():a,r._page(l,s)):!r._fetching&&r.options.prefetch&&(t<c+s-.33*s&&t>s&&o.prefetch(c-s,s,e.noop),n>c+.33*s&&o.prefetch(c+s,s,e.noop)),d},fetching:function(){return this._fetching},_page:function(t,n,i){var r=this,o=!r.options.prefetch,a=r.dataSource;i=Ae(i)?i:e.noop,r.trigger(pt,{skip:t,take:n})||(clearTimeout(r._timeout),r._fetching=!0,r._rangeStart=t,a.inRange(t,n)?(ge.ui.progress(e(r.wrapper).parent(),!0),a.range(t,n,function(){ge.ui.progress(e(r.wrapper).parent(),!1),i(),r.trigger(ut)})):(o||ge.ui.progress(r.wrapper.parent(),!0),r._timeout=setTimeout(function(){r._scrolling||(o&&ge.ui.progress(r.wrapper.parent(),!0),a.range(t,n,function(){ge.ui.progress(r.wrapper.parent(),!1),i(),r.trigger(ut)}))},100)))},repaintScrollbar:function(e){var n,i=this,r="",o=i.options.maxScrollHeight,a=i.dataSource,s=ge.support.kineticScrollNeeded?0:ge.support.scrollbar(),l=i.wrapper[0],c=i._isScrolledToBottom(),d=i.itemHeight=i.options.itemHeight()||0,u=l.scrollWidth>l.offsetWidth?s:0,p=a.total()*d+u;for(n=0;n<ze.floor(p/o);n++)r+='<div style="width:1px;height:'+o+'px"></div>';p%o&&(r+='<div style="width:1px;height:'+p%o+'px"></div>'),i.verticalScrollbar.html(r),c&&!i._isScrolledToBottom()&&i.scrollToBottom(),t!==i._scrollTop&&e&&(l.scrollTop=i._scrollTop,i._scrollWrapperOnColumnResize())},refresh:function(e){var n=this,i=n.dataSource,r=n._rangeStart,o=(e||{}).action,a=n._isScrolledToBottom()||!o||o!==dt&&o!==Qe&&o!==ft;ge.ui.progress(n.wrapper.parent(),!1),clearTimeout(n._timeout),n.repaintScrollbar(a),n.drag&&n.drag.cancel(),t===r||n._fetching||((!o||o!==ft&&o!==dt)&&(n._rangeStart=i.skip()),1!==i.page()||o&&(o===ft||o===dt)||(n.verticalScrollbar[0].scrollTop=0)),n._fetching=!1}}),$t={create:{text:"Add new record",className:"k-grid-add",iconClass:"k-icon k-i-plus"},cancel:{text:"Cancel changes",className:"k-grid-cancel-changes",iconClass:"k-icon k-i-cancel"},save:{text:"Save changes",className:"k-grid-save-changes",iconClass:"k-icon k-i-check"},destroy:{text:"Delete",className:"k-grid-delete",iconClass:"k-icon k-i-close"},edit:{text:"Edit",className:"k-grid-edit",iconClass:"k-icon k-i-edit"},update:{text:"Update",className:"k-primary k-grid-update",iconClass:"k-icon k-i-check"},canceledit:{text:"Cancel",className:"k-grid-cancel",iconClass:"k-icon k-i-cancel"},excel:{text:"Export to Excel",className:"k-grid-excel",iconClass:"k-icon k-i-file-excel"},pdf:{text:"Export to PDF",className:"k-grid-pdf",iconClass:"k-icon k-i-file-pdf"}},Gt=ge.ui.DataBoundWidget.extend({init:function(t,n,i){var r=this;n=He(n)?{dataSource:n}:n,we.fn.init.call(r,t,n),i&&(r._events=i),Nt=ge.support.isRtl(t),r._element(),r._aria(),r._columns(e.extend(!0,[],r.options.columns)),r._dataSource(),r._tbody(),r._pageable(),r._thead(),r._groupable(),r._toolbar(),r._setContentHeight(),r._templates(),r._navigatable(),r._selectable(),r._clipboard(),r._details(),r._editable(),r._attachCustomCommandsEvent(),r._minScreenSupport(),r.options.autoBind?r.dataSource.fetch():(r._group=r._groups()>0,r._footer()),r.lockedContent&&(r.wrapper.addClass("k-grid-lockedcolumns"),r._resizeHandler=function(){r.resize()},e(window).on("resize"+$e,r._resizeHandler)),ge.notify(r)},events:[it,"dataBinding","cancel",st,lt,ct,Je,Xe,et,Ze,tt,Ge,Ye,Ke,Qe,at,nt,wt,yt,ot,rt,xt,Ct,St,"page","sort","filter","group","groupExpand","groupCollapse"],setDataSource:function(e){var t,n=this,i=n.options.scrollable;n.options.dataSource=e,n._dataSource(),n._pageable(),n._thead(),i&&(i.virtual?(t=n.content.find(">.k-virtual-scrollable-wrap")).scrollLeft(ue(t,Nt)):(t=n.tbody,n.content.scrollLeft(ue(t,Nt)))),n.options.groupable&&n._groupable(),n.virtualScrollable&&n.virtualScrollable.setDataSource(n.options.dataSource),n.options.navigatable&&n._navigatable(),n.options.selectable&&n._selectable(),n.options.autoBind&&n.dataSource.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,persistSelection:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:"Cancel",confirmation:"Are you sure you want to delete this record?",confirmDelete:"Delete"},commands:{create:$t.create.text,cancel:$t.cancel.text,save:$t.save.text,destroy:$t.destroy.text,edit:$t.edit.text,update:$t.update.text,canceledit:$t.canceledit.text,excel:$t.excel.text,pdf:$t.pdf.text},noRecords:"No records available.",expandCollapseColumnHeader:""}},destroy:function(){var t,n=this;n._angularItems("cleanup"),n._destroyColumnAttachments(),we.fn.destroy.call(n),this._navigatableTables=null,n._resizeHandler&&e(window).off("resize"+$e,n._resizeHandler),n.pager&&n.pager.element&&n.pager.destroy(),n.pager=null,n.groupable&&n.groupable.element&&n.groupable.element.kendoGroupable("destroy"),n.groupable=null,n.options.reorderable&&n.wrapper.data("kendoReorderable").destroy(),n.selectable&&n.selectable.element&&(n.selectable.destroy(),n.clearArea(),n._selectedIds=null,n.copyHandler&&(n.wrapper.off("keydown",n.copyHandler),n.unbind(n.copyHandler)),n.updateClipBoardState&&(n.unbind(n.updateClipBoardState),n.updateClipBoardState=null),n.clearAreaHandler&&n.wrapper.off("keyup",n.clearAreaHandler)),n.selectable=null,n.resizable&&(n.resizable.destroy(),n._resizeUserEvents&&(n._resizeHandleDocumentClickHandler&&e(document).off("click",n._resizeHandleDocumentClickHandler),n._resizeUserEvents.destroy(),n._resizeUserEvents=null),n.resizable=null),n._destroyVirtualScrollable(),n._destroyEditable(),n.dataSource&&(n.dataSource.unbind(it,n._refreshHandler).unbind(Re,n._progressHandler).unbind(Le,n._errorHandler),n._refreshHandler=n._progressHandler=n._errorHandler=null),t=n.element.add(n.wrapper).add(n.table).add(n.thead).add(n.wrapper.find(">.k-grid-toolbar")),n.content&&(t=t.add(n.content).add(n.content.find(">.k-virtual-scrollable-wrap"))),n.lockedHeader&&n._removeLockedContainers(),n.pane&&n.pane.destroy(),n.minScreenResizeHandler&&e(window).off("resize",n.minScreenResizeHandler),n._draggableInstance&&n._draggableInstance.element&&n._draggableInstance.destroy(),n._draggableInstance=null,t.off($e),ge.destroy(n.wrapper),n.rowTemplate=n.altRowTemplate=n.lockedRowTemplate=n.lockedAltRowTemplate=n.detailTemplate=n.footerTemplate=n.groupFooterTemplate=n.lockedGroupFooterTemplate=n.noRecordsTemplate=null,n.scrollables=n.thead=n.tbody=n.element=n.table=n.content=n.footer=n.wrapper=n.lockedTable=n.lockedContent=n.lockedHeader=n.lockedFooter=n._groupableClickHandler=n._groupRows=n._setContentWidthHandler=null},getOptions:function(){var n,i,r;return this.options.dataSource=null,n=Te(!0,{},this.options),n.columns=ge.deepExtend([],this.columns),i=this.dataSource,r=i.options.data&&i._data,i.options.data=null,n.dataSource=e.extend(!0,{},i.options),i.options.data=r,n.dataSource.data=r,n.dataSource.page=i.page(),n.dataSource.filter=i.filter(),n.dataSource.pageSize=i.pageSize(),n.dataSource.sort=i.sort(),n.dataSource.group=i.group(),n.dataSource.aggregate=i.aggregate(),n.dataSource.transport&&(n.dataSource.transport.dataSource=null),n.pageable&&n.pageable.pageSize&&(n.pageable.pageSize=i.pageSize()),n.$angular=t,n},setOptions:function(e){var t,n,i,r,o=this.getOptions();ge.deepExtend(o,e),e.dataSource||(o.dataSource=this.dataSource),t=this.wrapper,n=this._events,i=this.element,this.destroy(),this.options=null,this._isMobile&&((r=t.closest(ge.roleSelector("pane")).parent()).after(t),r.remove(),t.removeClass("k-grid-mobile")),t[0]!==i[0]&&(t.before(i),t.remove()),i.empty(),this.init(i,o,n),this._setEvents(o)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(t){return t.children().filter(function(){var t=e(this);return!t.hasClass("k-grouping-row")&&!t.hasClass("k-detail-row")&&!t.hasClass("k-group-footer")})},dataItems:function(){var e,t,n,i=ge.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(e=i.length,t=Array(2*e),n=e;--n>=0;)t[n]=t[n+e]=i[n];i=t}return i},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null,t.thead&&(this.angular("cleanup",function(){return{elements:t.thead.get()}}),t.thead.add(t.lockedHeader).find("th").each(function(){var t=e(this),n=t.data("kendoFilterMenu"),i=t.data("kendoColumnSorter"),r=t.data("kendoColumnMenu");n&&n.destroy(),i&&i.destroy(),r&&r.destroy()}))},_attachCustomCommandsEvent:function(){var e,t,n,i=this,r=N(i.columns||[]);for(t=0,n=r.length;t<n;t++)(e=r[t].command)&&l(i,i.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var t=this,n=t.element;n.is("table")||(n=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table")).length||(n=e("<table />").appendTo(t.element)),Wt&&n.attr("cellspacing",0),t.table=n.attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper()},_createResizeHandle:function(t,n){var i,r,o,a,s,l,c,d=this,u=d.options.columnResizeHandleWidth,p=d.options.scrollable,h=d.resizeHandle,f=this._groups();if(h&&d.lockedContent&&h.data("th")[0]!==n[0]&&(h.off($e).remove(),h=null),h||(h=d.resizeHandle=e('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),t.append(h)),Nt)i=n.position().left,p&&(a=n.closest(".k-grid-header-wrap, .k-grid-header-locked"),s=Bt.msie?a.scrollLeft():0,l=Bt.webkit?a[0].scrollWidth-a[0].offsetWidth-a.scrollLeft():0,c=Bt.mozilla?a[0].scrollWidth-a[0].offsetWidth-(a[0].scrollWidth-a[0].offsetWidth-a.scrollLeft()):0,i-=l-c+s);else{for(i=n[0].offsetWidth,r=B(n.closest("thead")).filter(":visible"),o=0;o<r.length&&r[o]!=n[0];o++)i+=r[o].offsetWidth;f>0&&(i+=ye(t.find(".k-group-cell:first"))*f),d._hasDetails()&&(i+=ye(t.find(".k-hierarchy-cell:first")))}h.css({top:n.position().top,left:i-u,height:xe(n),width:3*u}).data("th",n).show(),h.off("dblclick"+$e).on("dblclick"+$e,function(){d._autoFitLeafColumn(n.data("index"))})},_positionColumnResizeHandle:function(){var n=this,i=n.lockedHeader?n.lockedHeader.find("thead:first"):e();n.thead.add(i).on("mousemove"+$e,"th",function(i){var r=t!==i.buttons?i.buttons:i.which||i.button,o=e(this);o.hasClass("k-group-cell")||o.hasClass("k-hierarchy-cell")||t!==r&&0!==r||n._createResizeHandle(o.closest("div"),o)})},_resizeHandleDocumentClick:function(t){e(t.target).closest(".k-column-active").length||(e(document).off(t),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off($e).remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var t=this,n=t.lockedHeader?t.lockedHeader.find("thead:first"):e();t._resizeUserEvents=new ge.UserEvents(n.add(t.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(n){var i=e(n.target);n.preventDefault(),i.addClass("k-column-active"),t._createResizeHandle(i.closest("div"),i),t._resizeHandleDocumentClickHandler||(t._resizeHandleDocumentClickHandler=Fe(t._resizeHandleDocumentClick,t)),e(document).on("click",t._resizeHandleDocumentClickHandler)}})},_resizable:function(){var t,n,i,r,a,s,l,c,d=this,u=d.options,p=this._isMobile,h=ge.support.mobileOS?0:ge.support.scrollbar();u.resizable&&(t=u.scrollable?d.wrapper.find(".k-grid-header-wrap:first"):d.wrapper,p?d._positionColumnResizeHandleTouch(t):d._positionColumnResizeHandle(t),d.resizable&&d.resizable.destroy(),d.resizable=new me.Resizable(t.add(d.lockedHeader),{handle:(u.scrollable?"":">")+".k-resize-handle",hint:function(t){return e('<div class="k-grid-resize-indicator" />').css({height:xe(t.data("th"))+d.tbody.attr("clientHeight")})},start:function(t){var h,f,g,m,_;c=e(t.currentTarget).data("th"),p&&d._hideResizeHandle(),h=c.closest("table"),f=e.inArray(c[0],B(c.closest("thead")).filter(":visible")),g=(s=h.parent().hasClass("k-grid-header-locked"))?d.lockedTable:d.table,m=d.footer||e(),d.footer&&d.lockedContent&&(m=d.footer.children(s?".k-grid-footer-locked":".k-grid-footer-wrap")),o(d.wrapper,"col-resize"),l=u.scrollable?h.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")").add(g.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")")).add(m.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")")):g.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")"),_=e.map(d.columns,function(e){return!e.hidden&&(s&&e.locked||!s&&!e.locked)?e:null}),n=t.x.location,i=ye(c),r=N(_)[f].minResizableWidth||10,a=ye(s?g.children("tbody"):d.tbody),Bt.webkit&&d.wrapper.addClass("k-grid-column-resizing")},resize:function(t){var o,p,f,g,m,_,v=Nt?-1:1,b=i+t.x.location*v-n*v;u.scrollable?(s&&d.lockedFooter?o=d.lockedFooter.children("table"):d.footer&&(o=d.footer.find(">.k-grid-footer-wrap>table")),o&&o[0]||(o=e()),p=c.closest("table"),f=s?d.lockedTable:d.table,g=!1,m=d.wrapper.width()-h,_=b,s&&a-i+_>m&&((_=i+(m-a-2*h))<0&&(_=b),g=!0),_>10&&_>=r&&(l.css("width",_),a&&(_=g?m-2*h:a+t.x.location*v-n*v,f.add(p).add(o).css("width",_),s||(d._footerWidth=_))),d._scrollVirtualWrapperOnColumnResize()):b>10&&b>=r&&l.css("width",b)},resizeend:function(){var e,t,n,r=ye(c);o(d.wrapper,""),Bt.webkit&&d.wrapper.removeClass("k-grid-column-resizing"),i!=r&&(t=d.lockedHeader?d.lockedHeader.find("thead:first tr:first").add(d.thead.find("tr:first")):c.parent(),(n=c.attr(ge.attr("index")))||(n=t.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(c)),e=N(d.columns)[n],e.width=r,d.trigger(wt,{column:e,oldWidth:i,newWidth:r}),d._applyLockedContainersWidth(),d._syncLockedContentHeight(),d._syncLockedHeaderHeight()),d._hideResizeHandle(),c=null}}))},_draggable:function(){var t,n=this;n.options.reorderable&&(n._draggableInstance&&n._draggableInstance.destroy(),t=n.wrapper.children(".k-grid-header"),n._draggableInstance=n.wrapper.kendoDraggable({group:ge.guid(),autoScroll:!0,filter:n.content?".k-grid-header:first "+je:"table:first>.k-grid-header "+je,dragstart:function(){t.children(".k-grid-header-wrap").unbind("scroll"+$e+"scrolling").bind("scroll"+$e+"scrolling",function(e){n.virtualScrollable?n.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft):n.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft)})},dragend:function(){t.children(".k-grid-header-wrap").unbind("scroll"+$e+"scrolling")},drag:function(){n._hideResizeHandle()},hint:function(t){var n=t.attr(ge.attr("title"));return n&&(n=ge.htmlEncode(n)),e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(n||t.attr(ge.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />')}}).data("kendoDraggable"))},_reorderable:function(){var t=this;t.options.reorderable&&(t.wrapper.data("kendoReorderable")&&t.wrapper.data("kendoReorderable").destroy(),t.wrapper.kendoReorderable({draggable:t._draggableInstance,dragOverContainers:function(e,n){var i=T(t.columns);return!1!==i[e].lockable&&D(i,t.columns,e,n)>-1},inSameContainer:function(n){return e(n.source).parent()[0]===e(n.target).parent()[0]&&D(T(t.columns),t.columns,n.sourceIndex,n.targetIndex)>-1},change:function(e){var n=T(t.columns),i=n[e.oldIndex],r=D(n,t.columns,e.oldIndex,e.newIndex);t.trigger(yt,{newIndex:r,oldIndex:Ee(i,n),column:i}),t.reorderColumn(r,i,"before"===e.position)}}))},_reorderHeader:function(e,t,n){var i,r,o,l,c=this,d=y(e[0],c.columns),u=y(t,c.columns),p=[];for(i=0;i<e.length;i++)e[i].columns&&(p=p.concat(e[i].columns));r=s(c.lockedHeader,c.thead,"tr:eq("+d.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),o=O(e).length,l=O([t]).length,p.length?(o>0&&0===l?v(e,t,p,c.columns,c.lockedHeader.find("thead"),c.thead,this._groups()):0===o&&l>0&&v(e,t,p,c.columns,c.thead,c.lockedHeader.find("thead"),this._groups()),(t.columns||d.cell-u.cell>1||u.cell-d.cell>1)&&(t=C(c.columns,t,e[0],n,c.columns))&&c._reorderHeader(p,t,n)):o!==l&&_(r[d.cell],c.columns,o),a(r,d.cell,u.cell,n,e.length)},_reorderContent:function(t,n,i){var r,o,l,c,d,u,p=this,h=e(),f=t[0],m=g(t),_=Ee(f,N(p.columns)),v=Ee(n,N(p.columns)),b=Ee(m[0],V(p.columns)),k=Ee(n,V(p.columns)),w=O(p.columns).length,y=!!n.locked,x=p.footer||p.wrapper.find(".k-grid-footer"),C=r=k;for(n.hidden&&(l=y?O(p.columns):z(p.columns),g(l).length>0?(C=r=k=this._findClosestVisibleColumnIndex(l,v),o=g(l.slice(v)).length>0):y?(k=p.lockedTable.find("colgroup"),C=p.lockedHeader.find("colgroup"),r=e(p.lockedFooter).find(">table>colgroup")):(k=p.tbody.prev(),C=p.thead.prev(),r=x.find(".k-grid-footer-wrap").find(">table>colgroup"))),p._hasFilterRow()&&a(p.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),_,v,i,t.length),b>=0&&a(s(p.lockedHeader,p.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),b,C,o||i,m.length),p.options.scrollable&&b>=0&&a(s(p.lockedTable,p.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),b,k,o||i,m.length),x&&x.length&&(b>=0&&a(s(p.lockedFooter,x.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),b,r,o||i,m.length),a(x.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),_,v,i,t.length)),c=p.tbody.children(":not(.k-grouping-row,.k-detail-row)"),p.lockedTable&&(w>v?w<=_&&ne(p.lockedTable.find(">tbody>tr.k-grouping-row"),p.table.find(">tbody>tr.k-grouping-row"),t.length):w>_&&ne(p.table.find(">tbody>tr.k-grouping-row"),p.lockedTable.find(">tbody>tr.k-grouping-row"),t.length),h=p.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")),d=0,u=c.length;d<u;d+=1)a(s(h[d],c[d],">td:not(.k-group-cell,.k-hierarchy-cell)"),_,v,i,t.length)},_findClosestVisibleColumnIndex:function(e,t){var n=g(g(e.slice(t)).length>0?e.slice(t):e.slice(0,t+1).reverse())[0];return Ee(n,g(this.columns))},_autoFitLeafColumn:function(e){this.autoFitColumn(N(this.columns)[e])},autoFitColumn:function(t){var n,i,r,o,a,s,l,c,d,u,p,g,m,_,v,b,k,w,y,x,C=this,S=C.options,T=C.columns,D=C.lockedHeader?B(C.lockedHeader.find(">table>thead")).filter(h).length:0,H="col:not(.k-group-col):not(.k-hierarchy-col)",E="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";if((t="number"==typeof t?T[t]:Se(t)?Ie(I(T),function(e){return e===t})[0]:Ie(I(T),function(e){return e.field===t})[0])&&f(t)){for(s=t.minResizableWidth,n=Ee(t,N(T)),i=(r=(o=t.locked)?C.lockedHeader.children("table"):C.thead.parent()).find("[data-index='"+n+"']"),d=o?C.lockedTable:C.table,u=C.footer||e(),C.footer&&C.lockedContent&&(u=C.footer.children(o?".k-grid-footer-locked":".k-grid-footer-wrap")),p=u.find("table").first(),C.lockedHeader&&!o&&(n-=D),g=0;g<T.length&&T[g]!==t;g++)T[g].hidden&&n--;if(S.scrollable?(a=r.find(H).eq(n).add(d.children("colgroup").find(H).eq(n)).add(p.find("colgroup").find(H).eq(n)),o||(l=d.parent(),c=l.scrollLeft())):a=d.children("colgroup").find(H).eq(n),m=r.add(d).add(p),_=ye(i),a.width(""),m.css("table-layout","fixed"),a.width("auto"),m.addClass("k-autofitting"),m.css("table-layout",""),v=Math.ceil(Math.max(ye(i),ye(d.find("tr:not(.k-grouping-row)").eq(0).children(E).eq(n)),ye(p.find("tr").eq(0).children(E).eq(n))))+1,s&&s>v&&(v=s),a.width(v),t.width=v,S.scrollable){for(b=r.find("col"),w=0,y=0,x=b.length;y<x;y+=1)if((k=b[y].style.width)&&-1==k.indexOf("%"))w+=parseInt(k,10);else{if(!b.eq(y).hasClass("k-group-col")){w=0;break}w+=parseInt(b.eq(y).width(),10)}w&&m.each(function(){this.style.width=w+"px"})}Bt.msie&&8==Bt.version&&(m.css("display","inline-table"),setTimeout(function(){m.css("display","table")},1)),m.removeClass("k-autofitting"),c&&l.scrollLeft(c),C.trigger(wt,{column:t,oldWidth:_,newWidth:v}),C._applyLockedContainersWidth(),C._syncLockedContentHeight(),C._syncLockedHeaderHeight()}},reorderColumn:function(e,n,i){var r,o,a=this,s=d(n,a.columns),l=s?s.columns:a.columns,c=Ee(n,l),u=l[e],p=!!u.locked,h=O(a.columns).length;c!==e&&(!n.locked&&p&&1==z(a.columns).length||n.locked&&!p&&1==h||(a._hideResizeHandle(),i===t&&(i=e<c),o=[n],a._reorderHeader(o,u,i),a.lockedHeader&&(A(a.thead),A(a.lockedHeader)),u.columns&&(u=N(u.columns),u=u[i?0:u.length-1]),n.columns&&(o=N(n.columns)),a._reorderContent(o,u,i),r=!!n.locked,r=r!=p,n.locked=p,l.splice(i?e:e+1,0,n),l.splice(c<e?c:c+1,1),a._templates(),a._updateColumnCellIndex(),a._updateTablesWidth(),a._applyLockedContainersWidth(),a._syncLockedHeaderHeight(),a._syncLockedContentHeight(),a._updateFirstColumnClass(),r&&(p?a.trigger(xt,{column:n}):a.trigger(Ct,{column:n}))))},_updateColumnCellIndex:function(){var e,t=0;this.lockedHeader&&(e=this.lockedHeader.find("thead"),t=b(e,O(this.columns))),b(this.thead,z(this.columns),t)},lockColumn:function(e){var t,n=this.columns;!(e="number"==typeof e?n[e]:Ie(n,function(t){return t.field===e})[0])||e.locked||e.hidden||(t=O(n).length-1,this.reorderColumn(t,e,!1))},unlockColumn:function(e){var t,n=this.columns;(e="number"==typeof e?n[e]:Ie(n,function(t){return t.field===e})[0])&&e.locked&&!e.hidden&&(t=O(n).length,this.reorderColumn(t,e,!0))},cellIndex:function(t){var n=0;return this.lockedTable&&!e.contains(this.lockedTable[0],t[0])&&(n=N(O(this.columns)).length),e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)+n},_modelForContainer:function(t){(t=e(t)).is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var n=t.attr(ge.attr("uid"));return this.dataSource.getByUid(n)},_editable:function(){var t,n=this,i=n.selectable&&n.selectable.options.multiple,r=n.options.editable,o=function(){var t=ke(),i=n._editContainer;!i||e.contains(i[0],t)||i[0]===t||e(t).closest(".k-animation-container").length||(n.editable.end()?n.closeCell():n._scrollVirtualWrapper())};r&&(this.wrapper.addClass("k-editable"),t=n._editMode(),"incell"===t?(n.table.add(n.lockedTable).on("mousedown"+$e,Ne+">"+Be,function(t){var i=e(t.target);"incell"===n._editMode()&&i.hasClass("k-checkbox-label")&&i.prev().attr(ge.attr("bind"))&&t.preventDefault()}),!1!==r.update&&n.wrapper.on(Tt+$e,"tr:not(.k-grouping-row) > td",function(t){var r=e(this),o=n.lockedTable&&r.closest("table")[0]===n.lockedTable[0];r.hasClass("k-hierarchy-cell")||r.hasClass("k-detail-cell")||r.hasClass("k-group-cell")||r.hasClass("k-edit-cell")||r.has("a.k-grid-delete").length||r.has("button.k-grid-delete").length||r.closest("tbody")[0]!==n.tbody[0]&&!o||e(t.target).is(":input")||(n.editable?n.editable.end()?(i&&e(ke()).blur(),n.closeCell(),n.editCell(r)):n._scrollVirtualWrapper():n.editCell(r))}).on("focusin"+$e,function(){e.contains(this,ke())||(clearTimeout(n.timer),n.timer=null)}).on("focusout"+$e,function(){n.timer=setTimeout(o,1)})):!1!==r.update&&(n.wrapper.on(Tt+$e,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(t){t.preventDefault(),n.editRow(e(this).closest("tr"))}),n._isVirtualInlineEditable()&&n.wrapper.on("focusout"+$e,"tr:not(.k-grouping-row) > td",function(){n.editable&&!n.editable.end()&&n._scrollVirtualWrapper()})),!1!==r.destroy?n.wrapper.on(Tt+$e,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(t){t.preventDefault(),t.stopPropagation(),n.removeRow(e(this).closest("tr"))}):n.wrapper.on(Tt+$e,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){e.stopPropagation(),n._confirmation()||e.preventDefault()}))},editCell:function(t){var n,i,r,o;if(t=e(t),n=this,i=N(n.columns)[n.cellIndex(t)],r=n._modelForContainer(t),n.closeCell(),r&&le(i,r)&&!i.command){if(n.trigger(Ye,{model:r}))return;n._attachModelChange(r),n._editContainer=t,n._shouldClearEditableState&&n._clearEditableState(),n.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:i.field,format:i.format,editor:i.editor,values:i.values},model:r,target:n,change:function(e){n.trigger(Ke,{values:e.values,container:t,model:r})&&e.preventDefault()},skipFocus:!(!n._isVirtualIncellEditable()||!n._editableState)}).data("kendoEditable"),o=t.parent().addClass("k-grid-edit-row"),n.lockedContent&&oe(o[0],n._relatedRow(o).addClass("k-grid-edit-row")[0]),n.trigger(Ge,{container:t,model:r})}},_adjustLockedHorizontalScrollBar:function(){var e=this.table,t=e.parent(),n=e[0].offsetWidth>t[0].clientWidth?ge.support.scrollbar():0;this.lockedContent.height(t.height()-n)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){var e,t;this.lockedHeader&&(e=this.lockedHeader.children("table"),t=this.thead.parent(),this._adjustRowsHeight(e,t),re(e,t))},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var e=this,t=function(){if(e.editable){var t=e.editView?e.editView.element:e._editContainer;t&&(t.off(Tt+$e,"a.k-grid-cancel",e._editCancelClickHandler),t.off(Tt+$e,"a.k-grid-update",e._editUpdateClickHandler)),e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null,e._destroyEditView()}};e.editable&&("popup"!==e._editMode()||e._isMobile?t():e._editContainer.data("kendoWindow").bind("deactivate",t).close()),e._actionSheet&&(e._actionSheet.destroy(),e._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this,t=e._editContainer,n=e._modelForContainer(t);n&&n.unbind(it,e._modelChangeHandler)},closeCell:function(e){var t,n,i,r=this,o=r._editContainer;o&&(i=r._modelForContainer(o),e&&r.trigger("cancel",{container:o,model:i})||(r.trigger(nt,{type:e?"cancel":"save",model:i,container:o}),o.removeClass("k-edit-cell"),t=N(r.columns)[r.cellIndex(o)],n=o.parent().removeClass("k-grid-edit-row"),r.lockedContent&&r._relatedRow(n).removeClass("k-grid-edit-row"),r._destroyEditable(),r._displayCell(o,t,i),r._shouldClearEditableState&&r._clearEditableState(),r.trigger("itemChange",{item:n,data:i,ns:me}),r.lockedContent&&oe(n.css("height","")[0],r._relatedRow(n).css("height","")[0])))},_displayCell:function(e,t,n){var i=this,r={storage:{},count:0},o=Te({},ge.Template,i.options.templateSettings),a=ge.template(i._cellTmpl(t,r),o);r.count>0&&(a=Fe(a,r.storage)),e.empty().html(a(n)),i.angular("compile",function(){return{elements:e,data:[{dataItem:n}]}})},removeRow:function(e){this._confirmation(e)&&this._removeRow(e)},_removeRow:function(t){var n,i,r,o,a=this,s=a._editMode();"incell"!==s&&a.cancelRow(),t=e(t),a.lockedContent&&(t=t.add(a._relatedRow(t))),t=t.hide(),(n=a._modelForContainer(t))&&!a.trigger(Qe,{row:t,model:n})?(o=a.dataSource.options.schema,a._selectedIds&&o&&o.model&&(i=a.dataSource.options.schema.model.id,r=n[i],delete a._selectedIds[r]),a.dataSource.remove(n),"inline"!==s&&"popup"!==s||a.dataSource.sync()):"incell"===s&&a._destroyEditable()},_editMode:function(){var e="incell",t=this.options.editable;return!0!==t&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(t){var n,i,r,o=this;t instanceof ve?n=t:(t=e(t),n=o._modelForContainer(t)),i=o._editMode(),o.cancelRow(),n&&(t=o.tbody.children("["+ge.attr("uid")+"="+n.uid+"]"),o._attachModelChange(n),"popup"===i?o._createPopupEditor(n):"inline"===i?o._createInlineEditor(t,n):"incell"===i&&e(t).children(Ve).each(function(){var t=e(this),i=N(o.columns)[o.cellIndex(t)];if((n=o._modelForContainer(t))&&(!n.editable||n.editable(i.field))&&i.field&&!i.selectable)return o.editCell(t),!1}),(r=o.editView?o.editView.element:o._editContainer)&&(this._editCancelClickHandler||(this._editCancelClickHandler=Fe(this._editCancelClick,this)),r.on(Tt+$e,"a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=Fe(this._editUpdateClick,this)),r.on(Tt+$e,"a.k-grid-update",this._editUpdateClickHandler)))},_editUpdateClick:function(e){e.preventDefault(),e.stopPropagation(),this.saveRow()},_editCancelClick:function(t){var n,i=this,r=i.options.navigatable,o=i.editable.options.model,a=i.editView?i.editView.element:i._editContainer;t.preventDefault(),t.stopPropagation(),i.trigger("cancel",{container:a,model:o})||(n=i.items().index(e(i.current()).parent()),i.cancelRow(),r&&(i._setCurrent(i.items().eq(n).children().filter(Be).first()),se(i.table,!0)))},_createPopupEditor:function(n){var i,r,o,a,s,l,c,d,u,p,h,f,g,m=this,_="<div "+ge.attr("uid")+'="'+n.uid+'" class="k-popup-edit-form'+(m._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',v=[],b=N(m.columns),k=m.options.editable,w=k.template,y=Se(k)?k.window:{},x=Te({},ge.Template,m.options.templateSettings);if(!m.trigger(Ye,{model:n})){if(y=y||{},w)for(typeof w===Et&&(w=window.unescape(w)),_+=ge.template(w,x)(n),o=0,a=b.length;o<a;o++)(i=b[o]).command&&(p=ae(i.command,"edit"))&&(r=p);else for(o=0,a=b.length;o<a;o++)(i=b[o]).selectable||(i.command?i.command&&(p=ae(i.command,"edit"))&&(r=p):(_+='<div class="k-edit-label"><label for="'+i.field+'">'+(i.title||i.field||"")+"</label></div>",le(i,n)?(v.push({field:i.field,format:i.format,editor:i.editor,values:i.values}),_+="<div "+ge.attr("container-for")+'="'+i.field+'" class="k-edit-field"></div>'):(f={storage:{},count:0},s=ge.template(m._cellTmpl(i,f),x),f.count>0&&(s=Fe(s,f.storage)),_+='<div class="k-edit-field">'+s(n)+"</div>")));r&&Se(r)&&(Se(r.text)&&(l=r.text.update,c=r.text.cancel),Se(r.iconClass)&&(d=r.iconClass.update,u=r.iconClass.cancel),r.attr&&(h=r.attr)),m._isMobile?(_+="</div></div>",m.editView=m.pane.append("<div data-"+ge.ns+'role="view" data-'+ge.ns+'use-native-scrolling="true" data-'+ge.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+ge.ns+'role="header" class="k-header">'+m._createButton({name:"update",text:l,attr:h})+(y.title||"Edit")+m._createButton({name:"canceledit",text:c,attr:h})+"</div>"+_+"</div>"),g=m._editContainer=m.editView.element.find(".k-popup-edit-form")):(_+='<div class="k-edit-buttons k-state-default">',_+=m._createButton({name:"update",text:l,attr:h,iconClass:d})+m._createButton({name:"canceledit",text:c,attr:h,iconClass:u}),_+="</div></div></div>",g=m._editContainer=e(_).appendTo(m.wrapper).eq(0).kendoWindow(Te({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(i){if(i.userTriggered){if(i.sender.element.focus(),m.trigger("cancel",{container:g,model:n}))return i.preventDefault(),t;var r=m.items().index(e(m.current()).parent());m.cancelRow(),m.options.navigatable&&(m._setCurrent(m.items().eq(r).children().filter(Be).first()),se(m.table,!0))}}},y))),m.editable=m._editContainer.kendoEditable({fields:v,model:n,clearContainer:!1,target:m}).data("kendoEditable"),m._isMobile&&g.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){e(this).next().children("input").click()}),m._openPopUpEditor(),m.trigger(Ge,{container:g,model:n})}},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(t,n){var i,r,o,a=this,s=[];a.trigger(Ye,{model:n})||(a.lockedContent&&(t=t.add(a._relatedRow(t))),t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(r=e(this),!(i=N(a.columns)[a.cellIndex(r)]).command&&le(i,n))s.push({field:i.field,format:i.format,editor:i.editor,values:i.values}),r.attr(ge.attr("container-for"),i.field),r.empty();else if(i.command&&(o=ae(i.command,"edit"))){r.empty();var t,l,c,d,u;Se(o)&&(Se(o.text)&&(t=o.text.update,l=o.text.cancel),Se(o.iconClass)&&(c=o.iconClass.update,d=o.iconClass.cancel),o.attr&&(u=o.attr)),e(a._createButton({name:"update",text:t,attr:u,iconClass:c})+a._createButton({name:"canceledit",text:l,attr:u,iconClass:d})).appendTo(r)}}),a._editContainer=t,a._editContainer.addClass("k-grid-edit-row"),a._shouldClearEditableState&&a._clearEditableState(),a.editable=new ge.ui.Editable(a._editContainer,{target:a,fields:s,model:n,skipFocus:!!(a._isVirtualInlineEditable()&&a._editableState&&a._editableState.field),clearContainer:!1}),t.length>1&&(oe(t[0],t[1]),a._applyLockedContainersWidth()),a.trigger(Ge,{container:t,model:n}))},cancelRow:function(e){var t,n=this,i=n._editContainer;if(i){if(!(t=n._modelForContainer(i))||e&&n.trigger("cancel",{container:i,model:t}))return;n._destroyEditable(),n.dataSource.cancelChanges(t),n._clearEditableState(),n._displayRow("popup"!==n._editMode()?i:n.tbody.find("["+ge.attr("uid")+"="+t.uid+"]"))}},saveRow:function(){var t,n=this,i=this._editContainer,r=this._modelForContainer(i),o=e.Deferred();return i&&this.editable?(t=n.editable&&n.editable.end(),!t||this.trigger(Ke,{container:i,model:r})?(t||n._scrollVirtualWrapper(),o.reject().promise()):(n._clearEditableState(),this.dataSource.sync())):o.resolve().promise()},_displayRow:function(t){var n,i,r,o,a,s=this,l=s._modelForContainer(t),c=t.hasClass("k-state-selected"),d=t.hasClass("k-alt");l&&(s.lockedContent&&(n=e((d?s.lockedAltRowTemplate:s.lockedRowTemplate)(l)),s._relatedRow(t.last()).replaceWith(n)),s.angular("cleanup",function(){return{elements:t.get()}}),i=e((d?s.altRowTemplate:s.rowTemplate)(l)),t.is(":visible")||i.hide(),t.replaceWith(i),s.trigger("itemChange",{item:i,data:l,ns:me}),n&&n.length&&s.trigger("itemChange",{item:n,data:l,ns:me}),o=i,a=[{dataItem:l}],n&&n.length&&(o=i.add(n),a.push({dataItem:l})),s.angular("compile",function(){return{elements:o.get(),data:a}}),c&&(s.options.selectable||s._checkBoxSelection)&&s.select(i.add(n)),n&&oe(i[0],n[0]),(r=i.next()).hasClass("k-detail-row")&&r.is(":visible")&&i.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse"))},_showMessage:function(t,n){var i,r,o=this;return o._isMobile?(i=ge.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),r=e(i(t)).appendTo(o.view.element),(o._actionSheet=new ge.mobile.ui.ActionSheet(r,{cancel:t.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(t){e(t.currentTarget).parent().hasClass("km-actionsheet-cancel")||o._removeRow(n)},popup:o._actionSheetPopupOptions})).open(n),!1):window.confirm(t.title)},_confirmation:function(e){var t=this,n=t.options.editable,i=!0===n||typeof n===Et?t.options.messages.editable.confirmation:n.confirmation;return Se(n)&&typeof n.mode===Et&&typeof i!==Ht&&typeof i!==Et&&!1!==i&&(i=t.options.messages.editable.confirmation),!1===i||null==i||(typeof i===Ht&&(i=i(t._modelForContainer(e))),t._showMessage({confirmDelete:n.confirmDelete||t.options.messages.editable.confirmDelete,cancelDelete:n.cancelDelete||t.options.messages.editable.cancelDelete,title:!0===i?t.options.messages.editable.confirmation:i},e))},cancelChanges:function(){var e=this;e.dataSource.cancelChanges(),e._isVirtualEditable()&&e._virtualPageToTop(function(){e.virtualScrollable.scrollToTop()})},saveChanges:function(){var e=this,t=e.editable&&e.editable.end();!t&&e.editable||e.trigger(at)?t||e._scrollVirtualWrapper():e.dataSource.sync()},addRow:function(){var e,t,n=this,i=n.dataSource,r=n._editMode(),o=n.options.editable.createAt||"",a=i.pageSize(),s=i.view()||[],l="bottom"===o.toLowerCase(),c=n._isVirtualEditable();n.editable&&n.editable.end()||!n.editable?("incell"!=r&&n.cancelRow(),e=i.indexOf(s[0]),l&&(e+=s.length,a&&!i.options.serverPaging&&a<=s.length&&(e-=1)),e<0&&(e=i.page()>i.totalPages()?(i.page()-1)*a:0),n.options.navigatable&&"incell"==r&&n._removeCurrent(),c?n._virtualAddRow():(t=i.insert(e,{}),n._editModel(t))):n._scrollVirtualWrapper()},_editModel:function(e){var t,n,i,r,o=this,a=o.options.editable.createAt||"",s=o._editMode();e&&(t=e.uid,n=o.lockedContent?o.lockedTable:o.table,i=n.find("tr["+ge.attr("uid")+"="+t+"]"),r=i.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(o._firstEditableColumnIndex(i)),"inline"===s&&i.length?o.editRow(i):"popup"===s?o.editRow(e):r.length&&o.editCell(r),"bottom"==a.toLowerCase()&&o.lockedContent&&(o.lockedContent[0].scrollTop=o.content[0].scrollTop=o.table[0].offsetHeight))},_virtualAddRow:function(){var e=this,t="bottom"===(e.options.editable.createAt||"").toLowerCase();e._clearEditableState(),t?e._virtualAddRowAtBottom():e._virtualAddRowAtTop()},_virtualAddRowAtTop:function(){var e,t=this,n=t.dataSource,i=t.virtualScrollable;1===n.page()?(e=n.insert(0,{}),t._editModel(e),i.scrollToTop()):t._virtualPageToTop(function(){e=n.insert(0,{}),t._editModel(e),i.scrollToTop()})},_virtualAddRowAtBottom:function(){var e,t=this,n=t.dataSource,i=t.virtualScrollable,r=n.total();n.at(r-1)instanceof ve?(e=n.insert(r,{}),t._virtualPageToBottom(function(){t._editModel(e),i.scrollToBottom()})):t._virtualPageToBottom(function(){e=n.insert(r,{}),t._editModel(e),i.scrollToBottom()})},_virtualPageToTop:function(e){var t=this;t._virtualPage(0,t.dataSource.take(),function(){e()})},_virtualPageToBottom:function(e){var t=this,n=t.dataSource,i=n.take(),r=n.total(),o=r>i?r-i:0;t._virtualPage(o,i,function(){e()})},_virtualPage:function(e,t,n){var i=this;i._isVirtualEditable()&&(i.virtualScrollable._preventScroll=!0,i.virtualScrollable._page(e,t,n))},_firstEditableColumnIndex:function(e){var t,n,i,r=this,o=N(r.columns),a=r._modelForContainer(e);for(n=0,i=o.length;n<i;n++)if(t=o[n],a&&(!a.editable||a.editable(t.field))&&!t.command&&t.field&&!0!==t.hidden)return n;return-1},_toolbar:function(){var t,n=this,i=n.wrapper,r=n.options.toolbar,o=n.options.editable;r&&((t=n.wrapper.find(".k-grid-toolbar")).length||(Ae(r)||(r=typeof r===Et?r:n._toolbarTmpl(r).replace(zt,"\\#"),r=Fe(ge.template(r),n)),t=e('<div class="k-header k-grid-toolbar" />').html(r({})).prependTo(i),n.angular("compile",function(){return{elements:t.get()}})),o&&!1!==o.create&&t.on(Tt+$e,".k-grid-add",function(e){e.preventDefault(),n.addRow()}).on(Tt+$e,".k-grid-cancel-changes",function(e){e.preventDefault(),n.cancelChanges()}).on(Tt+$e,".k-grid-save-changes",function(e){e.preventDefault(),n.saveChanges()}),t.on(Tt+$e,".k-grid-excel",function(e){e.preventDefault(),n.saveAsExcel()}),t.on(Tt+$e,".k-grid-pdf",function(e){e.preventDefault(),n.saveAsPDF()}))},_toolbarTmpl:function(e){var t,n,i=this,r="";if(He(e))for(t=0,n=e.length;t<n;t++)r+=i._createButton(e[t]);return r},_createButton:function(e){var n,i=e.template||'# if (iconClass) {#<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass#"></span>#=text#</a># } else { #<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#">#=text#</a># } #',o=typeof e===Et?e:e.name||e.text,a={className:$t[o]?$t[o].className:"k-grid-"+(o||"").replace(/\s/g,""),text:o,attr:"",iconClass:""},s=this.options.messages.commands;if(!(o||Se(e)&&e.template))throw Error("Custom commands should have name specified");return Se(e)?(e=Te(!0,{},e),e.className&&Ee(a.className,e.className.split(" "))<0?e.className+=" "+a.className:e.className===t&&(e.className=a.className),"edit"===o&&(e=Te(!0,{},e),e.text=Se(e.text)?e.text.edit:e.text,e.iconClass=Se(e.iconClass)?e.iconClass.edit:e.iconClass),e.attr&&(Se(e.attr)&&(e.attr=r(e.attr)),typeof e.attr===Et&&(n=e.attr.match(/class="(.+?)"/))&&Ee(n[1],e.className.split(" "))<0&&(e.className+=" "+n[1])),a=Te(!0,a,$t[o],{text:s[o]},e)):a=Te(!0,a,$t[o],{text:s[o]}),ge.template(i)(a)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var t=this;t._groupableClickHandler?t.table.add(t.lockedTable).off(Tt+$e,t._groupableClickHandler):t._groupableClickHandler=function(n){var i=e(this),r=i.closest("tr"),o=t._groupRows?t._groupRows[t.wrapper.find(".k-grouping-row").index(r)]:{};i.hasClass("k-i-collapse")?t.trigger("groupCollapse",{group:o,element:r})||t.collapseGroup(r):t.trigger("groupExpand",{group:o,element:r})||t.expandGroup(r),n.preventDefault(),n.stopPropagation()},t._isLocked()?t.lockedTable.on(Tt+$e,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",t._groupableClickHandler):t.table.on(Tt+$e,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",t._groupableClickHandler),t._attachGroupable()},_attachGroupable:function(){var t=this,n=t.wrapper,i=t.options.groupable,r=je+"["+ge.attr("field")+"]",o=t.content?".k-grid-header:first "+r:"table:first>.k-grid-header "+r;i&&!1!==i.enabled&&(n.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(n),t.groupable&&t.groupable.destroy(),t.groupable=new me.Groupable(n,Te({},i,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:o,filter:o,allowDrag:t.options.reorderable,change:function(e){t.trigger("group",{groups:e.groups})?e.preventDefault():(t._clearEditableState(),t.dataSource.options.endless&&(t.dataSource.options.endless=null,t._endlessPageSize=t.dataSource.options.pageSize,t.dataSource._skip=0,t.dataSource._page=1))}})))},_continuousItems:function(t,n){var i,r,o,a,s,l,c,d;if(this.lockedContent){for(r=(i=this).table.add(i.lockedTable),o=e(t,r[0]),a=e(t,r[1]),s=n?O(i.columns).length:1,l=n?i.columns.length-s:1,c=[],d=0;d<o.length;d+=s)Me.apply(c,o.slice(d,d+s)),Me.apply(c,a.splice(0,l));return c}},_selectable:function(){var n,i,r,o,a=this,s=[],l=a._isLocked(),c=a.options.selectable;c&&(a.selectable&&a.selectable.destroy(),a._selectedIds={},c=ge.ui.Selectable.parseOptions(c),n=c.multiple,i=c.cell,a._hasDetails()&&(s[s.length]=".k-detail-row"),(a.options.groupable||a._hasFooters()||a._groups())&&(s[s.length]=".k-grouping-row,.k-group-footer"),""!==(s=s.join(","))&&(s=":not("+s+")"),r=a.table,l&&(r=r.add(a.lockedTable)),o=">"+(i?"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)":"tbody>tr"+s),a.selectable=new ge.ui.Selectable(r,{filter:o,aria:!0,multiple:n,change:function(){i||a._persistSelectedRows(),a.trigger(it)},useAllItems:l&&n&&i,relatedTarget:function(t){var n,r,o,s;if(!i&&l){for(r=e(),o=0,s=t.length;o<s;o++)n=a._relatedRow(t[o]),Ee(n[0],t)<0&&(r=r.add(n));return r}},continuousItems:function(){return a._continuousItems(o,i)}}),a.options.navigatable&&r.on("keydown"+$e,function(o){var s=a.current(),c=o.target;if(o.keyCode===Ce.SPACEBAR&&!o.shiftKey&&e.inArray(c,r)>-1&&!s.is(".k-edit-cell,.k-header")&&s.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(o.preventDefault(),o.stopPropagation(),s=i?s:s.parent(),l&&!i&&(s=s.add(a._relatedRow(s))),n)if(o.ctrlKey){if(s.hasClass(_t))return s.removeClass(_t),a.trigger(it),t}else a.selectable.clear();else a.selectable.clear();i||(a.selectable._lastActive=s),a.selectable.value(s)}else!i&&(e(c).is("td")||e(c).is("table")&&Ee(c,this._navigatableTables))&&(o.shiftKey&&o.keyCode==Ce.LEFT||o.shiftKey&&o.keyCode==Ce.RIGHT||o.shiftKey&&o.keyCode==Ce.UP||o.shiftKey&&o.keyCode==Ce.DOWN||o.keyCode===Ce.SPACEBAR&&o.shiftKey)&&(o.preventDefault(),o.stopPropagation(),s=s.parent(),l&&(s=s.add(a._relatedRow(s))),n?(a.selectable._lastActive||(a.selectable._lastActive=s),a.selectable.selectRange(a.selectable._firstSelectee(),s)):(a.selectable.clear(),a.selectable.value(s)))}))},_clipboard:function(){var e,t=this.options;t.selectable&&t.allowCopy&&(e=this,t.navigatable||e.table.add(e.lockedTable).attr("tabindex",0).on("mousedown"+$e+" keydown"+$e,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}).on("mousedown"+$e,Ne+">"+Be,Fe(de,e)),e.copyHandler=Fe(e.copySelection,e),e.updateClipBoardState=function(){e.areaClipBoard&&e.areaClipBoard.val(e.getTSV()).focus().select()},e.bind("change",e.updateClipBoardState),e.wrapper.on("keydown",e.copyHandler),e.clearAreaHandler=Fe(e.clearArea,e),e.wrapper.on("keyup",e.clearAreaHandler))},copySelection:function(t){t instanceof jQuery.Event&&!t.ctrlKey&&!t.metaKey||e(t.target).is("input:visible,textarea:visible")||window.getSelection&&""+window.getSelection()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=e("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var t,n,i,r,o,a,s=this,l=s.select(),c="\t",d=s.options.allowCopy;return e.isPlainObject(d)&&d.delimeter&&(c=d.delimeter),t="",l.length&&(l.eq(0).is("tr")&&(l=l.find("td:not(.k-group-cell)")),l.filter(":visible"),n=[],i=this.columns.length,r=s._isLocked()&&O(s.columns).length,o=!0,e.each(l,function(t,a){var l,c,d;l=(a=e(a)).closest("tr").index(),c=a.index(),c-=a.prevAll(":hidden").length,r&&o&&(o=e.contains(s.lockedTable[0],a[0])),s._groups()&&o&&(c-=s._groups()),i>(c=o?c:c+r)&&(i=c),d=a.text(),n[l]||(n[l]=[]),n[l][c]=d}),a=n.length,n=e.each(n,function(e,t){t&&(n[e]=t.slice(i),a>e&&(a=e))}),e.each(n.slice(a),function(e,n){t+=n?n.join(c)+"\r\n":"\r\n"})),t},clearArea:function(t){var n;this.areaClipBoard&&t&&t.target===this.areaClipBoard[0]&&(n=this.options.navigatable?e(this.current()).closest("table"):this.table,se(n,!0)),this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_minScreenSupport:function(){this.hideMinScreenCols()&&(this.minScreenResizeHandler=Fe(this.hideMinScreenCols,this),e(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){var e=this.columns,t=window.innerWidth>0?window.innerWidth:screen.width;return this._iterateMinScreenCols(e,t)},_iterateMinScreenCols:function(e,n){var i,r,o,a=!1;for(i=0;i<e.length;i++)r=e[i],(o=r.minScreenWidth)!==t&&null!==o&&(a=!0,o>n?this.hideColumn(r):this.showColumn(r)),!r.hidden&&r.columns&&(a=this._iterateMinScreenCols(r.columns,n)||a);return a},_relatedRow:function(t){var n,i,r=this.lockedTable;return t=e(t),r?(n=t.closest(this.table.add(this.lockedTable)),i=n.find(">tbody>tr").index(t),(n=n[0]===this.table[0]?r:this.table).find(">tbody>tr").eq(i)):t},_relatedCell:function(t){var n,i,r=this.lockedTable;return t=e(t),r?(n=t.closest(this.table.add(this.lockedTable)),i=n.find(">tbody>tr>td").index(t),(n=n[0]===this.table[0]?r:this.table).find(">tbody>tr>td").index(i)):t},clearSelection:function(){var e=this;return e.selectable&&e.selectable.clear(),e._checkBoxSelection?(e._deselectCheckRows(e.select()),t):(e.options.persistSelection?e._persistSelectedRows():e._selectedIds={},e.trigger(it),t)},select:function(n){var i=this,r=i.selectable,o=ge.ui.Selectable.parseOptions(this.options.selectable).cell;return n=i.table.add(i.lockedTable).find(n),n.length?(r&&!r.options.multiple&&(r.clear(),n=n.first()),i._isLocked()&&(n=n.add(n.map(function(){return o?i._relatedCell(this):i._relatedRow(this)}))),r?r.value(n):(n.each(function(){e(this).addClass(_t).find(bt).prop("checked",!0).attr("aria-label","Deselect row").attr("aria-checked",!0)}),i.select().length===i.items().length&&i._toggleHeaderCheckState(!0),o||i._persistSelectedRows(),i.trigger(it)),t):r?r.value():i.items().filter("."+_t)},_toggleHeaderCheckState:function(e){var t=this;e?t.thead.add(t.lockedHeader).find("tr "+bt).prop("checked",!0).attr("aria-checked",!0).attr("aria-label","Deselect all rows"):t.thead.add(t.lockedHeader).find("tr "+bt).prop("checked",!1).attr("aria-checked",!1).attr("aria-label","Select all rows")},_deselectCheckRows:function(t){var n=this;t=n.table.add(n.lockedTable).find(t),n._isLocked()&&(t=t.add(t.map(function(){return n._relatedRow(this)}))),t.each(function(){e(this).removeClass(_t).find(bt).attr("aria-checked",!1).prop("checked",!1).attr("aria-label","Select row")}),n._toggleHeaderCheckState(!1),n.options.persistSelection?n._persistSelectedRows():n._selectedIds={},n.trigger(it)},_persistSelectedRows:function(){var e,t,n,i,r=this,o=r.items(),a=r.dataSource.options.schema,s={};if(a&&a.model&&a.model.id)for(n=a.model.id,r.select().each(function(){t=r.dataItem(this),s[t[n]]=!0}),i=0;i<o.length;i++)t=r.dataItem(o[i]),e=t[n],s[e]?r._selectedIds[e]=!0:delete r._selectedIds[e]},selectedKeyNames:function(){var e,t=this,n=[];for(e in t._selectedIds)n.push(e);return n.sort(),n},_updateCurrentAttr:function(t,n){var i=e(t).data("headerId");e(t).removeClass(gt).closest("table").removeAttr("aria-activedescendant"),i?(i=i.replace(this._cellId,""),e(t).attr("id",i)):e(t).removeAttr("id"),n.data("headerId",n.attr("id")).attr("id",this._cellId).addClass(gt).closest("table").attr("aria-activedescendant",this._cellId),this._current=n},_scrollCurrent:function(){var t,n,i,r,o,a,s=this._current,l=this.options.scrollable;s&&l&&(t=s.parent(),n=t.closest("table").parent(),i=n.is(".k-grid-content-locked,.k-grid-header-locked"),r=n.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),o=e(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0],r&&(l.virtual?(a=Math.max(Ee(t[0],this._items(t.parent())),0),this._rowVirtualIndex=this.virtualScrollable.itemIndex(a),this.virtualScrollable.scrollIntoView(t)):this._scrollTo(this._relatedRow(t)[0],o)),this.lockedContent&&(this.lockedContent[0].scrollTop=o.scrollTop),i||this._scrollTo(s[0],o))},current:function(e){return this._setCurrent(e,!0)},_setCurrent:function(t,n){var i=this._current;return(t=e(t)).length&&(i&&i[0]===t[0]||(this._updateCurrentAttr(i,t),this._scrollCurrent(),n||this.trigger(St,{element:t}))),t&&t.length&&(this._lastCellIndex=t.parent().children(Ve).index(t)),this._current},_removeCurrent:function(){this._current&&(this._current.removeClass(gt),this._current=null)},_scrollTo:function(t,n){var i,r=t.tagName.toLowerCase(),o="td"===r||"th"===r,a=t[o?"offsetLeft":"offsetTop"],s=t[o?"offsetWidth":"offsetHeight"],l=n[o?"scrollLeft":"scrollTop"],c=n[o?"clientWidth":"clientHeight"],d=a+s,u=0,p=0,h=0;Nt&&o&&(i=e(t).closest("table")[0],Bt.msie?p=i.offsetLeft:Bt.mozilla&&(h=i.offsetLeft-ge.support.scrollbar())),u=(l=Math.abs(l+p-h))>a?a:d>l+c?s<=c?d-c:a:l,u=Math.abs(u+p)+h,n[o?"scrollLeft":"scrollTop"]=u},_navigatable:function(){var t,n,i,r=this;r.options.navigatable&&(t=r.table.add(r.lockedTable),n=r.thead.parent().add(e(">table",r.lockedHeader)),i=t,r.options.scrollable&&(i=i.add(n),n.attr(It,-1)),this._navigatableTables=i,i.off("mousedown"+$e+" focus"+$e+" focusout"+$e+" keydown"+$e),n.on("keydown"+$e,Fe(r._openHeaderMenu,r)).find("a.k-link").attr("tabIndex",-1),t.attr(It,ze.max(t.attr(It)||0,0)).on("mousedown"+$e+" keydown"+$e,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),i.on(ge.support.touch?"touchstart"+$e:"mousedown"+$e,Ne+">"+Be,Fe(de,r)).on("focus"+$e,Fe(r._tableFocus,r)).on("focusout"+$e,Fe(r._tableBlur,r)).on("keydown"+$e,Fe(r._tableKeyDown,r)))},_openHeaderMenu:function(e){e.altKey&&e.keyCode==Ce.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())},_setTabIndex:function(e){this._navigatableTables.attr(It,-1),e.attr(It,0)},_tableFocus:function(t){var n=this.current(),i=e(t.currentTarget);n&&n.is(":visible")?n.addClass(gt):this._setCurrent(i.find(Ue)),this._setTabIndex(i)},_tableBlur:function(){var e=this.current();e&&e.removeClass(gt)},_tableKeyDown:function(n){var i,r=this.current(),o=this.virtualScrollable&&this.virtualScrollable.fetching(),a=e(n.target),s=!n.isDefaultPrevented()&&!a.is(":button,a,:input,a>.k-icon");return o?(n.preventDefault(),t):((r=r||e(this.lockedTable).add(this.options.scrollable?this.table:this.tbody).find(Ue)).length&&(i=!1,s&&n.keyCode==Ce.UP&&(i=this._moveUp(r,n.shiftKey)),s&&n.keyCode==Ce.DOWN&&(i=this._moveDown(r,n.shiftKey)),s&&n.keyCode==(Nt?Ce.LEFT:Ce.RIGHT)&&(i=this._moveRight(r,n.altKey,n.shiftKey,n.ctrlKey,n.currentTarget)),s&&n.keyCode==(Nt?Ce.RIGHT:Ce.LEFT)&&(i=this._moveLeft(r,n.altKey,n.shiftKey,n.ctrlKey,n.currentTarget)),s&&n.keyCode==Ce.PAGEDOWN&&(i=this._handlePageDown()),s&&n.keyCode==Ce.PAGEUP&&(i=this._handlePageUp()),s&&n.keyCode==Ce.HOME&&(i=this._handleHome(r,n.ctrlKey)),s&&n.keyCode==Ce.END&&(i=this._handleEnd(r,n.ctrlKey)),n.keyCode!=Ce.ENTER&&n.keyCode!=Ce.F2||(i=this._handleEnterKey(r,n.currentTarget,a)),n.keyCode==Ce.ESC&&(i=this._handleEscKey(r,n.currentTarget)),n.keyCode==Ce.TAB&&(i=this._handleTabKey(r,n.currentTarget,n.shiftKey)),i&&(n.preventDefault(),n.stopPropagation())),t)},_moveLeft:function(t,n,i,r,o){var a,s,l=t.parent(),c=l.parent();return n?this.collapseRow(l):r&&t.is(".k-header")&&this.options.reorderable?this._moveColumn(t,!0):(s=c.find(Ne).index(l),(a=this._prevHorizontalCell(c,t,s))[0]||(i?this.lockedTable?(a=this._relatedRow(l),e.contains(this.lockedTable[0],l[0])&&(a=a.prevAll(We+":first")),a=a.children(Ve+":last")):a=this._tabNext(t,o,!0):(c=this._horizontalContainer(c),(a=this._prevHorizontalCell(c,t,s))[0]!==t[0]&&se(c.parent(),!0))),this._setCurrent(a)),!0},_moveRight:function(t,n,i,r,o){var a,s,l=t.parent(),c=l.parent();return n?this.expandRow(l):r&&t.is(".k-header")&&this.options.reorderable?this._moveColumn(t,!1):(s=c.find(Ne).index(l),(a=this._nextHorizontalCell(c,t,s))[0]||(i?this.lockedTable?(a=this._relatedRow(l),e.contains(this.table[0],l[0])&&(a=a.nextAll(We+":first")),a=a.children(Ve+":first")):a=this._tabNext(t,o,!1):(c=this._horizontalContainer(c,!0),(a=this._nextHorizontalCell(c,t,s))[0]!==t[0]&&se(c.parent(),!0))),this._setCurrent(a)),!0},_moveUp:function(e,t){var n,i,r=e.parent().parent();return t?(n=e.parent(),n=n.prevAll(We+":first"),n=e.parent().is(We)?n.children().eq(e.index()):n.children(Ve+":last")):(n=this._prevVerticalCell(r,e))[0]||(this._lastCellIndex=0,r=this._verticalContainer(r,!0),(n=this._prevVerticalCell(r,e))[0]&&se(r.parent(),!0)),i=this._lastCellIndex||0,this._setCurrent(n),this._lastCellIndex=i,!0},_moveDown:function(e,t){var n,i,r=e.parent().parent();return t?(n=e.parent(),n=n.nextAll(We+":first"),n=e.parent().is(We)?n.children().eq(e.index()):n.children(Ve+":first")):(n=this._nextVerticalCell(r,e))[0]||(this._lastCellIndex=0,r=this._verticalContainer(r),(n=this._nextVerticalCell(r,e))[0]&&se(r.parent(),!0)),i=this._lastCellIndex||0,this._setCurrent(n),this._lastCellIndex=i,!0},_moveColumn:function(t,n){var i=this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter+":visible"),r=g(T(this.columns)),o=i.index(e(t)),a=n?-1:1,s=r[o],l=D(r,this.columns,o,o+a);l>=0&&this.reorderColumn(l,s,n)},_handleHome:function(e,t){var n,i=e.parent(),r=i.parent(),o=this.lockedTable&&this.lockedTable.children("tbody")[0]===r[0],a=r[0]===this.tbody[0];if(t?n=this.lockedTable?this.lockedTable.find(qe+">"+Be+":first"):this.table.find(qe+">"+Be+":first"):(a||o)&&(a&&this.lockedTable&&(i=this._relatedRow(i)),n=i.children(Ve+":first")),n&&n.length)return this._setCurrent(n),!0},_handleEnd:function(e,t){var n,i=e.parent(),r=i.parent(),o=this.lockedTable&&this.lockedTable.children("tbody")[0]===r[0],a=r[0]===this.tbody[0];if(t?n=this.table.find("tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible:last>"+Be+":last"):(a||o)&&(!a&&this.lockedTable&&(i=this._relatedRow(i)),n=i.children(Ve+":last")),n&&n.length)return this._setCurrent(n),!0},_handlePageDown:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()+1),!0)},_handlePageUp:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()-1),!0)},_handleTabKey:function(t,n,i){var r;return!(!(this.options.editable&&"incell"==this._editMode())||t.is("th")||((r=e(ke()).closest(".k-edit-cell"))[0]&&r[0]!==t[0]&&(t=r),!(r=this._tabNext(t,n,i)).length||(this._handleEditing(t,r,r.closest("table")),0)))},_handleEscKey:function(t,n){var i,r=ke(),o="incell"==this._editMode();return pe(t)?(o?this.closeCell(!0):(i=e(t).parent().index(),r&&r.blur(),this.cancelRow(!0),i>=0&&this._setCurrent(this.items().eq(i).children(Be).first())),Bt.msie&&Bt.version<9&&document.body.focus(),se(n,!0),!0):!!t.has(r).length&&(se(n,!0),!0)},_toggleCurrent:function(e,t){var n=e.parent();return n.is(".k-grouping-row")?(n.find(".k-icon:first").click(),!0):!(t||!n.is(".k-master-row")||(n.find(".k-icon:first").click(),0))},_handleEnterKey:function(t,n,i){var r,o,a=this.options.editable&&!1!==this.options.editable.update,s=i.closest("[role=gridcell]");return i.is("table")||e.contains(t[0],i[0])||(t=s),t.is("th")?(r=t.find(".k-link"),r.length?r.click():t.find(bt).focus(),!0):!(!this._toggleCurrent(t,a)&&(o=t.find(":kendoFocusable:first"),o[0]&&!t.hasClass("k-edit-cell")&&t.hasClass("k-state-focused")?(o.focus(),0):!a||i.is(":button,.k-button,textarea")||(s[0]||(s=t),this._handleEditing(s,!1,n),0)))},_nextHorizontalCell:function(e,t,n){var i,r,o=t.nextAll(Ve);return o.length||(i=e.find(Ne),-1!=i.index(t.parent()))?o.first():t.hasClass("k-header")?(r=[],P([O(this.columns)[0]],q(i.eq(0).children(":visible").first()),r,0,0),r[n]?r[n][0]:t):t.parent().hasClass("k-filter-row")?i.last().children(Ve).first():i.eq(n).children(Ve).first()},_prevHorizontalCell:function(e,t,n){var i,r,o,a=t.prevAll(Ve);return a.length||(i=e.find(Ne),-1!=i.index(t.parent()))?a.first():t.hasClass("k-header")?(r=[],o=O(this.columns),P([o[o.length-1]],q(i.eq(0).children().last()),r,0,0),r[n]?r[n][0]:t):t.parent().hasClass("k-filter-row")?i.last().children(Ve).last():i.eq(n).children(Ve).last()},_currentDataIndex:function(e,n){var i,r=n.attr("data-index");return r?(i=O(this.columns).length,i&&!e.closest("div").hasClass("k-grid-content-locked")[0]?r-i:r):t},_prevVerticalCell:function(t,n){var i,r=n.parent(),o=t.children(Ne),a=o.index(r),s=this._currentDataIndex(t,n);if(s||n.hasClass("k-header"))return(i=W(n)).eq(i.length-2);if(s=Math.max(r.children(Ve).index(n),this._lastCellIndex||0),r.hasClass("k-filter-row"))return B(t).filter(h).eq(s);if(-1==a){if(!(r=t.find("tr.k-filter-row:visible"))[0])return B(t).filter(h).eq(s)}else r=0===a?e():o.eq(a-1);return(i=r.children(Ve)).eq(i.length>s?s:0)},_nextVerticalCell:function(e,n){var i,r,o,a,s,l,c=n.parent(),d=e.children(Ne),u=d.index(c),p=this._currentDataIndex(e,n);if(-1!=u&&p===t&&n.hasClass("k-header"))return q(n).eq(1);if(p=p?parseInt(p,10):c.children(Ve).index(n),p=Math.max(p,this._lastCellIndex||0),c=d.eq(-1==u?0:u+n[0].rowSpan),r=p,this._currentDataIndex(e,n)!==t)for(o=c.children(":not(.k-group-cell):not(.k-hierarchy-cell)"),a=o.filter(":hidden"),s=0,l=a.length;s<l;s++)o.index(a[s])<p&&r--;return p=r,(i=c.children(Ve)).eq(i.length>p?p:0)},_verticalContainer:function(e,t){var n=e.parent(),i=this._navigatableTables.length,r=Math.floor(i/2),o=Ee(n[0],this._navigatableTables);return t&&(r*=-1),((o+=r)>=0||o<i)&&(n=this._navigatableTables.eq(o)),n.find(t?"thead":"tbody")},_horizontalContainer:function(e,t){var n,i,r=this._navigatableTables.length;return r<=2?e:(n=e.parent(),i=Ee(n[0],this._navigatableTables),i+=t?1:-1,!t||2!=i&&i!=r?!t&&(1==i||i<0)?e:this._navigatableTables.eq(i).find("thead, tbody"):e)},_tabNext:function(e,t,n){var i=!0,r=n?e.prevAll(Ve+":first"):e.nextAll(":visible:first");return r.length||(r=e.parent(),this.lockedTable&&(i=n&&t==this.lockedTable[0]||!n&&t==this.table[0],r=this._relatedRow(r)),i&&(r=r[n?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),r=r.children(Ve+(n?":last":":first"))),r},_handleEditing:function(n,i,r){var o,a,s=this,l=e(ke()),c=s._editMode(),d=Bt.msie,u=d&&Bt.version<9,p=s._editContainer,h=s.options.editable&&!1!==s.options.editable.update;if(r=e(r),a="incell"==c?n.hasClass("k-edit-cell"):n.parent().hasClass("k-grid-edit-row"),s.editable){if(e.contains(p[0],l[0])&&(Bt.opera||u?l.blur().change().triggerHandler("blur"):(l.blur(),d&&l.blur())),!s.editable)return se(r),t;if(!s.editable.end())return s._setCurrent("incell"==c?p:p.children().filter(Ve).first()),(o=p.find(":kendoFocusable:first")[0])&&o.focus(),t;"incell"==c?s.closeCell():(s.saveRow(),a=!0)}i&&s._setCurrent(i),u&&document.body.focus(),se(r,!0),h&&(!a&&!i||i)&&("incell"==c?s.editCell(s.current()):s.editRow(s.current().parent()))},_wrapper:function(){var e=this,t=e.table,n=e.options.height,i=e.element;i.is("div")||(i=i.wrap("<div/>").parent()),e.wrapper=i.addClass("k-grid k-widget k-display-block"),n&&(e.wrapper.css(Dt,n),t.css(Dt,"auto")),e._initMobile()},_initMobile:function(){var t,n=this.options,i=this;this._isMobile=!0===n.mobile&&ge.support.mobileOS||"phone"===n.mobile||"tablet"===n.mobile,this._isMobile&&(t=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+ge.ns+'stretch="true" data-'+ge.ns+'role="view" data-'+ge.ns+'init-widgets="false"></div>').parent(),this.pane=ge.mobile.ui.Pane.wrap(t),this.view=this.pane.view(),this._actionSheetPopupOptions=e(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},n.height&&this.pane.element.parent().css(Dt,n.height),this._editAnimation="slide",this.view.bind("show",function(){i._isLocked()&&(i._updateTablesWidth(),i._applyLockedContainersWidth(),i._syncLockedContentHeight(),i._syncLockedHeaderHeight(),i._syncLockedFooterHeight())}))},_tbody:function(){var t,n=this,i=n.table;(t=i.find(">tbody")).length||(t=e("<tbody/>").appendTo(i)),n.tbody=t.attr("role","rowgroup")},_scrollable:function(){var t,n,i,r,o,a,s,l=this,c=l.options.scrollable,d=!0!==c&&c.virtual&&!l.virtualScrollable,u=!ge.support.kineticScrollNeeded||d?ge.support.scrollbar():0;c&&((t=l.wrapper.children(".k-grid-header"))[0]||(t=e('<div class="k-grid-header" />').insertBefore(l.table)),t.css(Nt?"padding-left":"padding-right",c.virtual?u+1:u),n=e('<table role="grid" />'),Wt&&n.attr("cellspacing",0),n.width(l.table[0].style.width),n.append(l.thead),t.empty().append(e('<div class="k-grid-header-wrap k-auto-scrollable" />').append(n)),l.content=l.table.parent(),l.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(l.content=l.content.parent()),l.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(l.content=l.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent()),d&&l._createVirtualScrollable(),i=t.children(".k-grid-header-wrap"),l.scrollables=i.add(l.content),(r=l.wrapper.find(".k-grid-footer")).length&&(l.scrollables=l.scrollables.add(r.children(".k-grid-footer-wrap"))),i.unbind("scroll"+$e).bind("scroll"+$e,function(e){l._scrollLeft!==this.scrollLeft&&l.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft)}),c.virtual?l.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+$e).bind("scroll"+$e,function(){l.scrollables.scrollLeft(this.scrollLeft),l.lockedContent&&(l.lockedContent[0].scrollTop=this.scrollTop)}):(o=c.endless,a=l.dataSource.options.pageSize,o&&(l._endlessPageSize=a),l.content.unbind("scroll"+$e).bind("scroll"+$e,function(e){l._scrollLeft=this.scrollLeft,l.scrollables.not(e.currentTarget).scrollLeft(l._scrollLeft),l.lockedContent&&e.currentTarget==l.content[0]&&(l.lockedContent[0].scrollTop=this.scrollTop),o&&this.scrollTop+this.clientHeight-this.scrollHeight>=-10&&!l._endlessFetchInProgress&&l._endlessPageSize<l.dataSource.total()&&(l._skipRerenderItemsCount=l._endlessPageSize,l._endlessPageSize=l._endlessPageSize+a,l.dataSource.options.endless=!0,l._endlessFetchInProgress=!0,l.dataSource.pageSize(l._endlessPageSize))}),(s=l.content.data("kendoTouchScroller"))&&s.destroy(),(s=ge.touchScroller(l.content))&&s.movable&&(l.touchScroller=s,s.movable.bind("change",function(e){l.scrollables.scrollLeft(-e.sender.x),l.lockedContent&&l.lockedContent.scrollTop(-e.sender.y)}),l.one(st,function(e){e.sender.wrapper.addClass("k-grid-backface")}))))},_createVirtualScrollable:function(){var e=this;e.virtualScrollable&&e.virtualScrollable.destroy(),e.virtualScrollable=new jt(e.content,{dataSource:e.dataSource,itemHeight:function(){return e._averageRowHeight()},page:function(){e._restoreEditableState()},scroll:function(){e._focusEditable()}}),e.virtualScrollable.bind(pt,Fe(e._onVirtualPaging,e))},_onVirtualPaging:function(){var e=this;e._cacheEditableState(),e._isVirtualIncellEditable()&&(e._shouldClearEditableState=!1,e.closeCell(),e._shouldClearEditableState=!0)},_isVirtualEditable:function(){return this._isVirtualIncellEditable()||this._isVirtualInlineEditable()||this._isVirtualPopupEditable()},_isVirtualInlineEditable:function(){return this.virtualScrollable&&"inline"===this._editMode()},_isVirtualIncellEditable:function(){return this.virtualScrollable&&"incell"===this._editMode()},_isVirtualPopupEditable:function(){return this.virtualScrollable&&"popup"===this._editMode()},_scrollVirtualWrapper:function(){var e=this,t=e.virtualScrollable;(e._isVirtualInlineEditable()||e._isVirtualIncellEditable())&&(t._isScrolledToBottom()?t._scrollWrapperToBottom():t._isScrolledToTop()&&t._scrollWrapperToTop())},_scrollVirtualWrapperOnColumnResize:function(){var e=this.virtualScrollable;e&&e._scrollWrapperOnColumnResize()},_restoreEditableState:function(){var t,i,r=this,o=r._editableState||{},a=o.model,s=r.dataSource,l=r._isVirtualInlineEditable(),c=r._isVirtualIncellEditable();(l||c)&&a&&s._getByUid(a.uid,s.view())&&(l?(r._shouldClearEditableState=!1,r.editRow(a),r._focusEditable()):c&&(t=r.tbody.children(n("uid",a.uid)),(i=e(t).children(n("field",o.field)))[0]&&(r._shouldClearEditableState=!1,r.editCell(i),r._focusEditable()))),r._shouldClearEditableState=!0},_focusEditable:function(){var e=this,t=(e._editableState||{}).field,i=e._editContainer;i&&!Oe(i[0],ke())&&e._canFocusEditable()&&(e._isVirtualInlineEditable()?i.find(n(Mt,t)).find(mt).eq(0).focus():e._isVirtualIncellEditable()&&i.find(mt).eq(0).focus())},_canFocusEditable:function(){var e=this;return(e._isVirtualIncellEditable()||e._isVirtualInlineEditable())&&e.virtualScrollable._isElementVisible(e._editContainer)},_cacheEditableState:function(){var t,n,i=this,r=i._editContainer,o=r?i._modelForContainer(r):null,a=i._isVirtualInlineEditable(),s=i._isVirtualIncellEditable();(a||s)&&o&&(i._clearEditableState(),t=e(ke()),r&&t[0]&&Oe(r[0],t[0])&&(t.change(),(n=ge.widgetInstance(t,ge.ui))&&Ae(n.value)&&t.is("input")&&(n.value(t.val()),n.trigger(it))),a?i._editableState={model:o,field:t.closest("["+ge.attr(Mt)+"]").attr(ge.attr(Mt))}:s&&(i._editableState={model:o,field:r.attr(ge.attr("field"))}))},_clearEditableState:function(){var e=this;e.virtualScrollable&&(e._editableState=null)},_destroyVirtualScrollable:function(){var e=this;e._clearEditableState(),e.virtualScrollable&&e.virtualScrollable.element&&e.virtualScrollable.destroy(),e.virtualScrollable=null},_renderNoRecordsContent:function(){var t,n=this;n.options.noRecords&&((t=n.table.parent().children("."+kt)).length&&(n.angular("cleanup",function(){return{elements:t.get()}}),t.remove()),n.dataSource&&n.dataSource.view().length||(t=e(n.noRecordsTemplate({})).insertAfter(n.table),n.angular("compile",function(){return{elements:t.get(),data:[{}]}})))},_setContentWidth:function(t){var n,i=this,r="k-grid-content-expander",o=i.resizable;i.options.scrollable&&i.wrapper.is(":visible")&&(n=i.table.parent().children("."+r),i._setContentWidthHandler=Fe(i._setContentWidth,i),i.dataSource&&i.dataSource.view().length?n[0]&&(n.remove(),o&&o.unbind("resize",i._setContentWidthHandler)):(n[0]||(n=e('<div class="k-grid-content-expander"></div>').appendTo(i.table.parent()),o&&o.bind("resize",i._setContentWidthHandler)),i.thead&&(n.width(i.thead.width()),isNaN(parseFloat(t,10))||i.content.scrollLeft(t))),i._applyLockedContainersWidth(),i.lockedHeader&&0===i.table[0].clientWidth&&(i.table[0].style.width="1px"))},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var e,t=this.thead.parent(),n=t.parent(),i=this.wrapper[0].clientWidth,r=this._groups(),o=ge.support.scrollbar(),a=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),s=t.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),l=E(a),c=E(s);r>0&&(l+=ye(this.lockedHeader.find(".k-group-cell:first"))*r),l>=i&&(l=i-3*o),this.lockedHeader.add(this.lockedContent).width(l),n[0].style.width=n.parent().width()-l-2+"px",t.add(this.table).width(c),this.virtualScrollable&&!Ut&&(i-=o),this.content[0].style.width=i-l-2+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(l),e=this.footer.find(".k-grid-footer-wrap"),e[0].style.width=n[0].clientWidth+"px",e.children().first().width(c))}},_setContentHeight:function(){var e,t=this,n=t.options,i=t.wrapper.innerHeight(),r=t.wrapper.children(".k-grid-header"),o=ge.support.scrollbar(),a=(n.scrollable||{}).height;n.scrollable&&t.wrapper.is(":visible")&&(i-=xe(r),t.pager&&t.pager.element.is(":visible")&&(i-=xe(t.pager.element)),n.groupable&&(i-=xe(t.wrapper.children(".k-grouping-header"))),n.toolbar&&(i-=xe(t.wrapper.children(".k-grid-toolbar"))),t.footerTemplate&&(i-=xe(t.wrapper.children(".k-grid-footer"))),e=function(e){var t,n;return!!e[0].style.height||(t=e.height(),e.height("auto"),n=e.height(),t!=n?(e.height(""),!0):(e.height(""),!1))},e(t.wrapper)?i>2*o?(t.lockedContent&&(o=t.table[0].offsetWidth>t.table.parent()[0].clientWidth?o:0,t.lockedContent.height(i-o)),t.content.height(i)):t.content.height(2*o+1):a&&t.content.css("height",a))},_averageRowHeight:function(){var e,t=this,n=t._items(t.tbody).length,i=t._rowHeight;return 0===n?i:(t._rowHeight||(t._rowHeight=i=xe(t.table)/n,t._sum=i,t._measures=1),e=xe(t.table)/n,i!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sum/t._measures),i)},_dataSource:function(){var e,n=this,i=n.options,r=i.dataSource;r=He(r)?{data:r}:r,Se(r)&&(Te(r,{table:n.table,fields:n.columns}),e=i.pageable,Se(e)&&e.pageSize!==t&&(r.pageSize=e.pageSize)),n.dataSource&&n._refreshHandler?n.dataSource.unbind(it,n._refreshHandler).unbind(Re,n._progressHandler).unbind(Le,n._errorHandler):(n._refreshHandler=Fe(n.refresh,n),n._progressHandler=Fe(n._requestStart,n),n._errorHandler=Fe(n._error,n)),n.dataSource=_e.create(r).bind(it,n._refreshHandler).bind(Re,n._progressHandler).bind(Le,n._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var n,i,r,o,a,s,l,c,d,u,p=this,h=p.tbody,f=t.model,g=p.tbody.find("tr["+ge.attr("uid")+"="+f.uid+"]"),m=g.hasClass("k-alt"),_=p._items(h).index(g),v=p.lockedContent;if(v&&(n=p._relatedRow(g)),g.add(n).children(".k-edit-cell").length&&!p.options.rowTemplate)g.add(n).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){i=e(this),(r=N(p.columns)[p.cellIndex(i)]).field===t.field&&(i.hasClass("k-edit-cell")?i.addClass("k-dirty-cell"):p._displayCell(i,r,f))});else if(!g.hasClass("k-grid-edit-row")){for(s=e().add(g),v&&(o=(m?p.lockedAltRowTemplate:p.lockedRowTemplate)(f),s=s.add(n),n.replaceWith(o)),p.angular("cleanup",function(){return{elements:s.get()}}),o=(m?p.altRowTemplate:p.rowTemplate)(f),g.replaceWith(o),o=p._items(h).eq(_),u=[{dataItem:f}],v&&(g=g.add(n),n=p._relatedRow(o)[0],oe(o[0],n),o=o.add(n),u.push({dataItem:f})),p.angular("compile",function(){return{elements:o.get(),data:u}}),((a=p.options.selectable)||p._checkBoxSelection)&&g.hasClass("k-state-selected")&&p.select(o),c=s.children(":not(.k-group-cell,.k-hierarchy-cell)"),l=o.children(":not(.k-group-cell,.k-hierarchy-cell)"),_=0,d=p.columns.length;_<d;_++)r=p.columns[_],i=l.eq(_),a&&c.eq(_).hasClass("k-state-selected")&&i.addClass("k-state-selected");p.trigger("itemChange",{item:o,data:f,ns:me})}},_pageable:function(){var t,n=this,i=n.options.pageable;i&&((t=n.wrapper.children("div.k-grid-pager")).length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(n.wrapper)),n.pager&&n.pager.destroy(),n.pager="object"==typeof i&&i instanceof ge.ui.Pager?i:new ge.ui.Pager(t,Te({},i,{dataSource:n.dataSource})),n.pager.bind("pageChange",function(e){n.trigger("page",{page:e.index})&&e.preventDefault()}))},_footer:function(){var t,n,i,r=this,o=r.dataSource.aggregates(),a="",s=r.footerTemplate,l=r.options,c=r.footer||r.wrapper.find(".k-grid-footer");s?(a=e(r._wrapFooter(s(o))),c.length?(n=a,r.angular("cleanup",function(){return{elements:c.get()}}),c.replaceWith(n),c=r.footer=n):c=r.footer=l.scrollable?l.pageable?a.insertBefore(r.wrapper.children("div.k-grid-pager")):a.appendTo(r.wrapper):a.insertBefore(r.tbody),r.angular("compile",function(){return{elements:c.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:De(r.columns,function(e){return{column:e,aggregate:o[e.field]}})}})):c&&!r.footer&&(r.footer=c),c.length&&(l.scrollable&&(t=c.attr("tabindex",-1).children(".k-grid-footer-wrap"),r.scrollables=e(r.scrollables.filter(function(){return!e(this).is(".k-grid-footer-wrap")}).toArray()).add(t)),r._footerWidth&&c.find("table").css("width",r._footerWidth),t&&(i=r.content.scrollLeft(),!0!==l.scrollable&&l.scrollable.virtual&&(i=r.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),t.scrollLeft(i))),r.lockedContent&&(r._appendLockedColumnFooter(),r._applyLockedContainersWidth(),r._syncLockedFooterHeight())},_wrapFooter:function(t){var n=this,i="",r=ge.support.mobileOS?0:ge.support.scrollbar();return n.options.scrollable?(i=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(Wt?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),n._appendCols(i.find("table")),i.css(Nt?"padding-left":"padding-right",r),i):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var e,n,i,r,o,a,s,l,c,d=this,u=N(d.columns),p=d.options,h=p.columnMenu,f=Ie(d.columns,function(e){return e.columns!==t}).length>0,g=this._isMobile,m=function(e){d.trigger(Ze,{field:e.field,container:e.container})},_=function(e){d.trigger(tt,{field:e.field,container:e.container})},v=function(e){se(e.closest("table"),!0)},b=function(e){d.trigger("sort",{sort:e.sort})?e.preventDefault():(d._clearEditableState(),d.dataSource.options.endless&&(d.dataSource.options.endless=null,d._endlessPageSize=d.dataSource.options.pageSize,d.dataSource.pageSize(d.dataSource.options.pageSize)))},k=function(e){d.trigger("filter",{filter:e.filter,field:e.field})?e.preventDefault():(d._clearEditableState(),d.dataSource.options.endless&&(d.dataSource.options.endless=null,d._endlessPageSize=d.dataSource.options.pageSize,d.dataSource.pageSize(d.dataSource.options.pageSize)))},w=p.$angular;if(h)for("boolean"==typeof h&&(h={}),a=B(d.thead),s=0,l=a.length;s<l;s++)n=u[s],c=a.eq(s),n.command||!n.field&&!c.attr("data-"+ge.ns+"field")||((e=c.data("kendoColumnMenu"))&&e.destroy(),r=!1!==n.sortable&&!1!==h.sortable&&!1!==p.sortable&&Te({},p.sortable,{compare:(n.sortable||{}).compare}),o=!(!p.filterable||!1===n.filterable||!1===h.filterable)&&Te({pane:d.pane},p.filterable,n.filterable),n.filterable&&n.filterable.dataSource&&(o.forceUnique=!1,o.checkSource=n.filterable.dataSource),o&&(o.format=n.format),i={dataSource:d.dataSource,values:n.values,columns:h.columns,sortable:r,filterable:o,messages:h.messages,owner:d,closeCallback:v,init:m,open:_,pane:d.pane,sort:b,filtering:k,filter:g?":not(.k-column-active)":"",lockedColumns:!f&&!1!==n.lockable&&O(u).length>0},w&&(i.$angular=w),c.kendoColumnMenu(i))},_headerCells:function(){return this.thead.find("th").filter(function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")})},_filterable:function(){var e,t,n,i,r,o,a,s=this,l=N(s.columns),c=function(e){s.trigger(Xe,{field:e.field,container:e.container})},d=function(e){se(e.closest("table"),!0)},u=function(e){s.trigger("filter",{filter:e.filter,field:e.field})?e.preventDefault():(s._clearEditableState(),s.dataSource.options.endless&&(s.dataSource.options.endless=null,s._endlessPageSize=s.dataSource.options.pageSize,s.dataSource.pageSize(s.dataSource.options.pageSize)))},p=function(e){s.trigger(et,{field:e.field,container:e.container})},h=s.options.filterable;if(h&&typeof h.mode==Et&&-1==h.mode.indexOf("menu")&&(h=!1),h&&!s.options.columnMenu)for(t=B(s.thead),i=0,r=t.length;i<r;i++)n=t.eq(i),!1===l[i].filterable||l[i].command||!l[i].field&&!n.attr("data-"+ge.ns+"field")||((e=n.data("kendoFilterMenu"))&&e.destroy(),(e=n.data("kendoFilterMultiCheck"))&&e.destroy(),o=l[i].filterable,a=Te({},h,o,{dataSource:s.dataSource,values:l[i].values,format:l[i].format,closeCallback:d,title:l[i].title||l[i].field,init:c,open:p,pane:s.pane,change:u}),o&&o.messages&&(a.messages=Te(!0,{},h.messages,o.messages)),o&&o.dataSource&&(a.forceUnique=!1,a.checkSource=o.dataSource),o&&o.multi?n.kendoFilterMultiCheck(a):n.kendoFilterMenu(a))},_filterRow:function(){var t,n,i,r,o,a,s,l,c,d,u,p,h,f,g,m=this;if(m._hasFilterRow())for(n=m.options.$angular,i=N(m.columns),r=m.options.filterable,o=m.thead.find(".k-filter-row"),a=function(e){m.trigger("filter",{filter:e.filter,field:e.field})?e.preventDefault():(m._clearEditableState(),m.dataSource.options.endless&&(m.dataSource.options.endless=null,m._endlessPageSize=m.dataSource.options.pageSize,m.dataSource.pageSize(m.dataSource.options.pageSize)))},this._updateHeader(this.dataSource.group().length),s=0;s<i.length;s++)if(c=i[s],d=m.options.filterable.operators,u=!1,p=e("<th/>"),h=c.field,c.hidden&&p.hide(),o.append(p),h&&!1!==c.filterable){if(f=c.filterable&&c.filterable.cell||{},(l=m.options.dataSource)instanceof _e&&(l=m.options.dataSource.options),g=Te(!0,{},r.messages),c.filterable&&Te(!0,g,c.filterable.messages),!1===f.enabled){p.html("&nbsp;");continue}f.dataSource&&(l=f.dataSource,u=!0),c.filterable&&c.filterable.operators&&(d=c.filterable.operators),t={column:c,dataSource:m.dataSource,suggestDataSource:l,customDataSource:u,field:h,messages:g,values:c.values,template:f.template,delay:f.delay,inputWidth:f.inputWidth,suggestionOperator:f.suggestionOperator,minLength:f.minLength,dataTextField:f.dataTextField,operator:f.operator,operators:d,showOperators:f.showOperators,change:a},n&&(t.$angular=n),e("<span/>").attr(ge.attr("field"),h).appendTo(p).kendoFilterCell(t)}else p.html("&nbsp;")},_sortable:function(){var e,t,n,i,r,o,a=this,s=N(a.columns),l=a.options.sortable,c=function(e){a.trigger("sort",{sort:e.sort})?e.preventDefault():a._clearEditableState()};if(l){for(r=0,o=(i=B(a.thead)).length;r<o;r++)!1!==(e=s[r]).sortable&&!e.command&&e.field&&(n=i.eq(r),(t=n.data("kendoColumnSorter"))&&t.destroy(),n.attr("data-"+ge.ns+"field",e.field).kendoColumnSorter(Te({},l,e.sortable,{dataSource:a.dataSource,aria:!0,filter:":not(.k-column-active)",change:c})));i=null}},_columns:function(t){var n,i,r,o,a=this,s=a.table,l=s.find("col"),d=a.element.find("thead:first th[data-index]"),u=a.options.dataSource;if(t=t.length?t:De(s.find("th"),function(t,n){var i=(t=e(t)).attr(ge.attr("sortable")),r=t.attr(ge.attr("filterable")),o=t.attr(ge.attr("type")),a=t.attr(ge.attr("groupable")),s=t.attr(ge.attr("field")),c=t.attr(ge.attr("title")),d=t.attr(ge.attr("menu"));return s||(s=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:s,type:o,title:c,sortable:"false"!==i,filterable:"false"!==r,groupable:"false"!==a,menu:d,template:t.attr(ge.attr("template")),width:l.eq(n).css("width")}}),n=!(a.table.find("tbody tr").length>0&&(!u||!u.transport)),a.options.scrollable){if(o=t,i=O(t),t=z(t),i.length>0&&0===t.length)throw Error("There should be at least one non locked column");Y(a.element.find("tr:has(th):first"),o),t=i.concat(t)}a.columns=c(t,n),d.length&&a.columns.length&&(r=N(a.columns),De(d,function(t){var n,i;n=(t=e(t)).attr("id"),i=ge.parseInt(t.attr("data-index")),n&&(r[i].headerAttributes=Te(r[i].headerAttributes,{id:n}))})),e.grep(N(a.columns),function(e){return e.selectable}).length&&(a._selectedIds={},a._checkBoxSelection=!0,a.wrapper.on(Tt+$e,"tbody > tr "+bt,Fe(a._checkboxClick,a)),a.wrapper.on(Tt+$e,"thead > tr "+bt,Fe(a._headerCheckboxClick,a)))},_headerCheckboxClick:function(t){var n=this,i=e(t.target),r=i.prop("checked"),o=i.closest(".k-grid.k-widget").getKendoGrid();n===o&&(r?n.select(o.items()):n.clearSelection())},_checkboxClick:function(t){var n=this,i=e(t.target).closest("tr"),r=!i.hasClass(_t);n===i.closest(".k-grid.k-widget").getKendoGrid()&&(r?n.select(i):n._deselectCheckRows(i))},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,n,o,a){var s,l,c,d,u=this,p=Te({},ge.Template,u.options.templateSettings),h=p.paramName,f=n.length,g={storage:{},count:0},m=u._hasDetails(),_=[],v=u._groups(),b=u.options.navigatable,k=ge.attr("field"),w="";if(!e){for(e="<tr",o&&_.push("k-alt"),m&&_.push("k-master-row"),_.length&&(e+=' class="'+_.join(" ")+'"'),f&&(e+=" "+ge.attr("uid")+'="#='+ge.expr("uid",p.paramName)+'#"'),e+=" role='row'>",v>0&&!a&&(e+=i(v)),m&&(e+='<td class="k-hierarchy-cell" aria-expanded="false"><a class="k-icon k-i-expand" href="\\#" '+Pt+'="'+At+'" tabindex="-1"></a></td>'),s=0;s<f;s++)c=n[s],l=c.template,typeof l,d=c.field,"incell"===u._editMode()&&d&&(c.attributes=c.attributes||{},u.virtualScrollable&&(c.attributes[k]=d),w=u._dirtyCellTemplate(d,h),c.attributes.class=c.attributes.class||"",c.attributes.class.indexOf(w)<0&&(c.attributes.class+=w)),c.command&&(c.attributes=c.attributes||{},t!==c.attributes.class?c.attributes.class+=" k-command-cell":c.attributes.class="k-command-cell"),e+="<td"+r(c.attributes),b&&(e+=" aria-describedby='"+c.headerAttributes.id+"'"),e+=" role='gridcell'>",e+=u._cellTmpl(c,g),e+="</td>";e+="</tr>"}return e=ge.template(e,p),g.count>0?Fe(e,g.storage):e},_dirtyCellTemplate:function(e,t){var n;return e&&t?(n="["===e.charAt(0)?ge.expr(e,t+".dirtyFields"):t+".dirtyFields['"+e+"']","#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+n+" ? ' k-dirty-cell' : '' #"):""},_headerCellText:function(e){var t=this,n=Te({},ge.Template,t.options.templateSettings),i=e.headerTemplate,r=typeof i,o=e.title||e.field||"";return r===Ht?o=ge.template(i,n)({}):r===Et&&(o=i),o},_cellTmpl:function(e,t){var n,i,r=this,o=Te({},ge.Template,r.options.templateSettings),a=e.template,s=o.paramName,l=e.field,c="",d=e.format,u=typeof a,p=e.values;if(e.command){if(He(e.command)){for(n=0,i=e.command.length;n<i;n++)c+=e.command[n].visible?ge.format("#= {0}(data)? '{1}':'' #",e.command[n].visible,r._createButton(e.command[n]).replace(zt,"\\#")):r._createButton(e.command[n]).replace(zt,"\\#");return c}return r._createButton(e.command).replace(zt,"\\#")}return e.selectable?'# var checkboxGuid = kendo.guid(); #<input class="k-checkbox" data-role="checkbox" id="#= checkboxGuid #" aria-label="Select row" aria-checked="false" type="checkbox"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">&\\#8203;</label>':(c+=r._dirtyIndicatorTemplate(l,s),u===Ht?(t.storage["tmpl"+t.count]=a,c+="#=this.tmpl"+t.count+"("+s+")#",t.count++):u===Et?c+=a:p&&p.length&&Se(p[0])&&"value"in p[0]&&l?(c+="#var v ="+ge.stringify(K(p)).replace(zt,"\\#")+"#",c+="#var f = v[",o.useWithBlock||(c+=s+"."),c+=l+"]#",c+="${f != null ? f : ''}"):(c+=e.encoded?"#:":"#=",d&&(c+='kendo.format("'+d.replace(Ot,"\\$1")+'",'),l?(l=ge.expr(l,s),c+=l+"==null?'':"+l):c+="''",d&&(c+=")"),c+="#"),c)},_dirtyIndicatorTemplate:function(e,t){var n;return e&&t?(n="["===e.charAt(0)?ge.expr(e,t+".dirtyFields"):t+".dirtyFields['"+e+"']","#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+n+" ? '<span class=\"k-dirty\"></span>' : '' #"):""},_templates:function(){var t=this,n=t.options,i=t.dataSource,r=i.group(),o=t.footer||t.wrapper.find(".k-grid-footer"),a=i.aggregate(),s=N(t.columns),l=N(O(t.columns)),c=n.scrollable?N(z(t.columns)):s;if(n.scrollable&&l.length){if(n.rowTemplate||n.altRowTemplate)throw Error("Having both row template and locked columns is not supported");t.rowTemplate=t._tmpl(n.rowTemplate,c,!1,!0),t.altRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,c,!0,!0),t.lockedRowTemplate=t._tmpl(n.rowTemplate,l),t.lockedAltRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,l,!0)}else t.rowTemplate=t._tmpl(n.rowTemplate,c),t.altRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,c,!0);t._hasDetails()&&(t.detailTemplate=t._detailTmpl(n.detailTemplate||"")),(t._group&&!Pe(a)||!Pe(a)&&!o.length||Ie(s,function(e){return e.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(s,a,"footerTemplate","k-footer-template")),r&&Ie(s,function(e){return e.groupFooterTemplate}).length&&(a=e.map(r,function(e){return e.aggregates}),t.groupFooterTemplate=t._footerTmpl(c,a,"groupFooterTemplate","k-group-footer",l.length),n.scrollable&&l.length&&(t.lockedGroupFooterTemplate=t._footerTmpl(l,a,"groupFooterTemplate","k-group-footer"))),t.options.noRecords&&(t.noRecordsTemplate=t._noRecordsTmpl())},_noRecordsTmpl:function(){var t,n,i,r=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"",o={storage:{},count:0},a=e.extend({},ge.Template,this.options.templateSettings),s=a.paramName,l="";return t=this.options.noRecords.template?this.options.noRecords.template:ge.format('<div class="k-grid-norecords-template"{1}>{0}</div>',this.options.messages.noRecords,r),n=typeof t,"function"===n?(o.storage["tmpl"+o.count]=t,l+="#=this.tmpl"+o.count+"("+s+")#",o.count++):"string"===n&&(l+=t),i=ge.template(ge.format('<div class="{0}">{1}</div>',kt,l),a),o.count>0&&(i=e.proxy(i,o.storage)),i},_footerTmpl:function(e,t,n,o,a){var s,l,c,d,u,p=this,h=Te({},ge.Template,p.options.templateSettings),f=h.paramName,g="",m={},_=0,v={},b=p._groups(),k=p.dataSource._emptyAggregates(t);for(g+='<tr class="'+o+'">',b>0&&!a&&(g+=i(b)),p._hasDetails()&&(g+='<td class="k-hierarchy-cell">&nbsp;</td>'),s=0,l=e.length;s<l;s++)u=e[s],c=u[n],d=typeof c,g+="<td"+r(u.footerAttributes)+">",c?(d!==Ht&&(v=k[u.field]?Te({},h,{paramName:f+"['"+u.field+"']"}):{},c=ge.template(c,v)),m["tmpl"+_]=c,g+="#=this.tmpl"+_+"("+f+")#",_++):g+="&nbsp;",g+="</td>";return g+="</tr>",g=ge.template(g,h),_>0?Fe(g,m):g},_detailTmpl:function(e){var t=this,n="",r=Te({},ge.Template,t.options.templateSettings),o=r.paramName,a={},s=0,l=t._groups(),c=g(N(t.columns)).length,d=typeof e;return n+='<tr class="k-detail-row">',l>0&&(n+=i(l)),n+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(c?' colspan="'+c+'"':"")+">",d===Ht?(a["tmpl"+s]=e,n+="#=this.tmpl"+s+"("+o+")#",s++):n+=e,n+="</td></tr>",n=ge.template(n,r),s>0?Fe(n,a):n},_hasDetails:function(){var e=this;return null!==e.options.detailTemplate||(e._events[Je]||[]).length},_hasFilterRow:function(){var t=this.options.filterable,n=t&&typeof t.mode==Et&&-1!=t.mode.indexOf("row"),i=this.columns,r=e.grep(i,function(e){return!1===e.filterable});return i.length&&r.length==i.length&&(n=!1),n},_details:function(){var t=this;if(t.options.scrollable&&t._hasDetails()&&O(t.columns).length)throw Error("Having both detail template and locked columns is not supported");t.table.on(Tt+$e,".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse",function(n){var i,r,o=e(this),a=o.closest("td.k-hierarchy-cell"),s=o.hasClass("k-i-expand"),l=o.closest("tr.k-master-row"),c=t.detailTemplate,d=t._hasDetails(),u=s?Ft:At,p=!!s;return o.toggleClass("k-i-expand",!s).toggleClass("k-i-collapse",s).attr(Pt,u),a.attr("aria-expanded",p),i=l.next(),d&&!i.hasClass("k-detail-row")&&(r=t.dataItem(l),i=e(c(r)).addClass(l.hasClass("k-alt")?"k-alt":"").insertAfter(l),t.angular("compile",function(){return{elements:i.get(),data:[{dataItem:r}]}}),t.trigger(Je,{masterRow:l,detailRow:i,data:r,detailCell:i.find(".k-detail-cell")})),t.trigger(s?lt:ct,{masterRow:l,detailRow:i}),i.toggle(s),n.preventDefault(),!1})},dataItem:function(t){if(!(t=e(t)[0]))return null;var n,i,r=this.tbody.children(),o=/k-grouping-row|k-detail-row|k-group-footer/,a=t.sectionRowIndex;for(i=a,n=0;n<a;n++)o.test(r[n].className)&&i--;return this._data[i]},expandRow:function(t){e(t).find("> td .k-i-expand").click()},collapseRow:function(t){e(t).find("> td .k-i-collapse").click()},_createHeaderCells:function(e,n){var i,o,a,s,l,c,d=this,u="",p=N(d.columns);for(i=0,s=e.length;i<s;i++)o=e[i].column||e[i],a=d._headerCellText(o),l="",c=Ee(o,p),o.selectable?(u+="<th scope='col'"+r(o.headerAttributes),n&&!e[i].colSpan&&(u+=" rowspan='"+n+"'"),c>-1&&(u+=ge.attr("index")+"='"+c+"'"),a=o.headerTemplate?a:ge.template('# var checkboxGuid = kendo.guid(); #<input class="k-checkbox" data-role="checkbox" aria-label="Select all rows" aria-checked="false" type="checkbox" id="#= checkboxGuid #"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">##&\\#8203;##</label>')({}),u+=">"+a+"</th>"):o.command?(u+="<th scope='col'"+r(o.headerAttributes),n&&!e[i].colSpan&&(u+=" rowspan='"+n+"'"),c>-1&&(u+=ge.attr("index")+"='"+c+"'"),u+=">"+a+"</th>"):(o.field&&(l=ge.attr("field")+"='"+o.field+"' "),u+="<th scope='col' role='columnheader' "+l,u+=" aria-haspopup='true'",n&&!e[i].colSpan&&(u+=" rowspan='"+n+"'"),e[i].colSpan>1&&(u+='colspan="'+(e[i].colSpan-H(o.columns))+'" ',u+=ge.attr("colspan")+"='"+e[i].colSpan+"'"),o.title&&(u+=ge.attr("title")+'="'+o.title.replace('"',"&quot;").replace(/'/g,"'")+'" '),o.groupable!==t&&(u+=ge.attr("groupable")+"='"+o.groupable+"' "),o.aggregates&&o.aggregates.length&&(u+=ge.attr("aggregates")+"='"+o.aggregates+"'"),c>-1&&(u+=ge.attr("index")+"='"+c+"'"),u+=r(o.headerAttributes),u+=">"+a+"</th>");return u},_appendLockedColumnContent:function(){var t,n,i,r,o,a=this.columns,s=this.table.find("colgroup"),l=s.find("col:not(.k-group-col,.k-hierarchy-col)"),c=e(),d=0,u=0;for(t=0,n=a.length;t<n;t++)if(a[t].locked)if(f(a[t])){for(r=1,a[t].columns&&(r=N(a[t].columns).length-H(a[t].columns)),r=r||1,o=0;o<r;o++)c=c.add(l.eq(t+u+o-d));u+=r-1}else d++;i=e('<div class="k-grid-content-locked"><table'+(Wt?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>"),s.detach(),i.find("colgroup").append(c),s.insertBefore(this.table.find("tbody")),this.lockedContent=i.insertBefore(this.content),this.lockedTable=i.children("table")},_appendLockedColumnFooter:function(){var t,n,i=this,r=i.footer,o=r.find(".k-footer-template>td"),a=r.find(".k-grid-footer-wrap>table>colgroup>col"),s=e('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),l=i._groups(),c=e(),d=e();for(c=c.add(o.filter(".k-group-cell")),t=0,n=N(O(i.columns)).length;t<n;t++)c=c.add(o.eq(t+l));for(d=d.add(a.filter(".k-group-col")),t=0,n=g(N(L(i.columns))).length;t<n;t++)d=d.add(a.eq(t+l));c.appendTo(s.find("tr")),d.appendTo(s.find("colgroup")),i.lockedFooter=s.prependTo(r)},_appendLockedColumnHeader:function(t){var n,i,r,o,a,s,l,c,d,u,p=this,h=this.columns,g=[],_=0,v=e(),b=p._hasFilterRow(),k=0,w=e(),y=0,x=e(),C=p.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),S=p.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),T=p.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)"),D=0;for(n=0,r=h.length;n<r;n++){if(h[n].locked){if(s=S.eq(n),y=N(h[n].columns||[]).length,f(h[n])){for(l=null,h[n].columns&&(l=y-H(h[n].columns)),l=l||1,c=0;c<l;c++)v=v.add(C.eq(n+D+c-_));D+=l-1}for(P([h[n]],q(s),g,0,0),y=y||1,d=0;d<y;d++)w=w.add(T.eq(k+d));k+=y}h[n].columns&&(_+=H(h[n].columns)),f(h[n])||_++}if(g.length){for(i='<div class="k-grid-header-locked" style="width:1px"><table'+(Wt?' cellspacing="0"':"")+"><colgroup/><thead>",i+=Array(g.length+1).join("<tr></tr>"),(C=(a=e(i+=(b?'<tr class="k-filter-row" />':"")+"</thead></table></div>")).find("colgroup")).append(p.thead.prev().find("col.k-group-col").add(v)),o=a.find("thead tr:not(.k-filter-row)"),n=0,r=g.length;n<r;n++)x=m(g[n]),o.eq(n).append(p.thead.find("tr:eq("+n+") .k-group-cell").add(x));return u=A(this.thead),g.length<u&&M(a,u-g.length),a.find(".k-filter-row").append(p.thead.find(".k-filter-row .k-group-cell").add(w)),this.lockedHeader=a.prependTo(t),this.thead.find(".k-group-cell").remove(),!0}return!1},_removeLockedContainers:function(){var e=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);ge.destroy(e),e.off($e).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null,this.selectable=null},_thead:function(){var t,n,i,r,o,a,s,l=this,c=l.columns,d=l._hasDetails()&&c.length,u=l._hasFilterRow(),p="",h=l.table.find(">thead"),f=l.element.find("thead:first").length>0;if(h.length||(h=e("<thead/>").insertBefore(l.tbody)),l.lockedHeader&&l.thead?((n=l.thead.find("tr:has(th):not(.k-filter-row)").html("")).remove(),n=e(),l._removeLockedContainers()):n=l.element.find(f?"thead:first tr:has(th):not(.k-filter-row)":"tr:has(th):first"),!n.length&&!(n=h.children().first()).length){for(i=[{rowSpan:1,cells:[],index:0}],l._prepareColumns(i,c),t=0;t<i.length;t++)p+="<tr>",d&&(p+='<th class="k-hierarchy-cell" scope="col">'+l.options.messages.expandCollapseColumnHeader+"</th>"),p+=l._createHeaderCells(i[t].cells,i[t].rowSpan),p+="</tr>";n=e(p)}u&&((r=e("<tr/>")).addClass("k-filter-row"),(d||n.find(".k-hierarchy-cell").length)&&r.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),(o=(l.thead||h).find(".k-filter-row")).length&&(ge.destroy(o),o.remove()),h.append(r)),n.children().length?d&&!n.find(".k-hierarchy-cell")[0]&&n.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'):(p="",d&&(p+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),p+=l._createHeaderCells(c),n.html(p)),n.attr("role","row").find("th").addClass("k-header"),l.options.scrollable||h.addClass("k-grid-header"),n.find("script").remove().end().prependTo(h),l.thead&&l._destroyColumnAttachments(),this.angular("cleanup",function(){return{elements:h.find("th").get()}}),this.angular("compile",function(){return{elements:h.find("th").get(),data:De(c,function(e){return{column:e}})}}),l.thead=h.attr("role","rowgroup"),l._sortable(),l._filterable(),l._filterRow(),l._scrollable(),l._updateCols(),l._columnMenu(),(s=this.options.scrollable&&O(this.columns).length)&&(a=l._appendLockedColumnHeader(l.thead.closest(".k-grid-header")),l._appendLockedColumnContent(),l.lockedContent.bind("DOMMouseScroll"+$e+" mousewheel"+$e,Fe(l._wheelScroll,l))),l._updateColumnCellIndex(),l._updateFirstColumnClass(),l._resizable(),l._draggable(),l._reorderable(),l._updateHeader(l._groups()),s&&(a&&l._syncLockedHeaderHeight(),l._applyLockedContainersWidth()),l.groupable&&l._attachGroupable()},_retrieveFirstColumn:function(t,n){var i,r=e();if(n.length&&t[0]){for(i=t[0];i.columns&&i.columns.length;)i=i.columns[0],n=n.filter(":not(:first())");r=r.add(n)}return r},_updateFirstColumnClass:function(){var t,n,i=this,r=i.columns||[];i._hasDetails()&&r.length||i._groups()||(t=i.thead.find(">tr:not(.k-filter-row):not(:first)"),r=z(r),n=i._retrieveFirstColumn(r,t),i._isLocked()&&(t=i.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),r=O(i.columns),n=n.add(i._retrieveFirstColumn(r,t))),n.each(function(){var t=e(this).find("th");t.removeClass("k-first"),t.eq(0).addClass("k-first")}))},_prepareColumns:function(e,t,n,i){var r,o,a=i||e[e.length-1],s=e[a.index+1],l=0;for(r=0;r<t.length;r++)o={column:t[r],colSpan:0},a.cells.push(o),t[r].columns&&t[r].columns.length&&(s||(s={rowSpan:0,cells:[],index:e.length},e.push(s)),o.colSpan=t[r].columns.length,this._prepareColumns(e,t[r].columns,o,s),l+=o.colSpan-1,a.rowSpan=e.length-a.index);n&&(n.colSpan+=l)},_wheelScroll:function(e){var t,n,i;e.ctrlKey||(t=this.content,this.options.scrollable.virtual&&(t=this.virtualScrollable.verticalScrollbar),n=t.scrollTop(),(i=ge.wheelDeltaY(e))&&(t[0].scrollHeight>t[0].clientHeight&&(t[0].scrollTop<t[0].scrollHeight-t[0].clientHeight&&i<0||t[0].scrollTop>0&&i>0)&&e.preventDefault(),t.scrollTop(n+-i)))},_isLocked:function(){return null!=this.lockedHeader},_updateHeaderCols:function(){var e=this.thead.parent().add(this.table);this._isLocked()?G(e,V(R(this.columns)),this._hasDetails(),0):G(e,V(g(this.columns)),this._hasDetails(),0)},_updateCols:function(e){e=e||this.thead.parent().add(this.table),this._appendCols(e,this._isLocked())},_updateLockedCols:function(e){this._isLocked()&&(e=e||this.lockedHeader.find("table").add(this.lockedTable),G(e,V(L(this.columns)),this._hasDetails(),this._groups()))},_appendCols:function(e,t){t?G(e,V(R(this.columns)),this._hasDetails(),0):G(e,V(g(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,n,i=this;e=e.toJSON(),n=!(i.table.find("tbody tr").length>0&&(!i.dataSource||!i.dataSource.transport));for(t in e)i.columns.push({field:t,encoded:n,headerAttributes:{id:ge.guid()}});i._thead(),i._templates()}},_rowsHtml:function(e,t){var n,i,r=this,o="",a=t.rowTemplate,s=t.altRowTemplate;for(n=0,i=e.length;n<i;n++)r._skipRerenderItemsCount>0?r._skipRerenderItemsCount--:o+=n%2?s(e[n]):a(e[n]),r._data.push(e[n]);return o},_groupRowHtml:function(e,t,n,i,r,o,a){var s,l,c,d,u=this,p="",h=e.field,f=Ie(N(u.columns),function(e){return e.field==h})[0]||{},g=f.groupHeaderTemplate,m=(f.title||h)+": "+Q(e.value,f.format,f.values,f.encoded),_=u._groupAggregatesDefaultObject||{},v=e.items,b=Te({},_,e.aggregates),k=Te({},{field:e.field,value:e.value,items:v,aggregates:b},e.aggregates[e.field]),w=r.groupFooterTemplate;if(g&&(m=typeof g===Ht?g(k):ge.template(g)(k)),u._skipRerenderItemsCount?i(t,n,m):p+=i(t,n,m),e.hasSubgroups)for(s=0,l=v.length;s<l;s++)p+=u._groupRowHtml(v[s],o?t:t-1,n+1,i,r,o,a&&s===v.length-1);else p+=u._rowsHtml(v,r);if(w){c={};for(d in b)c[d]=Te({},b[d],{group:{field:e.field,value:e.value,items:v}});a?Ee(e.value,u._skippedGroups)||u._skippedGroups.push(e.value):(u._skippedGroups.length&&u._skippedGroups[0]===e.value&&u._skippedGroups.shift(),u._skipRerenderItemsCount||(p+=w(c)))}return p},collapseGroup:function(t){var n,i,r,o,a,s,l=this,c=t,d=this.options.groupable.showFooter?0:1,u=e();for(t=e(t),this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?u=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(u=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse"),t.find("td[aria-expanded='true']:first").attr("aria-expanded",!1).find("a").attr(Pt,At),s=[],r=0,o=(t=t.nextAll("tr")).length;r<o&&(a=t.eq(r),i=a.find(".k-group-cell").length,a.hasClass("k-grouping-row")?d++:a.hasClass("k-group-footer")&&d--,!(i<=n||a.hasClass("k-group-footer")&&d<0));r++)u.length&&s.push(u[r]),s.push(a[0]);e(s).hide(),this.options.scrollable.endless&&this.content&&setTimeout(function(){l.content.scroll(),l._groupToCollapse=c})},expandGroup:function(t){t=e(t);var n,i,r,o,a,s=this,l=s.options.groupable.showFooter,c=e(),d=[],u=1;for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?c=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(c=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand"),t.find("td[aria-expanded='false']:first").attr("aria-expanded",!0).find("a").attr(Pt,Ft),o=0,a=(t=t.nextAll("tr")).length;o<a&&(i=t.eq(o),!((r=i.find(".k-group-cell").length)<=n));o++)r!=n+1||i.hasClass("k-detail-row")||(i.show(),c.eq(o).show(),i.hasClass("k-grouping-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&s.expandGroup(i),i.hasClass("k-master-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&(i.next().show(),c.eq(o+1).show())),i.hasClass("k-grouping-row")&&(l&&d.push(i.is(":visible")),u++),i.hasClass("k-group-footer")&&(l&&i.toggle(d.pop()),1==u?(i.show(),c.eq(o).show()):u--);0===n&&s.options.scrollable.endless&&this._isLocked()&&s._syncLockedContentHeight()},_updateHeader:function(t){var n=this,i=n._isLocked()?n.lockedHeader.find("thead"):n.thead,r=i.find("tr.k-filter-row").find("th.k-group-cell").length,o=i.find("tr:first").find("th.k-group-cell").length,a=i.children("tr:not(:first)").filter(function(){return!e(this).children(":visible").length});t>o?(e(Array(t-o+1).join('<th class="k-group-cell k-header" scope="col">'+n.options.messages.expandCollapseColumnHeader+"</th>")).prependTo(i.children("tr:not(.k-filter-row)")),n.element.is(":visible")&&a.find("th.k-group-cell").hide()):t<o&&i.find("tr").each(function(){e(this).find("th.k-group-cell").filter(":eq("+t+"),:gt("+t+")").remove()}),t>r&&e(Array(t-r+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(i.find(".k-filter-row"))},_firstDataItem:function(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e},_updateTablesWidth:function(){var t,n=this;n._isLocked()&&(t=e(">.k-grid-footer>.k-grid-footer-wrap>table",n.wrapper).add(n.thead.parent()).add(n.table),n._footerWidth=ie(t.eq(0)),t.width(n._footerWidth),(t=e(">.k-grid-footer>.k-grid-footer-locked>table",n.wrapper).add(n.lockedHeader.find(">table")).add(n.lockedTable)).width(ie(t.eq(0))))},hideColumn:function(n){var i,r,o,a,l,c,d,u,m,_,v=this,b=0,k=v.footer||v.wrapper.find(".k-grid-footer"),w=v.columns,y=v.lockedHeader?B(v.lockedHeader.find(">table>thead")).filter(h).length:0;if((n="number"==typeof n?w[n]:Se(n)?Ie(I(w),function(e){return e===n})[0]:Ie(I(w),function(e){return e.field===n})[0])&&f(n)){if(n.columns&&n.columns.length){for(c=S(n,w),p(n,!1),J(s(e(">table>thead",v.lockedHeader),v.thead,">tr:eq("+c.row+")>th"),c.cell,!1),o=0;o<n.columns.length;o++)this.hideColumn(n.columns[o]);return v.trigger(rt,{column:n}),t}if(m=Ee(n,g(N(w))),p(n,!1),v._setParentsVisibility(n,!1),v._templates(),v._updateCols(),v._updateLockedCols(),_=v.thead,d=m,v.lockedHeader&&y>m?_=v.lockedHeader.find(">table>thead"):d-=y,i=B(_).filter(h).eq(d),i[0].style.display="none",J(s(e(">table>thead",v.lockedHeader),v.thead,">tr.k-filter-row>th"),m,!1),k[0]&&(v._updateCols(k.find(">.k-grid-footer-wrap>table")),v._updateLockedCols(k.find(">.k-grid-footer-locked>table")),J(k.find(".k-footer-template>td"),m,!1)),v.lockedTable&&y>m?X(v.lockedTable.find(">tbody>tr"),m):X(v.tbody.children(),m-y),v.lockedTable)v._updateTablesWidth(),v._applyLockedContainersWidth(),v._syncLockedContentHeight(),v._syncLockedHeaderHeight(),v._syncLockedFooterHeight();else{for(o=0,u=(a=v.thead.prev().find("col")).length;o<u;o+=1){if(!(l=a[o].style.width)||-1!=l.indexOf("%")){b=0;break}b+=parseInt(l,10)}r=e(">.k-grid-header table:first,>.k-grid-footer table:first",v.wrapper).add(v.table),v._footerWidth=null,b&&(r.each(function(){this.style.width=b+"px"}),v._footerWidth=b),Bt.msie&&8==Bt.version&&(r.css("display","inline-table"),setTimeout(function(){r.css("display","table")},1))}v._updateFirstColumnClass(),v.trigger(rt,{column:n})}},_setParentsVisibility:function(t,n){var i,r,o,a,l,c=this.columns,d=[],h=n?function(e){return g(e.columns).length&&e.hidden}:function(e){return!g(e.columns).length&&!e.hidden};if(u(t,c,d)&&d.length)for(i=d.length-1;i>=0;i--)r=d[i],o=y(r,c),a=s(e(">table>thead",this.lockedHeader),this.thead,">tr:eq("+o.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(o.cell),h(r)&&(p(r,n),a[0].style.display=n?"":"none"),a.filter("["+ge.attr("colspan")+"]").length&&(l=parseInt(a.attr(ge.attr("colspan")),10),a[0].colSpan=l-H(r.columns)||1)},showColumn:function(n){var i,r,o,a,l,c,d,u,h,g,m,_,v,b=this,k=b.columns,w=b.footer||b.wrapper.find(".k-grid-footer"),x=b.lockedHeader?B(b.lockedHeader.find(">table>thead")).length:0;if("number"==typeof n?(g=n,n=k[n]):Se(n)?e.each(I(k),function(e,t){if(t===n)return n=t,g=e,!1}):e.each(I(k),function(e,t){if(t.field===n)return n=t,g=e,!1}),n&&!f(n)){if(n.columns&&n.columns.length){for(d=y(n,k),m=I(b.options.columns)[g],p(n,!0),J(s(e(">table>thead",b.lockedHeader),b.thead,">tr:eq("+d.row+")>th"),d.cell,!0),i=0;i<n.columns.length;i++)m.columns[i].hidden||this.showColumn(n.columns[i]);return b.trigger(ot,{column:n}),t}if(_=Ee(n,N(k)),p(n,!0),b._setParentsVisibility(n,!0),b._templates(),b._updateCols(),b._updateLockedCols(),v=b.thead,c=_,b.lockedHeader&&x>_?v=b.lockedHeader.find(">table>thead"):c-=x,o=B(v).eq(c),o[0].style.display="",J(s(e(">table>thead",b.lockedHeader),b.thead,">tr.k-filter-row>th"),_,!0),w[0]&&(b._updateCols(w.find(">.k-grid-footer-wrap>table")),b._updateLockedCols(w.find(">.k-grid-footer-locked>table")),J(w.find(".k-footer-template>td"),_,!0)),b.lockedTable&&x>_?te(b.lockedTable.find(">tbody>tr"),_):te(b.tbody.children(),_-x),b.lockedTable)b._updateTablesWidth(),b._applyLockedContainersWidth(),b._syncLockedContentHeight(),b._syncLockedHeaderHeight();else if(a=e(">.k-grid-header table:first,>.k-grid-footer table:first",b.wrapper).add(b.table),n.width){for(l=0,i=0,r=(h=b.thead.prev().find("col")).length;i<r;i+=1){if((u=h[i].style.width).indexOf("%")>-1){l=0;break}l+=parseInt(u,10)}b._footerWidth=null,l&&(a.each(function(){this.style.width=l+"px"}),b._footerWidth=l)}else a.width("");b._updateFirstColumnClass(),b.trigger(ot,{column:n})}},_progress:function(e){var t=this.element,n=this.options.scrollable&&this.options.scrollable.endless;this._editContainer&&"popup"===this._editMode()?t=this._editContainer:this.lockedContent||n?t=this.wrapper:this.element.is("table")?t=this.element.parent():this.content&&this.content.length&&(t=this.content),n&&e?ge.ui.progress(t,e,{height:this.content.height(),top:this.content[0].offsetTop,opacity:!0}):ge.ui.progress(t,e)},_resize:function(e,t){this._syncLockedContentHeight(),this._syncLockedHeaderHeight(),this.content&&(this._setContentWidth(),this._setContentHeight()),this.virtualScrollable&&(t||this._rowHeight)&&(t&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar())},_isActiveInTable:function(){var t=ke();return!!t&&(this.table[0]===t||e.contains(this.table[0],t)||this._isLocked()&&(this.lockedTable[0]===t||e.contains(this.lockedTable[0],t)))},refresh:function(t){var n,i,r,o=this,a=o.dataSource.view(),s=o.options.navigatable,l=e(o.current()),c=!1,d=(o.dataSource.group()||[]).length,u=d+V(g(o.columns)).length;t&&"itemchange"===t.action&&(o.editable||o.options.scrollable.endless)||(t&&"remove"===t.action&&o.editable&&o.editable.options.model&&Ee(o.editable.options.model,t.items)>-1&&o.editable.options.model.unbind(it,o._modelChangeHandler),t=t||{},o.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})||(t.action===ft&&o._isVirtualEditable()&&(o._destroyEditable(),o._clearEditableState()),o._angularItems("cleanup"),o._endlessFetchInProgress||(s&&(o._isActiveInTable()||o._editContainer&&o._editContainer.data("kendoWindow"))&&(c=l.is("th"),n=c?l.index():Math.max(o.cellIndex(l),0)),o._destroyEditable()),o.options.scrollable&&o.options.scrollable.endless?(clearTimeout(o._progressTimeOut),o._progressTimeOut=setTimeout(function(){o._endlessFetchInProgress||o._progress(!1)},100)):o._progress(!1),o._hideResizeHandle(),o._data=[],o.columns.length||(o._autoColumns(o._firstDataItem(a[0],d)),u=d+o.columns.length),o._group=d>0||o._group,o._group&&(o._templates(),o._updateCols(),o._updateLockedCols(),o._updateHeader(d),o._group=d>0,o._groupRows=Z(a)),o.content&&(i=o.content.scrollLeft()),r=o._skipRerenderItemsCount,o._renderContent(a,u,d),o.options.scrollable&&o.options.scrollable.endless&&this.lockedContent&&(o._skipRerenderItemsCount=r),o._renderLockedContent(a,u,d),o._footer(),o._renderNoRecordsContent(),o._togglePagerVisibility(),o._setContentHeight(),o._setContentWidth(o.content&&i),o.lockedTable&&(o.options.scrollable.virtual?o.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):o.touchScroller?o.touchScroller.movable.trigger("change"):(o.wrapper.one("scroll",function(e){e.stopPropagation()}),o.content.trigger("scroll"))),o._endlessFetchInProgress||o._restoreCurrent(n,c),o.touchScroller&&o.touchScroller.contentResized(),o.selectable&&o.selectable.resetTouchEvents(),o._muteAngularRebind(function(){o._angularItems("compile")}),o._checkBoxSelection&&o._toggleHeaderCheckState(!1),o.options.persistSelection&&(o.selectable&&!ge.ui.Selectable.parseOptions(o.options.selectable).cell||o._checkBoxSelection)?o._restoreSelection():o._selectedIds={},o.trigger(st)))},_restoreCurrent:function(n,i){var r,o,a;n===t||n<0||(this._removeCurrent(),i?this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(n)):(r=0,this._rowVirtualIndex?r=this.virtualScrollable.position(this._rowVirtualIndex):n=0,o=e(),this.lockedTable&&(o=this.lockedTable.find(">tbody>tr").eq(r)),o=o.add(this.tbody.children().eq(r)),a=o.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(n),this._setCurrent(a)),this._current&&se(this._current.closest("table")[0],!0))},_restoreSelection:function(){var e,t=this,n=t.items();e=Ie(n,function(e){var n=t.dataItem(e)[t.dataSource.options.schema.model.id];if(t._selectedIds[n])return e}),t.select(e)},_angularItems:function(e){ge.ui.DataBoundWidget.fn._angularItems.call(this,e),"cleanup"===e&&this._cleanupDetailItems(),this._angularGroupItems(e),this._angularGroupFooterItems(e)},_cleanupDetailItems:function(){var e=this;e._hasDetails()&&(e.angular("cleanup",function(){return{elements:e.tbody.children(".k-detail-row")}}),e.tbody.find(".k-detail-cell").empty())},_angularGroupItems:function(t){var n=this,i=n.tbody;n.lockedContent&&(i=n.lockedTable.find("tbody")),n._group&&n.angular(t,function(){return{elements:i.children(".k-grouping-row"),data:e.map(Z(n.dataSource.view()),function(e){return{dataItem:e}})}})},_angularGroupFooterItems:function(t){var n=this,i=n.tbody;n.lockedContent&&(i=n.element),n._group&&n.groupFooterTemplate&&n.angular(t,function(){return{elements:i.find(".k-group-footer"),data:e.map(ee(n.dataSource.view()),function(e){return{dataItem:e}})}})},_renderContent:function(e,t,n){var i,r,o,a,s=this,l="",c=null!=s.lockedContent,d=null,u=s.options.scrollable,p={rowTemplate:s.rowTemplate,altRowTemplate:s.altRowTemplate,groupFooterTemplate:s.groupFooterTemplate};if(u&&u.endless&&!s.dataSource.options.endless&&(s._skipRerenderItemsCount=0,s.content&&(s.content[0].scrollTop=0)),d=s._skipRerenderItemsCount>0,t=c?t-V(L(s.columns)).length:t,n>0)for(t=c?t-n:t,s.detailTemplate&&t++,s.groupFooterTemplate&&(s._groupAggregatesDefaultObject=s.dataSource.aggregates()),s.options.scrollable.endless&&(a=s.dataSource.flatView().length),i=0,r=e.length;i<r;i++)s._skippedGroups||(s._skippedGroups=[]),o=a&&i===e.length-1&&a!==s.dataSource.total(),l+=s._groupRowHtml(e[i],t,0,c?fe:he,p,c,o);else l+=s._rowsHtml(e,p);d?(s.tbody.append(l),setTimeout(function(){s._groupToCollapse&&(s.collapseGroup(s._groupToCollapse),s._groupToCollapse=null)}),s._endlessFetchInProgress=null):s.tbody=U(s.tbody,s.table,l,this.options.$angular)},_renderLockedContent:function(e,t,n){var i,r,o,a="",s=null,l={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){if(o=this.lockedTable,s=this._skipRerenderItemsCount>0,n>0)for(t-=g(N(z(this.columns))).length,i=0,r=e.length;i<r;i++)a+=this._groupRowHtml(e[i],t,0,he,l,!1,this.options.scrollable.endless&&i===e.length-1);else a=this._rowsHtml(e,l);s?o.children("tbody").append(a):U(o.children("tbody"),o,a,this.options.$angular),this._syncLockedContentHeight()}},_togglePagerVisibility:function(){!1===this.options.pageable.alwaysVisible&&this.wrapper.find(".k-grid-pager").toggle(this.dataSource.total()>=this.dataSource.pageSize())},_adjustRowsHeight:function(e,t){var n,i,r,o,a=e[0].rows,s=a.length,l=t[0].rows,c=e.add(t),d=c.length,u=[];for(n=0;n<s&&l[n];n++)a[n].style.height&&(a[n].style.height=l[n].style.height="");for(n=0;n<s&&l[n];n++)i=a[n].offsetHeight,r=l[n].offsetHeight,o=0,i>r?o=i:i<r&&(o=r),u.push(o);for(n=0;n<d;n++)c[n].style.display="none";for(n=0;n<s;n++)u[n]&&(a[n].style.height=l[n].style.height=u[n]+1+"px");for(n=0;n<d;n++)c[n].style.display=""}});ge.ExcelMixin&&ge.ExcelMixin.extend(Gt.prototype),ge.PDFMixin&&(ge.PDFMixin.extend(Gt.prototype),Gt.prototype._drawPDF_autoPageBreak=function(n){function i(){u&&s!==t?(d.one("change",r),d.page(s)):(l.refresh(),r())}function r(){h.appendTo(document.body);var t=e.extend({},l.options.pdf,{_destructive:!0,progress:function(e){n.notify({page:e.page,pageNumber:e.pageNum,progress:.5+e.pageNum/e.totalPages/2,totalPages:e.totalPages})}});ge.drawing.drawDOM(f,t).always(function(){h.remove()}).then(function(e){c.resolve(e)}).fail(function(e){c.reject(e)})}function o(){var e=d.page(),t=u?d.totalPages():1;a.append(p.find("tr")),e<t?d.page(e+1):(d.unbind("change",o),i())}var a,s,l=this,c=new e.Deferred,d=l.dataSource,u=l.options.pdf.allPages,p=l.wrapper.find('table[role="grid"] > tbody'),h=e("<div>").css({position:"absolute",left:-1e4,top:-1e4}),f=l.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(h);return f.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"}),f.find('table[role="grid"], .k-grid-footer table').css({height:"auto",width:"100%",overflow:"visible"}),f.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove(),f.find(".k-grid-header, .k-grid-footer").css({paddingRight:0}),this._initPDFProgress(n),a=f.find('table[role="grid"] > tbody').empty(),s=d.page(),u?(d.bind("change",o),d.page(1)):o(),c.promise()},Gt.prototype._drawPDF=function(n){function i(){s&&c!==t?(a.unbind("change",r),a.one("change",function(){o.resolve(l)}),a.page(c)):o.resolve(l)}function r(){d._drawPDFShadow({width:d.wrapper.width()},{avoidLinks:d.options.pdf.avoidLinks}).done(function(e){var t=a.page(),r=s?a.totalPages():1,o={page:e,pageNumber:t,progress:t/r,totalPages:r};n.notify(o),l.append(o.page),t<r?a.page(t+1):i()}).fail(function(e){o.reject(e)})}var o,a,s,l,c,d=this;return d.options.pdf.paperSize&&"auto"!=d.options.pdf.paperSize?d._drawPDF_autoPageBreak(n):(o=new e.Deferred,a=d.dataSource,s=d.options.pdf.allPages,this._initPDFProgress(n),l=new ge.drawing.Group,c=a.page(),s?(a.bind("change",r),a.page(1)):r(),o.promise())},Gt.prototype._initPDFProgress=function(t){var n,i=e("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");i.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0})),this.wrapper.append(i),n=e("<div class='k-loading-pdf-progress'>").appendTo(i).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar"),t.progress(function(e){n.value(e.progress)}).always(function(){ge.destroy(i),i.remove()})}),me.plugin(Gt),me.plugin(jt)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()});